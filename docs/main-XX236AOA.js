var tC=Object.defineProperty,nC=Object.defineProperties;var rC=Object.getOwnPropertyDescriptors;var Lv=Object.getOwnPropertySymbols;var iC=Object.prototype.hasOwnProperty,sC=Object.prototype.propertyIsEnumerable;var Fv=(n,e,t)=>e in n?tC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U=(n,e)=>{for(var t in e||={})iC.call(e,t)&&Fv(n,t,e[t]);if(Lv)for(var t of Lv(e))sC.call(e,t)&&Fv(n,t,e[t]);return n},Ae=(n,e)=>nC(n,rC(e));var S=(n,e,t)=>new Promise((r,i)=>{var s=u=>{try{c(t.next(u))}catch(d){i(d)}},o=u=>{try{c(t.throw(u))}catch(d){i(d)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((t=t.apply(n,e)).next())});var Dd=null;var Td=1,Vv=Symbol("SIGNAL");function ye(n){let e=Dd;return Dd=n,e}function Uv(){return Dd}var bd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function oC(n){if(!(Nd(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Td)){if(!n.producerMustRecompute(n)&&!Sd(n)){n.dirty=!1,n.lastCleanEpoch=Td;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Td}}function Cd(n){return n&&(n.nextProducerIndex=0),ye(n)}function jv(n,e){if(ye(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Nd(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Rd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Sd(n){xd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(oC(t),r!==t.version))return!0}return!1}function Ad(n){if(xd(n),Nd(n))for(let e=0;e<n.producerNode.length;e++)Rd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Rd(n,e){if(aC(n),n.liveConsumerNode.length===1&&cC(n))for(let r=0;r<n.producerNode.length;r++)Rd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];xd(i),i.producerIndexOfThis[r]=e}}function Nd(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function xd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function aC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function cC(n){return n.producerNode!==void 0}function uC(){throw new Error}var lC=uC;function Bv(n){lC=n}function ee(n){return typeof n=="function"}function pi(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Qa=pi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Pr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Me=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(s){e=s instanceof Qa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{$v(s)}catch(o){e=e??[],o instanceof Qa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Qa(e)}}add(e){var t;if(e&&e!==this)if(this.closed)$v(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Pr(t,e)}remove(e){let{_finalizers:t}=this;t&&Pr(t,e),e instanceof n&&e._removeParent(this)}};Me.EMPTY=(()=>{let n=new Me;return n.closed=!0,n})();var Md=Me.EMPTY;function Ya(n){return n instanceof Me||n&&"closed"in n&&ee(n.remove)&&ee(n.add)&&ee(n.unsubscribe)}function $v(n){ee(n)?n():n.unsubscribe()}var Vt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var gi={setTimeout(n,e,...t){let{delegate:r}=gi;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=gi;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ja(n){gi.setTimeout(()=>{let{onUnhandledError:e}=Vt;if(e)e(n);else throw n})}function ro(){}var zv=Pd("C",void 0,void 0);function Hv(n){return Pd("E",void 0,n)}function qv(n){return Pd("N",n,void 0)}function Pd(n,e,t){return{kind:n,value:e,error:t}}var Or=null;function mi(n){if(Vt.useDeprecatedSynchronousErrorHandling){let e=!Or;if(e&&(Or={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Or;if(Or=null,t)throw r}}else n()}function Gv(n){Vt.useDeprecatedSynchronousErrorHandling&&Or&&(Or.errorThrown=!0,Or.error=n)}var kr=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ya(e)&&e.add(this)):this.destination=fC}static create(e,t,r){return new yi(e,t,r)}next(e){this.isStopped?kd(qv(e),this):this._next(e)}error(e){this.isStopped?kd(Hv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?kd(zv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dC=Function.prototype.bind;function Od(n,e){return dC.call(n,e)}var Ld=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Za(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Za(r)}else Za(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Za(t)}}},yi=class extends kr{constructor(e,t,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Vt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Od(e.next,s),error:e.error&&Od(e.error,s),complete:e.complete&&Od(e.complete,s)}):i=e}this.destination=new Ld(i)}};function Za(n){Vt.useDeprecatedSynchronousErrorHandling?Gv(n):Ja(n)}function hC(n){throw n}function kd(n,e){let{onStoppedNotification:t}=Vt;t&&gi.setTimeout(()=>t(n,e))}var fC={closed:!0,next:ro,error:hC,complete:ro};var vi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _t(n){return n}function Xa(...n){return Fd(n)}function Fd(n){return n.length===0?_t:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=gC(t)?t:new yi(t,r,i);return mi(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Wv(r),new r((i,s)=>{let o=new yi({next:c=>{try{t(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[vi](){return this}pipe(...t){return Fd(t)(this)}toPromise(t){return t=Wv(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Wv(n){var e;return(e=n??Vt.Promise)!==null&&e!==void 0?e:Promise}function pC(n){return n&&ee(n.next)&&ee(n.error)&&ee(n.complete)}function gC(n){return n&&n instanceof kr||pC(n)&&Ya(n)}function Vd(n){return ee(n?.lift)}function de(n){return e=>{if(Vd(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(n,e,t,r,i){return new Ud(n,e,t,r,i)}var Ud=class extends kr{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function _i(){return de((n,e)=>{let t=null;n._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ii=class extends ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Vd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;let t=this.getSubject();e.add(this.source.subscribe(he(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return _i()(this)}};var Kv=pi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ec(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Kv}next(t){mi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){mi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){mi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Md:(this.currentObservers=null,s.push(t),new Me(()=>{this.currentObservers=null,Pr(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new ue;return t.source=this,t}}return n.create=(e,t)=>new ec(e,t),n})(),ec=class extends nt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Md}};var We=class extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var jd={now(){return(jd.delegate||Date).now()},delegate:void 0};var tc=class extends Me{constructor(e,t){super()}schedule(e,t=0){return this}};var io={setInterval(n,e,...t){let{delegate:r}=io;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=io;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var wi=class extends tc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return io.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&io.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Pr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ei=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ei.now=jd.now;var Ti=class extends Ei{constructor(e,t=Ei.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Bd=new Ti(wi);var nc=class extends wi{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var rc=class extends Ti{};var $d=new rc(nc);var It=new ue(n=>n.complete());function Qv(n){return n&&ee(n.schedule)}function Yv(n){return n[n.length-1]}function Jv(n){return ee(Yv(n))?n.pop():void 0}function Qn(n){return Qv(Yv(n))?n.pop():void 0}function zd(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Xv(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(f){try{d(r.next(f))}catch(g){o(g)}}function u(f){try{d(r.throw(f))}catch(g){o(g)}}function d(f){f.done?s(f.value):i(f.value).then(c,u)}d((r=r.apply(n,e||[])).next())})}function Zv(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lr(n){return this instanceof Lr?(this.v=n,this):new Lr(n)}function e_(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(A){return Promise.resolve(A).then(I,g)}}function c(I,A){r[I]&&(i[I]=function(N){return new Promise(function(R,F){s.push([I,N,R,F])>1||u(I,N)})},A&&(i[I]=A(i[I])))}function u(I,A){try{d(r[I](A))}catch(N){_(s[0][3],N)}}function d(I){I.value instanceof Lr?Promise.resolve(I.value.v).then(f,g):_(s[0][2],I)}function f(I){u("next",I)}function g(I){u("throw",I)}function _(I,A){I(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function t_(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Zv=="function"?Zv(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(c,u){o=n[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},o)}}var ic=n=>n&&typeof n.length=="number"&&typeof n!="function";function sc(n){return ee(n?.then)}function oc(n){return ee(n[vi])}function ac(n){return Symbol.asyncIterator&&ee(n?.[Symbol.asyncIterator])}function cc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function mC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var uc=mC();function lc(n){return ee(n?.[uc])}function dc(n){return e_(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Lr(t.read());if(i)return yield Lr(void 0);yield yield Lr(r)}}finally{t.releaseLock()}})}function hc(n){return ee(n?.getReader)}function ze(n){if(n instanceof ue)return n;if(n!=null){if(oc(n))return yC(n);if(ic(n))return vC(n);if(sc(n))return _C(n);if(ac(n))return n_(n);if(lc(n))return IC(n);if(hc(n))return wC(n)}throw cc(n)}function yC(n){return new ue(e=>{let t=n[vi]();if(ee(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function vC(n){return new ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function _C(n){return new ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ja)})}function IC(n){return new ue(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function n_(n){return new ue(e=>{EC(n,e).catch(t=>e.error(t))})}function wC(n){return n_(dc(n))}function EC(n,e){var t,r,i,s;return Xv(this,void 0,void 0,function*(){try{for(t=t_(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function dt(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Yn(n,e=0){return de((t,r)=>{t.subscribe(he(r,i=>dt(r,n,()=>r.next(i),e),()=>dt(r,n,()=>r.complete(),e),i=>dt(r,n,()=>r.error(i),e)))})}function Jn(n,e=0){return de((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function r_(n,e){return ze(n).pipe(Jn(e),Yn(e))}function i_(n,e){return ze(n).pipe(Jn(e),Yn(e))}function s_(n,e){return new ue(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function o_(n,e){return new ue(t=>{let r;return dt(t,e,()=>{r=n[uc](),dt(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function fc(n,e){if(!n)throw new Error("Iterable cannot be null");return new ue(t=>{dt(t,e,()=>{let r=n[Symbol.asyncIterator]();dt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function a_(n,e){return fc(dc(n),e)}function c_(n,e){if(n!=null){if(oc(n))return r_(n,e);if(ic(n))return s_(n,e);if(sc(n))return i_(n,e);if(ac(n))return fc(n,e);if(lc(n))return o_(n,e);if(hc(n))return a_(n,e)}throw cc(n)}function Ne(n,e){return e?c_(n,e):ze(n)}function Y(...n){let e=Qn(n);return Ne(n,e)}function Di(n,e){let t=ee(n)?n:()=>n,r=i=>i.error(t());return new ue(e?i=>e.schedule(r,0,i):r)}function Hd(n){return!!n&&(n instanceof ue||ee(n.lift)&&ee(n.subscribe))}var Tn=pi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(n,e){return de((t,r)=>{let i=0;t.subscribe(he(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:TC}=Array;function DC(n,e){return TC(e)?n(...e):n(e)}function u_(n){return Z(e=>DC(n,e))}var{isArray:bC}=Array,{getPrototypeOf:CC,prototype:SC,keys:AC}=Object;function l_(n){if(n.length===1){let e=n[0];if(bC(e))return{args:e,keys:null};if(RC(e)){let t=AC(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function RC(n){return n&&typeof n=="object"&&CC(n)===SC}function d_(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function pc(...n){let e=Qn(n),t=Jv(n),{args:r,keys:i}=l_(n);if(r.length===0)return Ne([],e);let s=new ue(NC(r,e,i?o=>d_(i,o):_t));return t?s.pipe(u_(t)):s}function NC(n,e,t=_t){return r=>{h_(e,()=>{let{length:i}=n,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)h_(e,()=>{let d=Ne(n[u],e),f=!1;d.subscribe(he(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function h_(n,e,t){n?dt(t,n,e):e()}function f_(n,e,t,r,i,s,o,c){let u=[],d=0,f=0,g=!1,_=()=>{g&&!u.length&&!d&&e.complete()},I=N=>d<r?A(N):u.push(N),A=N=>{s&&e.next(N),d++;let R=!1;ze(t(N,f++)).subscribe(he(e,F=>{i?.(F),s?I(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(d--;u.length&&d<r;){let F=u.shift();o?dt(e,o,()=>A(F)):A(F)}_()}catch(F){e.error(F)}}))};return n.subscribe(he(e,I,()=>{g=!0,_()})),()=>{c?.()}}function Be(n,e,t=1/0){return ee(e)?Be((r,i)=>Z((s,o)=>e(r,s,i,o))(ze(n(r,i))),t):(typeof e=="number"&&(t=e),de((r,i)=>f_(r,i,n,t)))}function bi(n=1/0){return Be(_t,n)}function p_(){return bi(1)}function Ci(...n){return p_()(Ne(n,Qn(n)))}function gc(n){return new ue(e=>{ze(n()).subscribe(e)})}function ht(n,e){return de((t,r)=>{let i=0;t.subscribe(he(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Zn(n){return de((e,t)=>{let r=null,i=!1,s;r=e.subscribe(he(t,void 0,void 0,o=>{s=ze(n(o,Zn(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function g_(n,e,t,r,i){return(s,o)=>{let c=t,u=e,d=0;s.subscribe(he(o,f=>{let g=d++;u=c?n(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Xn(n,e){return ee(e)?Be(n,e,1):Be(n,1)}function er(n){return de((e,t)=>{let r=!1;e.subscribe(he(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Dn(n){return n<=0?()=>It:de((e,t)=>{let r=0;e.subscribe(he(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function qd(n){return Z(()=>n)}function mc(n=xC){return de((e,t)=>{let r=!1;e.subscribe(he(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function xC(){return new Tn}function Fr(n){return de((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Jt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ht((i,s)=>n(i,s,r)):_t,Dn(1),t?er(e):mc(()=>new Tn))}function Si(n){return n<=0?()=>It:de((e,t)=>{let r=[];e.subscribe(he(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Gd(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ht((i,s)=>n(i,s,r)):_t,Si(1),t?er(e):mc(()=>new Tn))}function yc(n,e){return de(g_(n,e,arguments.length>=2,!0))}function vc(...n){let e=Qn(n);return de((t,r)=>{(e?Ci(n,t,e):Ci(n,t)).subscribe(r)})}function wt(n,e){return de((t,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();t.subscribe(he(r,u=>{i?.unsubscribe();let d=0,f=s++;ze(n(u,f)).subscribe(i=he(r,g=>r.next(e?e(u,g,f,d++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Wd(n){return de((e,t)=>{ze(n).subscribe(he(t,()=>t.complete(),ro)),!t.closed&&e.subscribe(t)})}function Ve(n,e,t){let r=ee(n)||e||t?{next:n,error:e,complete:t}:n;return r?de((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(he(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;c=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):_t}var tI="https://g.co/ng/security#xss",z=class extends Error{constructor(e,t){super(Qc(e,t)),this.code=e}};function Qc(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function mo(n){return{toString:n}.toString()}var _c="__parameters__";function MC(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function nI(n,e,t){return mo(()=>{let r=MC(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,d,f){let g=u.hasOwnProperty(_c)?u[_c]:Object.defineProperty(u,_c,{value:[]})[_c];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var nh=globalThis;function be(n){for(let e in n)if(n[e]===be)return e;throw Error("Could not find renamed property on target object.")}function ft(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(ft).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function m_(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var PC=be({__forward_ref__:be});function rI(n){return n.__forward_ref__=rI,n.toString=function(){return ft(this())},n}function At(n){return iI(n)?n():n}function iI(n){return typeof n=="function"&&n.hasOwnProperty(PC)&&n.__forward_ref__===rI}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function yo(n){return{providers:n.providers||[],imports:n.imports||[]}}function Yc(n){return y_(n,oI)||y_(n,aI)}function sI(n){return Yc(n)!==null}function y_(n,e){return n.hasOwnProperty(e)?n[e]:null}function OC(n){let e=n&&(n[oI]||n[aI]);return e||null}function v_(n){return n&&(n.hasOwnProperty(__)||n.hasOwnProperty(kC))?n[__]:null}var oI=be({\u0275prov:be}),__=be({\u0275inj:be}),aI=be({ngInjectableDef:be}),kC=be({ngInjectorDef:be}),q=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function cI(n){return n&&!!n.\u0275providers}var LC=be({\u0275cmp:be}),FC=be({\u0275dir:be}),VC=be({\u0275pipe:be}),UC=be({\u0275mod:be}),Ac=be({\u0275fac:be}),ao=be({__NG_ELEMENT_ID__:be}),I_=be({__NG_ENV_ID__:be});function Jc(n){return typeof n=="string"?n:n==null?"":String(n)}function jC(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Jc(n)}function BC(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new z(-200,n)}function Jh(n,e){throw new z(-201,!1)}var se=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(se||{}),rh;function uI(){return rh}function St(n){let e=rh;return rh=n,e}function lI(n,e,t){let r=Yc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&se.Optional)return null;if(e!==void 0)return e;Jh(n,"Injector")}var $C={},co=$C,ih="__NG_DI_FLAG__",Rc="ngTempTokenPath",zC="ngTokenPath",HC=/\n/gm,qC="\u0275",w_="__source",xi;function GC(){return xi}function tr(n){let e=xi;return xi=n,e}function WC(n,e=se.Default){if(xi===void 0)throw new z(-203,!1);return xi===null?lI(n,void 0,e):xi.get(n,e&se.Optional?null:void 0,e)}function G(n,e=se.Default){return(uI()||WC)(At(n),e)}function O(n,e=se.Default){return G(n,Zc(e))}function Zc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function sh(n){let e=[];for(let t=0;t<n.length;t++){let r=At(n[t]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,s=se.Default;for(let o=0;o<r.length;o++){let c=r[o],u=KC(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(G(i,s))}else e.push(G(r))}return e}function dI(n,e){return n[ih]=e,n.prototype[ih]=e,n}function KC(n){return n[ih]}function QC(n,e,t,r){let i=n[Rc];throw e[w_]&&i.unshift(e[w_]),n.message=YC(`
`+n.message,i,t,r),n[zC]=i,n[Rc]=null,n}function YC(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==qC?n.slice(2):n;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):ft(c)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(HC,`
  `)}`}var Nt=dI(nI("Optional"),8);var Zh=dI(nI("SkipSelf"),4);function Pi(n,e){let t=n.hasOwnProperty(Ac);return t?n[Ac]:null}function JC(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function ZC(n){return n.flat(Number.POSITIVE_INFINITY)}function Xh(n,e){n.forEach(t=>Array.isArray(t)?Xh(t,e):e(t))}function hI(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Nc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var uo={},Zt=[],Oi=new q(""),fI=new q("",-1),pI=new q(""),xc=class{get(e,t=co){if(t===co){let r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return t}},gI=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(gI||{}),tn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(tn||{}),ir=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ir||{});function XC(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function oh(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],c=t[r++];n.setAttribute(e,o,c,s)}else{let s=i,o=t[++r];eS(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function mI(n){return n===3||n===4||n===6}function eS(n){return n.charCodeAt(0)===64}function ef(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?E_(n,t,i,null,e[++r]):E_(n,t,i,null,null))}}return n}function E_(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let c=n[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<n.length;){let c=n[s];if(typeof c=="number")break;if(c===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var yI="ng-template";function tS(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&XC(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(tf(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function tf(n){return n.type===4&&n.value!==yI}function nS(n,e,t){let r=n.type===4&&!t?yI:n.value;return e===r}function rS(n,e,t){let r=4,i=n.attrs,s=i!==null?oS(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Ut(r)&&!Ut(u))return!1;if(o&&Ut(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!nS(n,u,t)||u===""&&e.length===1){if(Ut(r))return!1;o=!0}}else if(r&8){if(i===null||!tS(n,i,u,t)){if(Ut(r))return!1;o=!0}}else{let d=e[++c],f=iS(u,i,tf(n),t);if(f===-1){if(Ut(r))return!1;o=!0;continue}if(d!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&d!==g){if(Ut(r))return!1;o=!0}}}}return Ut(r)||o}function Ut(n){return(n&1)===0}function iS(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return aS(e,n)}function sS(n,e,t=!1){for(let r=0;r<e.length;r++)if(rS(n,e[r],t))return!0;return!1}function oS(n){for(let e=0;e<n.length;e++){let t=n[e];if(mI(t))return e}return n.length}function aS(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function T_(n,e){return n?":not("+e.trim()+")":e}function cS(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let c=n[++t];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Ut(o)&&(e+=T_(s,i),i=""),r=o,s=s||!Ut(r);t++}return i!==""&&(e+=T_(s,i)),e}function uS(n){return n.map(cS).join(",")}function lS(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Ut(i))break;i=s}r++}return{attrs:e,classes:t}}function it(n){return mo(()=>{let e=EI(n),t=Ae(U({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===gI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||tn.Emulated,styles:n.styles||Zt,_:null,schemas:n.schemas||null,tView:null,id:""});TI(t);let r=n.dependencies;return t.directiveDefs=b_(r,!1),t.pipeDefs=b_(r,!0),t.id=fS(t),t})}function dS(n){return Ur(n)||vI(n)}function hS(n){return n!==null}function vo(n){return mo(()=>({type:n.type,bootstrap:n.bootstrap||Zt,declarations:n.declarations||Zt,imports:n.imports||Zt,exports:n.exports||Zt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function D_(n,e){if(n==null)return uo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,c=ir.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=c!==ir.None?[r,c]:r,e[s]=o):t[s]=r}return t}function ar(n){return mo(()=>{let e=EI(n);return TI(e),e})}function Ur(n){return n[LC]||null}function vI(n){return n[FC]||null}function _I(n){return n[VC]||null}function II(n){let e=Ur(n)||vI(n)||_I(n);return e!==null?e.standalone:!1}function wI(n,e){let t=n[UC]||null;if(!t&&e===!0)throw new Error(`Type ${ft(n)} does not have '\u0275mod' property.`);return t}function EI(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||uo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Zt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:D_(n.inputs,e),outputs:D_(n.outputs),debugInfo:null}}function TI(n){n.features?.forEach(e=>e(n))}function b_(n,e){if(!n)return null;let t=e?_I:dS;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(hS)}function fS(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function on(n){return{\u0275providers:n}}function pS(...n){return{\u0275providers:DI(!0,n),\u0275fromNgModule:!0}}function DI(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return Xh(e,o=>{let c=o;ah(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&bI(i,s),t}function bI(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];nf(i,s=>{e(s,r)})}}function ah(n,e,t,r){if(n=At(n),!n)return!1;let i=null,s=v_(n),o=!s&&Ur(n);if(!s&&!o){let u=n.ngModule;if(s=v_(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=n}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)ah(d,e,t,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let d;try{Xh(s.imports,f=>{ah(f,e,t,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&bI(d,e)}if(!c){let d=Pi(i)||(()=>new i);e({provide:i,useFactory:d,deps:Zt},i),e({provide:pI,useValue:i,multi:!0},i),e({provide:Oi,useValue:()=>G(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let d=n;nf(u,f=>{e(f,d)})}}else return!1;return i!==n&&n.providers!==void 0}function nf(n,e){for(let t of n)cI(t)&&(t=t.\u0275providers),Array.isArray(t)?nf(t,e):e(t)}var gS=be({provide:String,useValue:be});function CI(n){return n!==null&&typeof n=="object"&&gS in n}function mS(n){return!!(n&&n.useExisting)}function yS(n){return!!(n&&n.useFactory)}function ch(n){return typeof n=="function"}var Xc=new q(""),Ec={},vS={},Kd;function rf(){return Kd===void 0&&(Kd=new xc),Kd}var pt=class{},lo=class extends pt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lh(e,o=>this.processProvider(o)),this.records.set(fI,Ai(void 0,this)),i.has("environment")&&this.records.set(pt,Ai(void 0,this));let s=this.records.get(Xc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(pI,Zt,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=tr(this),r=St(void 0),i;try{return e()}finally{tr(t),St(r)}}get(e,t=co,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(I_))return e[I_](this);r=Zc(r);let i,s=tr(this),o=St(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=DS(e)&&Yc(e);d&&this.injectableDefInScope(d)?u=Ai(uh(e),Ec):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&se.Self?rf():this.parent;return t=r&se.Optional&&t===co?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[Rc]=c[Rc]||[]).unshift(ft(e)),s)throw c;return QC(c,e,"R3InjectorError",this.source)}else throw c}finally{St(o),tr(s)}}resolveInjectorInitializers(){let e=ye(null),t=tr(this),r=St(void 0),i;try{let s=this.get(Oi,Zt,se.Self);for(let o of s)o()}finally{tr(t),St(r),ye(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){e=At(e);let t=ch(e)?e:At(e&&e.provide),r=IS(e);if(!ch(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ai(void 0,Ec,!0),i.factory=()=>sh(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ye(null);try{return t.value===Ec&&(t.value=vS,t.value=t.factory()),typeof t.value=="object"&&t.value&&TS(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=At(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function uh(n){let e=Yc(n),t=e!==null?e.factory:Pi(n);if(t!==null)return t;if(n instanceof q)throw new z(204,!1);if(n instanceof Function)return _S(n);throw new z(204,!1)}function _S(n){if(n.length>0)throw new z(204,!1);let t=OC(n);return t!==null?()=>t.factory(n):()=>new n}function IS(n){if(CI(n))return Ai(void 0,n.useValue);{let e=wS(n);return Ai(e,Ec)}}function wS(n,e,t){let r;if(ch(n)){let i=At(n);return Pi(i)||uh(i)}else if(CI(n))r=()=>At(n.useValue);else if(yS(n))r=()=>n.useFactory(...sh(n.deps||[]));else if(mS(n))r=()=>G(At(n.useExisting));else{let i=At(n&&(n.useClass||n.provide));if(ES(n))r=()=>new i(...sh(n.deps));else return Pi(i)||uh(i)}return r}function Ai(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ES(n){return!!n.deps}function TS(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function DS(n){return typeof n=="function"||typeof n=="object"&&n instanceof q}function lh(n,e){for(let t of n)Array.isArray(t)?lh(t,e):t&&cI(t)?lh(t.\u0275providers,e):e(t)}function zt(n,e){n instanceof lo&&n.assertNotDestroyed();let t,r=tr(n),i=St(void 0);try{return e()}finally{tr(r),St(i)}}function bS(){return uI()!==void 0||GC()!=null}function CS(n){return typeof n=="function"}var An=0,oe=1,J=2,rt=3,jt=4,Ht=5,Mc=6,Pc=7,Bt=8,ki=9,nn=10,Qe=11,ho=12,C_=13,Bi=14,rn=15,jr=16,Ri=17,bn=18,eu=19,SI=20,nr=21,Qd=22,Rt=23,Cn=25,AI=1;var Br=7,Oc=8,Li=9,Et=10,kc=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(kc||{});function rr(n){return Array.isArray(n)&&typeof n[AI]=="object"}function Rn(n){return Array.isArray(n)&&n[AI]===!0}function RI(n){return(n.flags&4)!==0}function tu(n){return n.componentOffset>-1}function sf(n){return(n.flags&1)===1}function _o(n){return!!n.template}function dh(n){return(n[J]&512)!==0}var hh=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function NI(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function $i(){return xI}function xI(n){return n.type.prototype.ngOnChanges&&(n.setInput=AS),SS}$i.ngInherit=!0;function SS(){let n=PI(this),e=n?.current;if(e){let t=n.previous;if(t===uo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function AS(n,e,t,r,i){let s=this.declaredInputs[r],o=PI(n)||RS(n,{previous:uo,current:null}),c=o.current||(o.current={}),u=o.previous,d=u[s];c[s]=new hh(d&&d.currentValue,t,u===uo),NI(n,e,i,t)}var MI="__ngSimpleChanges__";function PI(n){return n[MI]||null}function RS(n,e){return n[MI]=e}var S_=null;var Xt=function(n,e,t){S_?.(n,e,t)},OI="svg",NS="math";function sn(n){for(;Array.isArray(n);)n=n[An];return n}function xS(n,e){return sn(e[n])}function xt(n,e){return sn(e[n.index])}function kI(n,e){return n.data[e]}function MS(n,e){return n[e]}function cr(n,e){let t=e[n];return rr(t)?t:t[An]}function PS(n){return(n[J]&4)===4}function of(n){return(n[J]&128)===128}function OS(n){return Rn(n[rt])}function Lc(n,e){return e==null?null:n[e]}function LI(n){n[Ri]=0}function FI(n){n[J]&1024||(n[J]|=1024,of(n)&&ru(n))}function kS(n,e){for(;n>0;)e=e[Bi],n--;return e}function nu(n){return!!(n[J]&9216||n[Rt]?.dirty)}function fh(n){n[nn].changeDetectionScheduler?.notify(8),n[J]&64&&(n[J]|=1024),nu(n)&&ru(n)}function ru(n){n[nn].changeDetectionScheduler?.notify(0);let e=$r(n);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!of(e)));)e=$r(e)}function VI(n,e){if((n[J]&256)===256)throw new z(911,!1);n[nr]===null&&(n[nr]=[]),n[nr].push(e)}function LS(n,e){if(n[nr]===null)return;let t=n[nr].indexOf(e);t!==-1&&n[nr].splice(t,1)}function $r(n){let e=n[rt];return Rn(e)?e[rt]:e}var ae={lFrame:QI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var UI=!1;function FS(){return ae.lFrame.elementDepthCount}function VS(){ae.lFrame.elementDepthCount++}function US(){ae.lFrame.elementDepthCount--}function jI(){return ae.bindingsEnabled}function jS(){return ae.skipHydrationRootTNode!==null}function BS(n){return ae.skipHydrationRootTNode===n}function $S(){ae.skipHydrationRootTNode=null}function Ce(){return ae.lFrame.lView}function qt(){return ae.lFrame.tView}function BI(n){return ae.lFrame.contextLView=n,n[Bt]}function $I(n){return ae.lFrame.contextLView=null,n}function gt(){let n=zI();for(;n!==null&&n.type===64;)n=n.parent;return n}function zI(){return ae.lFrame.currentTNode}function zS(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Io(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function HI(){return ae.lFrame.isParent}function HS(){ae.lFrame.isParent=!1}function qS(){return ae.lFrame.contextLView}function qI(){return UI}function A_(n){UI=n}function GS(){let n=ae.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function WS(n){return ae.lFrame.bindingIndex=n}function af(){return ae.lFrame.bindingIndex++}function KS(){return ae.lFrame.inI18n}function QS(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,ph(e)}function YS(){return ae.lFrame.currentDirectiveIndex}function ph(n){ae.lFrame.currentDirectiveIndex=n}function GI(){return ae.lFrame.currentQueryIndex}function cf(n){ae.lFrame.currentQueryIndex=n}function JS(n){let e=n[oe];return e.type===2?e.declTNode:e.type===1?n[Ht]:null}function WI(n,e,t){if(t&se.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&se.Host);)if(i=JS(s),i===null||(s=s[Bi],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=ae.lFrame=KI();return r.currentTNode=e,r.lView=n,!0}function uf(n){let e=KI(),t=n[oe];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function KI(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?QI(n):e}function QI(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function YI(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var JI=YI;function lf(){let n=YI();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ZS(n){return(ae.lFrame.contextLView=kS(n,ae.lFrame.contextLView))[Bt]}function df(){return ae.lFrame.selectedIndex}function zr(n){ae.lFrame.selectedIndex=n}function hf(){let n=ae.lFrame;return kI(n.tView,n.selectedIndex)}function Mt(){ae.lFrame.currentNamespace=OI}function Nn(){XS()}function XS(){ae.lFrame.currentNamespace=null}function eA(){return ae.lFrame.currentNamespace}var ZI=!0;function ff(){return ZI}function pf(n){ZI=n}function tA(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=xI(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function gf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=s;o&&(n.contentHooks??=[]).push(-t,o),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function Tc(n,e,t){XI(n,e,3,t)}function Dc(n,e,t,r){(n[J]&3)===t&&XI(n,e,t,r)}function Yd(n,e){let t=n[J];(t&3)===e&&(t&=16383,t+=1,n[J]=t)}function XI(n,e,t,r){let i=r!==void 0?n[Ri]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[Ri]+=65536),(c<s||s==-1)&&(nA(n,t,e,u),n[Ri]=(n[Ri]&4294901760)+u+2),u++}function R_(n,e){Xt(4,n,e);let t=ye(null);try{e.call(n)}finally{ye(t),Xt(5,n,e)}}function nA(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],c=n[o];i?n[J]>>14<n[Ri]>>16&&(n[J]&3)===e&&(n[J]+=16384,R_(c,s)):R_(c,s)}var Mi=-1,fo=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function rA(n){return n instanceof fo}function iA(n){return(n.flags&8)!==0}function sA(n){return(n.flags&16)!==0}var Jd={},gh=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Zc(r);let i=this.injector.get(e,Jd,r);return i!==Jd||t===Jd?i:this.parentInjector.get(e,t,r)}};function ew(n){return n!==Mi}function Fc(n){return n&32767}function oA(n){return n>>16}function Vc(n,e){let t=oA(n),r=e;for(;t>0;)r=r[Bi],t--;return r}var mh=!0;function N_(n){let e=mh;return mh=n,e}var aA=256,tw=aA-1,nw=5,cA=0,en={};function uA(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ao)&&(r=t[ao]),r==null&&(r=t[ao]=cA++);let i=r&tw,s=1<<i;e.data[n+(i>>nw)]|=s}function rw(n,e){let t=iw(n,e);if(t!==-1)return t;let r=e[oe];r.firstCreatePass&&(n.injectorIndex=e.length,Zd(r.data,n),Zd(e,null),Zd(r.blueprint,null));let i=mf(n,e),s=n.injectorIndex;if(ew(i)){let o=Fc(i),c=Vc(i,e),u=c[oe].data;for(let d=0;d<8;d++)e[s+d]=c[o+d]|u[o+d]}return e[s+8]=i,s}function Zd(n,e){n.push(0,0,0,0,0,0,0,0,e)}function iw(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function mf(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=uw(i),r===null)return Mi;if(t++,i=i[Bi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Mi}function lA(n,e,t){uA(n,e,t)}function dA(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(mI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function sw(n,e,t){if(t&se.Optional||n!==void 0)return n;Jh(e,"NodeInjector")}function ow(n,e,t,r){if(t&se.Optional&&r===void 0&&(r=null),!(t&(se.Self|se.Host))){let i=n[ki],s=St(void 0);try{return i?i.get(e,r,t&se.Optional):lI(e,r,t&se.Optional)}finally{St(s)}}return sw(r,e,t)}function aw(n,e,t,r=se.Default,i){if(n!==null){if(e[J]&2048&&!(r&se.Self)){let o=gA(n,e,t,r,en);if(o!==en)return o}let s=cw(n,e,t,r,en);if(s!==en)return s}return ow(e,t,r,i)}function cw(n,e,t,r,i){let s=fA(t);if(typeof s=="function"){if(!WI(e,n,r))return r&se.Host?sw(i,t,r):ow(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&se.Optional))Jh(t);else return o}finally{JI()}}else if(typeof s=="number"){let o=null,c=iw(n,e),u=Mi,d=r&se.Host?e[rn][Ht]:null;for((c===-1||r&se.SkipSelf)&&(u=c===-1?mf(n,e):e[c+8],u===Mi||!M_(r,!1)?c=-1:(o=e[oe],c=Fc(u),e=Vc(u,e)));c!==-1;){let f=e[oe];if(x_(s,c,f.data)){let g=hA(c,e,t,o,r,d);if(g!==en)return g}u=e[c+8],u!==Mi&&M_(r,e[oe].data[c+8]===d)&&x_(s,c,e)?(o=f,c=Fc(u),e=Vc(u,e)):c=-1}}return i}function hA(n,e,t,r,i,s){let o=e[oe],c=o.data[n+8],u=r==null?tu(c)&&mh:r!=o&&(c.type&3)!==0,d=i&se.Host&&s===c,f=bc(c,o,t,u,d);return f!==null?Fi(e,o,f,c):en}function bc(n,e,t,r,i){let s=n.providerIndexes,o=e.data,c=s&1048575,u=n.directiveStart,d=n.directiveEnd,f=s>>20,g=r?c:c+f,_=i?c+f:d;for(let I=g;I<_;I++){let A=o[I];if(I<u&&t===A||I>=u&&A.type===t)return I}if(i){let I=o[u];if(I&&_o(I)&&I.type===t)return u}return null}function Fi(n,e,t,r){let i=n[t],s=e.data;if(rA(i)){let o=i;o.resolving&&BC(jC(s[t]));let c=N_(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?St(o.injectImpl):null,f=WI(n,r,se.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&tA(t,s[t],e)}finally{d!==null&&St(d),N_(c),o.resolving=!1,JI()}}return i}function fA(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ao)?n[ao]:void 0;return typeof e=="number"?e>=0?e&tw:pA:e}function x_(n,e,t){let r=1<<n;return!!(t[e+(n>>nw)]&r)}function M_(n,e){return!(n&se.Self)&&!(n&se.Host&&e)}var Vr=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return aw(this._tNode,this._lView,e,Zc(r),t)}};function pA(){return new Vr(gt(),Ce())}function yf(n){return mo(()=>{let e=n.prototype.constructor,t=e[Ac]||yh(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Ac]||yh(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function yh(n){return iI(n)?()=>{let e=yh(At(n));return e&&e()}:Pi(n)}function gA(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[J]&2048&&!(o[J]&512);){let c=cw(s,o,t,r|se.Self,en);if(c!==en)return c;let u=s.parent;if(!u){let d=o[SI];if(d){let f=d.get(t,en,r);if(f!==en)return f}u=uw(o),o=o[Bi]}s=u}return i}function uw(n){let e=n[oe],t=e.type;return t===2?e.declTNode:t===1?n[Ht]:null}function vf(n){return dA(gt(),n)}function P_(n,e=null,t=null,r){let i=lw(n,e,t,r);return i.resolveInjectorInitializers(),i}function lw(n,e=null,t=null,r,i=new Set){let s=[t||Zt,pS(n)];return r=r||(typeof n=="object"?void 0:ft(n)),new lo(s,e||rf(),r||null,i)}var $t=class n{static{this.THROW_IF_NOT_FOUND=co}static{this.NULL=new xc}static create(e,t){if(Array.isArray(e))return P_({name:""},t,e,"");{let r=e.name??"";return P_({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=B({token:n,providedIn:"any",factory:()=>G(fI)})}static{this.__NG_ELEMENT_ID__=-1}};var mA=new q("");mA.__NG_ELEMENT_ID__=n=>{let e=gt();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(n&se.Optional)return null;throw new z(204,!1)};var yA="ngOriginalError";function Xd(n){return n[yA]}var dw=!0,hw=(()=>{class n{static{this.__NG_ELEMENT_ID__=vA}static{this.__NG_ENV_ID__=t=>t}}return n})(),vh=class extends hw{constructor(e){super(),this._lView=e}onDestroy(e){return VI(this._lView,e),()=>LS(this._lView,e)}};function vA(){return new vh(Ce())}var ur=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new We(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}}return n})();var _h=class extends nt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,bS()&&(this.destroyRef=O(hw,{optional:!0})??void 0,this.pendingTasks=O(ur,{optional:!0})??void 0)}emit(e){let t=ye(null);try{super.next(e)}finally{ye(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Me&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ke=_h;function Uc(...n){}function fw(n){let e,t;function r(){n=Uc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function O_(n){return queueMicrotask(()=>n()),()=>{n=Uc}}var _f="isAngularZone",jc=_f+"_ID",_A=0,Te=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=dw}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,EA(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(_f)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new z(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,IA,Uc,Uc);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},IA={};function If(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wA(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){fw(()=>{n.callbackScheduled=!1,Ih(n),n.isCheckStableRunning=!0,If(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Ih(n)}function EA(n){let e=()=>{wA(n)},t=_A++;n._inner=n._inner.fork({name:"angular",properties:{[_f]:!0,[jc]:t,[jc+t]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(TA(u))return r.invokeTask(s,o,c,u);try{return k_(n),r.invokeTask(s,o,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),L_(n)}},onInvoke:(r,i,s,o,c,u,d)=>{try{return k_(n),r.invoke(s,o,c,u,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!DA(u)&&e(),L_(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Ih(n),If(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Ih(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function k_(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function L_(n){n._nesting--,If(n)}var wh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function TA(n){return pw(n,"__ignore_ng_zone__")}function DA(n){return pw(n,"__scheduler_tick__")}function pw(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Sn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Xd(e);for(;t&&Xd(t);)t=Xd(t);return t||null}},bA=new q("",{providedIn:"root",factory:()=>{let n=O(Te),e=O(Sn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function CA(){return zi(gt(),Ce())}function zi(n,e){return new an(xt(n,e))}var an=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=CA}}return n})();function SA(n){return n instanceof an?n.nativeElement:n}function AA(){return this._results[Symbol.iterator]()}var Eh=class n{get changes(){return this._changes??=new Ke}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=AA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=ZC(e);(this._changesDetected=!JC(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function gw(n){return(n.flags&128)===128}var mw=new Map,RA=0;function NA(){return RA++}function xA(n){mw.set(n[eu],n)}function Th(n){mw.delete(n[eu])}var F_="__ngContext__";function Hr(n,e){rr(e)?(n[F_]=e[eu],xA(e)):n[F_]=e}function yw(n){return _w(n[ho])}function vw(n){return _w(n[jt])}function _w(n){for(;n!==null&&!Rn(n);)n=n[jt];return n}var Dh;function Iw(n){Dh=n}function MA(){if(Dh!==void 0)return Dh;if(typeof document<"u")return document;throw new z(210,!1)}var wf=new q("",{providedIn:"root",factory:()=>PA}),PA="ng",Ef=new q(""),cn=new q("",{providedIn:"platform",factory:()=>"unknown"});var Tf=new q("",{providedIn:"root",factory:()=>MA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var OA="h",kA="b";var LA=()=>null;function Df(n,e,t=!1){return LA(n,e,t)}var ww=!1,FA=new q("",{providedIn:"root",factory:()=>ww});var Ic;function VA(){if(Ic===void 0&&(Ic=null,nh.trustedTypes))try{Ic=nh.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ic}function V_(n){return VA()?.createScriptURL(n)||n}var Bc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tI})`}};function iu(n){return n instanceof Bc?n.changingThisBreaksApplicationSecurity:n}function bf(n,e){let t=UA(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${tI})`)}return t===e}function UA(n){return n instanceof Bc&&n.getTypeName()||null}var jA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ew(n){return n=String(n),n.match(jA)?n:"unsafe:"+n}var su=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(su||{});function Ye(n){let e=Dw();return e?e.sanitize(su.URL,n)||"":bf(n,"URL")?iu(n):Ew(Jc(n))}function BA(n){let e=Dw();if(e)return V_(e.sanitize(su.RESOURCE_URL,n)||"");if(bf(n,"ResourceURL"))return V_(iu(n));throw new z(904,!1)}function $A(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?BA:Ye}function Tw(n,e,t){return $A(e,t)(n)}function Dw(){let n=Ce();return n&&n[nn].sanitizer}function bw(n){return n instanceof Function?n():n}var lr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(lr||{}),zA;function Cf(n,e){return zA(n,e)}function Ni(n,e,t,r,i){if(r!=null){let s,o=!1;Rn(r)?s=r:rr(r)&&(o=!0,r=r[An]);let c=sn(r);n===0&&t!==null?i==null?Nw(e,t,c):$c(e,t,c,i||null,!0):n===1&&t!==null?$c(e,t,c,i||null,!0):n===2?iR(e,c,o):n===3&&e.destroyNode(c),s!=null&&oR(e,n,s,t,i)}}function HA(n,e){return n.createText(e)}function qA(n,e,t){n.setValue(e,t)}function Cw(n,e,t){return n.createElement(e,t)}function GA(n,e){Sw(n,e),e[An]=null,e[Ht]=null}function WA(n,e,t,r,i,s){r[An]=i,r[Ht]=e,ou(n,r,t,1,i,s)}function Sw(n,e){e[nn].changeDetectionScheduler?.notify(9),ou(n,e,e[Qe],2,null,null)}function KA(n){let e=n[ho];if(!e)return eh(n[oe],n);for(;e;){let t=null;if(rr(e))t=e[ho];else{let r=e[Et];r&&(t=r)}if(!t){for(;e&&!e[jt]&&e!==n;)rr(e)&&eh(e[oe],e),e=e[rt];e===null&&(e=n),rr(e)&&eh(e[oe],e),t=e&&e[jt]}e=t}}function QA(n,e,t,r){let i=Et+r,s=t.length;r>0&&(t[i-1][jt]=e),r<s-Et?(e[jt]=t[i],hI(t,Et+r,e)):(t.push(e),e[jt]=null),e[rt]=t;let o=e[jr];o!==null&&t!==o&&Aw(o,e);let c=e[bn];c!==null&&c.insertView(n),fh(e),e[J]|=128}function Aw(n,e){let t=n[Li],r=e[rt];if(rr(r))n[J]|=kc.HasTransplantedViews;else{let i=r[rt][rn];e[rn]!==i&&(n[J]|=kc.HasTransplantedViews)}t===null?n[Li]=[e]:t.push(e)}function Sf(n,e){let t=n[Li],r=t.indexOf(e);t.splice(r,1)}function bh(n,e){if(n.length<=Et)return;let t=Et+e,r=n[t];if(r){let i=r[jr];i!==null&&i!==n&&Sf(i,r),e>0&&(n[t-1][jt]=r[jt]);let s=Nc(n,Et+e);GA(r[oe],r);let o=s[bn];o!==null&&o.detachView(s[oe]),r[rt]=null,r[jt]=null,r[J]&=-129}return r}function Rw(n,e){if(!(e[J]&256)){let t=e[Qe];t.destroyNode&&ou(n,e,t,3,null,null),KA(e)}}function eh(n,e){if(e[J]&256)return;let t=ye(null);try{e[J]&=-129,e[J]|=256,e[Rt]&&Ad(e[Rt]),JA(n,e),YA(n,e),e[oe].type===1&&e[Qe].destroy();let r=e[jr];if(r!==null&&Rn(e[rt])){r!==e[rt]&&Sf(r,e);let i=e[bn];i!==null&&i.detachView(n)}Th(e)}finally{ye(t)}}function YA(n,e){let t=n.cleanup,r=e[Pc];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[Pc]=null);let i=e[nr];if(i!==null){e[nr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function JA(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof fo)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Xt(4,c,u);try{u.call(c)}finally{Xt(5,c,u)}}else{Xt(4,i,s);try{s.call(i)}finally{Xt(5,i,s)}}}}}function ZA(n,e,t){return XA(n,e.parent,t)}function XA(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[An];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===tn.None||s===tn.Emulated)return null}return xt(r,t)}}function $c(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Nw(n,e,t){n.appendChild(e,t)}function U_(n,e,t,r,i){r!==null?$c(n,e,t,r,i):Nw(n,e,t)}function xw(n,e){return n.parentNode(e)}function eR(n,e){return n.nextSibling(e)}function tR(n,e,t){return rR(n,e,t)}function nR(n,e,t){return n.type&40?xt(n,t):null}var rR=nR,j_;function Af(n,e,t,r){let i=ZA(n,r,e),s=e[Qe],o=r.parent||e[Ht],c=tR(o,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)U_(s,i,t[u],c,!1);else U_(s,i,t,c,!1);j_!==void 0&&j_(s,r,e,t,i)}function so(n,e){if(e!==null){let t=e.type;if(t&3)return xt(e,n);if(t&4)return Ch(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return so(n,r);{let i=n[e.index];return Rn(i)?Ch(-1,i):sn(i)}}else{if(t&128)return so(n,e.next);if(t&32)return Cf(e,n)()||sn(n[e.index]);{let r=Mw(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=$r(n[rn]);return so(i,r)}else return so(n,e.next)}}}return null}function Mw(n,e){if(e!==null){let r=n[rn][Ht],i=e.projection;return r.projection[i]}return null}function Ch(n,e){let t=Et+n+1;if(t<e.length){let r=e[t],i=r[oe].firstChild;if(i!==null)return so(r,i)}return e[Br]}function iR(n,e,t){n.removeChild(null,e,t)}function Rf(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(o&&e===0&&(c&&Hr(sn(c),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Rf(n,e,t.child,r,i,s,!1),Ni(e,n,i,c,s);else if(u&32){let d=Cf(t,r),f;for(;f=d();)Ni(e,n,i,f,s);Ni(e,n,i,c,s)}else u&16?sR(n,e,r,t,i,s):Ni(e,n,i,c,s);t=o?t.projectionNext:t.next}}function ou(n,e,t,r,i,s){Rf(t,r,n.firstChild,e,i,s,!1)}function sR(n,e,t,r,i,s){let o=t[rn],u=o[Ht].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];Ni(e,n,i,f,s)}else{let d=u,f=o[rt];gw(r)&&(d.flags|=128),Rf(n,e,d,f,i,s,!0)}}function oR(n,e,t,r,i){let s=t[Br],o=sn(t);s!==o&&Ni(e,n,r,s,i);for(let c=Et;c<t.length;c++){let u=t[c];ou(u[oe],u,n,e,r,s)}}function aR(n,e,t){n.setAttribute(e,"style",t)}function Pw(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ow(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&oh(n,e,r),i!==null&&Pw(n,e,i),s!==null&&aR(n,e,s)}var Hi={};function te(n=1){kw(qt(),Ce(),df()+n,!1)}function kw(n,e,t,r){if(!r)if((e[J]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Tc(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Dc(e,s,0,t)}zr(t)}function ce(n,e=se.Default){let t=Ce();if(t===null)return G(n,e);let r=gt();return aw(r,t,At(n),e)}function Lw(n,e,t,r,i,s){let o=ye(null);try{let c=null;i&ir.SignalBased&&(c=e[r][Vv]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&ir.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,c,s,t,r):NI(e,c,r,s)}finally{ye(o)}}function cR(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)zr(~i);else{let s=i,o=t[++r],c=t[++r];QS(o,s);let u=e[s];c(2,u)}}}finally{zr(-1)}}function au(n,e,t,r,i,s,o,c,u,d,f){let g=e.blueprint.slice();return g[An]=i,g[J]=r|4|128|8|64,(d!==null||n&&n[J]&2048)&&(g[J]|=2048),LI(g),g[rt]=g[Bi]=n,g[Bt]=t,g[nn]=o||n&&n[nn],g[Qe]=c||n&&n[Qe],g[ki]=u||n&&n[ki]||null,g[Ht]=s,g[eu]=NA(),g[Mc]=f,g[SI]=d,g[rn]=e.type==2?n[rn]:g,g}function cu(n,e,t,r,i){let s=n.data[e];if(s===null)s=uR(n,e,t,r,i),KS()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=zS();s.injectorIndex=o===null?-1:o.injectorIndex}return Io(s,!0),s}function uR(n,e,t,r,i){let s=zI(),o=HI(),c=o?s:s&&s.parent,u=n.data[e]=gR(n,c,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function Fw(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Vw(n,e,t,r,i){let s=df(),o=r&2;try{zr(-1),o&&e.length>Cn&&kw(n,e,Cn,!1),Xt(o?2:0,i),t(r,i)}finally{zr(s),Xt(o?3:1,i)}}function Uw(n,e,t){if(RI(e)){let r=ye(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=n.data[o];if(c.contentQueries){let u=t[o];c.contentQueries(1,u,o)}}}finally{ye(r)}}}function jw(n,e,t){jI()&&(wR(n,e,t,xt(t,e)),(t.flags&64)===64&&Gw(n,e,t))}function Bw(n,e,t=xt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?t(e,n):n[o];n[i++]=c}}}function $w(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Nf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Nf(n,e,t,r,i,s,o,c,u,d,f){let g=Cn+r,_=g+i,I=lR(g,_),A=typeof d=="function"?d():d;return I[oe]={type:n,blueprint:I,template:t,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function lR(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Hi);return t}function dR(n,e,t,r){let s=r.get(FA,ww)||t===tn.ShadowDom,o=n.selectRootElement(e,s);return hR(o),o}function hR(n){fR(n)}var fR=()=>null;function pR(n,e,t,r){let i=Qw(e);i.push(t),n.firstCreatePass&&Yw(n).push(r,i.length-1)}function gR(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,c=0;return jS()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function B_(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=ir.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}n===0?$_(r,t,d,c,u):$_(r,t,d,c)}return r}function $_(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function mR(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,c=[],u=null,d=null;for(let f=r;f<i;f++){let g=s[f],_=t?t.get(g):null,I=_?_.inputs:null,A=_?_.outputs:null;u=B_(0,g.inputs,f,u,I),d=B_(1,g.outputs,f,d,A);let N=u!==null&&o!==null&&!tf(e)?MR(u,f,o):null;c.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=d}function yR(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function zw(n,e,t,r,i,s,o,c){let u=xt(e,t),d=e.inputs,f;!c&&d!=null&&(f=d[r])?(xf(n,t,f,r,i),tu(e)&&vR(t,e.index)):e.type&3?(r=yR(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function vR(n,e){let t=cr(e,n);t[J]&16||(t[J]|=64)}function Hw(n,e,t,r){if(jI()){let i=r===null?null:{"":-1},s=TR(n,t),o,c;s===null?o=c=null:[o,c]=s,o!==null&&qw(n,e,t,o,i,c),i&&DR(t,r,i)}t.mergedAttrs=ef(t.mergedAttrs,t.attrs)}function qw(n,e,t,r,i,s){for(let d=0;d<r.length;d++)lA(rw(t,e),n,r[d].type);CR(t,n.data.length,r.length);for(let d=0;d<r.length;d++){let f=r[d];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=Fw(n,e,r.length,null);for(let d=0;d<r.length;d++){let f=r[d];t.mergedAttrs=ef(t.mergedAttrs,f.hostAttrs),SR(n,t,e,u,f),bR(u,f,i),f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),u++}mR(n,t,s)}function _R(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let c=~e.index;IR(o)!=c&&o.push(c),o.push(t,r,s)}}function IR(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function wR(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;tu(t)&&AR(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||rw(t,e),Hr(r,e);let o=t.initialInputs;for(let c=i;c<s;c++){let u=n.data[c],d=Fi(e,n,c,t);if(Hr(d,e),o!==null&&xR(e,c-i,d,u,t,o),_o(u)){let f=cr(t.index,e);f[Bt]=Fi(e,n,c,t)}}}function Gw(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=YS();try{zr(s);for(let c=r;c<i;c++){let u=n.data[c],d=e[c];ph(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&ER(u,d)}}finally{zr(-1),ph(o)}}function ER(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function TR(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(sS(e,o.selectors,!1))if(r||(r=[]),_o(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Sh(n,e,u)}else r.unshift(o),Sh(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Sh(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function DR(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new z(-301,!1);r.push(e[i],s)}}}function bR(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;_o(e)&&(t[""]=n)}}function CR(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function SR(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Pi(i.type,!0)),o=new fo(s,_o(i),ce);n.blueprint[r]=o,t[r]=o,_R(n,e,r,Fw(n,t,i.hostVars,Hi),i)}function AR(n,e,t){let r=xt(e,n),i=$w(t),s=n[nn].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let c=uu(n,au(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=c}function RR(n,e,t,r,i,s){let o=xt(n,e);NR(e[Qe],o,s,n.value,t,r,i)}function NR(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let c=o==null?Jc(s):o(s,r||"",i);n.setAttribute(e,i,c,t)}}function xR(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],d=o[c++],f=o[c++],g=o[c++];Lw(r,t,u,d,f,g)}}function MR(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],t[i+1]);break}}i+=2}return r}function Ww(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Kw(n,e){let t=n.contentQueries;if(t!==null){let r=ye(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let c=n.data[o];cf(s),c.contentQueries(2,e[o],o)}}}finally{ye(r)}}}function uu(n,e){return n[ho]?n[C_][jt]=e:n[ho]=e,n[C_]=e,e}function Ah(n,e,t){cf(0);let r=ye(null);try{e(n,t)}finally{ye(r)}}function Qw(n){return n[Pc]??=[]}function Yw(n){return n.cleanup??=[]}function Jw(n,e){let t=n[ki],r=t?t.get(Sn,null):null;r&&r.handleError(e)}function xf(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],c=t[s++],u=t[s++],d=e[o],f=n.data[o];Lw(f,d,r,c,u,i)}}function PR(n,e,t){let r=xS(e,n);qA(n[Qe],r,t)}function OR(n,e){let t=cr(e,n),r=t[oe];kR(r,t);let i=t[An];i!==null&&t[Mc]===null&&(t[Mc]=Df(i,t[ki])),Mf(r,t,t[Bt])}function kR(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Mf(n,e,t){uf(e);try{let r=n.viewQuery;r!==null&&Ah(1,r,t);let i=n.template;i!==null&&Vw(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[bn]?.finishViewCreation(n),n.staticContentQueries&&Kw(n,e),n.staticViewQueries&&Ah(2,n.viewQuery,t);let s=n.components;s!==null&&LR(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[J]&=-5,lf()}}function LR(n,e){for(let t=0;t<e.length;t++)OR(n,e[t])}function FR(n,e,t,r){let i=ye(null);try{let s=e.tView,c=n[J]&4096?4096:16,u=au(n,s,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];u[jr]=d;let f=n[bn];return f!==null&&(u[bn]=f.createEmbeddedView(s)),Mf(s,u,t),u}finally{ye(i)}}function z_(n,e){return!e||e.firstChild===null||gw(n)}function VR(n,e,t,r=!0){let i=e[oe];if(QA(i,e,n,t),r){let o=Ch(t,n),c=e[Qe],u=xw(c,n[Br]);u!==null&&WA(i,n[Ht],c,e,u,o)}let s=e[Mc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function zc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(sn(s)),Rn(s)&&UR(s,r);let o=t.type;if(o&8)zc(n,e,t.child,r);else if(o&32){let c=Cf(t,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=Mw(e,t);if(Array.isArray(c))r.push(...c);else{let u=$r(e[rn]);zc(u[oe],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function UR(n,e){for(let t=Et;t<n.length;t++){let r=n[t],i=r[oe].firstChild;i!==null&&zc(r[oe],r,i,e)}n[Br]!==n[An]&&e.push(n[Br])}var Zw=[];function jR(n){return n[Rt]??BR(n)}function BR(n){let e=Zw.pop()??Object.create(zR);return e.lView=n,e}function $R(n){n.lView[Rt]!==n&&(n.lView=null,Zw.push(n))}var zR=Ae(U({},bd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ru(n.lView)},consumerOnSignalRead(){this.lView[Rt]=this}});function HR(n){let e=n[Rt]??Object.create(qR);return e.lView=n,e}var qR=Ae(U({},bd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=$r(n.lView);for(;e&&!Xw(e[oe]);)e=$r(e);e&&FI(e)},consumerOnSignalRead(){this.lView[Rt]=this}});function Xw(n){return n.type!==2}var GR=100;function eE(n,e=!0,t=0){let r=n[nn],i=r.rendererFactory,s=!1;s||i.begin?.();try{WR(n,t)}catch(o){throw e&&Jw(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function WR(n,e){let t=qI();try{A_(!0),Rh(n,e);let r=0;for(;nu(n);){if(r===GR)throw new z(103,!1);r++,Rh(n,1)}}finally{A_(t)}}function KR(n,e,t,r){let i=e[J];if((i&256)===256)return;let s=!1,o=!1;!s&&e[nn].inlineEffectRunner?.flush(),uf(e);let c=!0,u=null,d=null;s||(Xw(n)?(d=jR(e),u=Cd(d)):Uv()===null?(c=!1,d=HR(e),u=Cd(d)):e[Rt]&&(Ad(e[Rt]),e[Rt]=null));try{LI(e),WS(n.bindingStartIndex),t!==null&&Vw(n,e,t,2,r);let f=(i&3)===3;if(!s)if(f){let I=n.preOrderCheckHooks;I!==null&&Tc(e,I,null)}else{let I=n.preOrderHooks;I!==null&&Dc(e,I,0,null),Yd(e,0)}if(o||QR(e),tE(e,0),n.contentQueries!==null&&Kw(n,e),!s)if(f){let I=n.contentCheckHooks;I!==null&&Tc(e,I)}else{let I=n.contentHooks;I!==null&&Dc(e,I,1),Yd(e,1)}cR(n,e);let g=n.components;g!==null&&rE(e,g,0);let _=n.viewQuery;if(_!==null&&Ah(2,_,r),!s)if(f){let I=n.viewCheckHooks;I!==null&&Tc(e,I)}else{let I=n.viewHooks;I!==null&&Dc(e,I,2),Yd(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Qd]){for(let I of e[Qd])I();e[Qd]=null}s||(e[J]&=-73)}catch(f){throw s||ru(e),f}finally{d!==null&&(jv(d,u),c&&$R(d)),lf()}}function tE(n,e){for(let t=yw(n);t!==null;t=vw(t))for(let r=Et;r<t.length;r++){let i=t[r];nE(i,e)}}function QR(n){for(let e=yw(n);e!==null;e=vw(e)){if(!(e[J]&kc.HasTransplantedViews))continue;let t=e[Li];for(let r=0;r<t.length;r++){let i=t[r];FI(i)}}}function YR(n,e,t){let r=cr(e,n);nE(r,t)}function nE(n,e){of(n)&&Rh(n,e)}function Rh(n,e){let r=n[oe],i=n[J],s=n[Rt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Sd(s)),o||=!1,s&&(s.dirty=!1),n[J]&=-9217,o)KR(r,n,r.template,n[Bt]);else if(i&8192){tE(n,1);let c=r.components;c!==null&&rE(n,c,1)}}function rE(n,e,t){for(let r=0;r<e.length;r++)YR(n,e[r],t)}function Pf(n,e){let t=qI()?64:1088;for(n[nn].changeDetectionScheduler?.notify(e);n;){n[J]|=t;let r=$r(n);if(dh(n)&&!r)return n;n=r}return null}var qr=class{get rootNodes(){let e=this._lView,t=e[oe];return zc(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bt]}set context(e){this._lView[Bt]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[rt];if(Rn(e)){let t=e[Oc],r=t?t.indexOf(this):-1;r>-1&&(bh(e,r),Nc(t,r))}this._attachedToViewContainer=!1}Rw(this._lView[oe],this._lView)}onDestroy(e){VI(this._lView,e)}markForCheck(){Pf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){fh(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,eE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=dh(this._lView),t=this._lView[jr];t!==null&&!e&&Sf(t,this._lView),Sw(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let t=dh(this._lView),r=this._lView[jr];r!==null&&!t&&Aw(r,this._lView),fh(this._lView)}},Gr=(()=>{class n{static{this.__NG_ELEMENT_ID__=XR}}return n})(),JR=Gr,ZR=class extends JR{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=FR(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new qr(i)}};function XR(){return Of(gt(),Ce())}function Of(n,e){return n.type&4?new ZR(e,n,zi(n,e)):null}var d4=new RegExp(`^(\\d+)*(${kA}|${OA})*(.*)`);var eN=()=>null;function H_(n,e){return eN(n,e)}var Vi=class{},lu=new q("",{providedIn:"root",factory:()=>!1});var iE=new q(""),sE=new q(""),Nh=class{},Hc=class{};function tN(n){let e=Error(`No component factory found for ${ft(n)}.`);return e[nN]=n,e}var nN="ngComponent";var xh=class{resolveComponentFactory(e){throw tN(e)}},Ui=class{static{this.NULL=new xh}},ji=class{},qi=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>rN()}}return n})();function rN(){let n=Ce(),e=gt(),t=cr(e.index,n);return(rr(t)?t:n)[Qe]}var iN=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>null})}}return n})();function Mh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=m_(i,c);else if(s==2){let u=c,d=e[++o];r=m_(r,u+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var qc=class extends Ui{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ur(e);return new po(t,this.ngModule)}};function q_(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:ir.None;e?t.push({propName:o,templateName:r,isSignal:(c&ir.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function sN(n){let e=n.toLowerCase();return e==="svg"?OI:e==="math"?NS:null}var po=class extends Hc{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=q_(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return q_(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=uS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=ye(null);try{i=i||this.ngModule;let o=i instanceof pt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new gh(e,o):e,u=c.get(ji,null);if(u===null)throw new z(407,!1);let d=c.get(iN,null),f=c.get(Vi,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:f},_=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=r?dR(_,r,this.componentDef.encapsulation,c):Cw(_,I,sN(I)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let R=null;A!==null&&(R=Df(A,c,!0));let F=Nf(0,null,null,1,0,null,null,null,null,null,null),H=au(null,F,null,N,null,null,g,_,c,null,R);uf(H);let V,X,we=null;try{let Q=this.componentDef,w,m=null;Q.findHostDirectiveDefs?(w=[],m=new Map,Q.findHostDirectiveDefs(Q,w,m),w.push(Q)):w=[Q];let y=oN(H,A);we=aN(y,A,Q,w,H,g,_),X=kI(F,Cn),A&&lN(_,Q,A,r),t!==void 0&&dN(X,this.ngContentSelectors,t),V=uN(we,Q,w,m,H,[hN]),Mf(F,H,null)}catch(Q){throw we!==null&&Th(we),Th(H),Q}finally{lf()}return new Ph(this.componentType,V,zi(X,H),H,X)}finally{ye(s)}}},Ph=class extends Nh{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new qr(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;xf(s[oe],s,i,e,t),this.previousInputValues.set(e,t);let o=cr(this._tNode.index,s);Pf(o,1)}}get injector(){return new Vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function oN(n,e){let t=n[oe],r=Cn;return n[r]=e,cu(t,r,2,"#host",null)}function aN(n,e,t,r,i,s,o){let c=i[oe];cN(r,n,e,o);let u=null;e!==null&&(u=Df(e,i[ki]));let d=s.rendererFactory.createRenderer(e,t),f=16;t.signals?f=4096:t.onPush&&(f=64);let g=au(i,$w(t),null,f,i[n.index],n,s,d,null,null,u);return c.firstCreatePass&&Sh(c,n,r.length-1),uu(i,g),i[n.index]=g}function cN(n,e,t,r){for(let i of n)e.mergedAttrs=ef(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Mh(e,e.mergedAttrs,!0),t!==null&&Ow(r,t,e))}function uN(n,e,t,r,i,s){let o=gt(),c=i[oe],u=xt(o,i);qw(c,i,o,t,null,r);for(let f=0;f<t.length;f++){let g=o.directiveStart+f,_=Fi(i,c,g,o);Hr(_,i)}Gw(c,i,o),u&&Hr(u,i);let d=Fi(i,c,o.directiveStart+o.componentOffset,o);if(n[Bt]=i[Bt]=d,s!==null)for(let f of s)f(d,e);return Uw(c,o,i),d}function lN(n,e,t,r){if(r)oh(n,t,["ng-version","18.2.9"]);else{let{attrs:i,classes:s}=lS(e.selectors[0]);i&&oh(n,t,i),s&&s.length>0&&Pw(n,t,s.join(" "))}}function dN(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function hN(){let n=gt();gf(Ce()[oe],n)}var dr=(()=>{class n{static{this.__NG_ELEMENT_ID__=fN}}return n})();function fN(){let n=gt();return aE(n,Ce())}var pN=dr,oE=class extends pN{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return zi(this._hostTNode,this._hostLView)}get injector(){return new Vr(this._hostTNode,this._hostLView)}get parentInjector(){let e=mf(this._hostTNode,this._hostLView);if(ew(e)){let t=Vc(e,this._hostLView),r=Fc(e),i=t[oe].data[r+8];return new Vr(i,t)}else return new Vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=G_(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=H_(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(c,i,z_(this._hostTNode,o)),c}createComponent(e,t,r,i,s){let o=e&&!CS(e),c;if(o)c=t;else{let A=t||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new po(Ur(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?d:this.parentInjector).get(pt,null);N&&(s=N)}let f=Ur(u.componentType??{}),g=H_(this._lContainer,f?.id??null),_=g?.firstChild??null,I=u.create(d,i,_,s);return this.insertImpl(I.hostView,c,z_(this._hostTNode,g)),I}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(OS(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[rt],d=new oE(u,u[Ht],u[rt]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return VR(o,i,s,r),e.attachToViewContainerRef(),hI(th(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=G_(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=bh(this._lContainer,t);r&&(Nc(th(this._lContainer),t),Rw(r[oe],r))}detach(e){let t=this._adjustIndex(e,-1),r=bh(this._lContainer,t);return r&&Nc(th(this._lContainer),t)!=null?new qr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function G_(n){return n[Oc]}function th(n){return n[Oc]||(n[Oc]=[])}function aE(n,e){let t,r=e[n.index];return Rn(r)?t=r:(t=Ww(r,e,null,n),e[n.index]=t,uu(e,t)),mN(t,e,n,r),new oE(t,n,e)}function gN(n,e){let t=n[Qe],r=t.createComment(""),i=xt(e,n),s=xw(t,i);return $c(t,s,r,eR(t,i),!1),r}var mN=_N,yN=()=>!1;function vN(n,e,t){return yN(n,e,t)}function _N(n,e,t,r){if(n[Br])return;let i;t.type&8?i=sn(r):i=gN(e,t),n[Br]=i}var Oh=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},kh=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),c=this.queries[o.indexInDeclarationView];i.push(c.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)kf(e,t).matches!==null&&this.queries[t].setDirty()}},Lh=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=SN(e):this.predicate=e}},Fh=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Vh=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,IN(t,s)),this.matchTNodeWithReadOption(e,t,bc(t,e,s,!1,!1))}else r===Gr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,bc(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===an||i===dr||i===Gr&&t.type&4)this.addMatch(t.index,-2);else{let s=bc(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function IN(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function wN(n,e){return n.type&11?zi(n,e):n.type&4?Of(n,e):null}function EN(n,e,t,r){return t===-1?wN(e,n):t===-2?TN(n,e,r):Fi(n,n[oe],t,e)}function TN(n,e,t){if(t===an)return zi(e,n);if(t===Gr)return Of(e,n);if(t===dr)return aE(e,n)}function cE(n,e,t,r){let i=e[bn].queries[r];if(i.matches===null){let s=n.data,o=t.matches,c=[];for(let u=0;o!==null&&u<o.length;u+=2){let d=o[u];if(d<0)c.push(null);else{let f=s[d];c.push(EN(e,f,o[u+1],t.metadata.read))}}i.matches=c}return i.matches}function Uh(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=cE(n,e,i,t);for(let c=0;c<s.length;c+=2){let u=s[c];if(u>0)r.push(o[c/2]);else{let d=s[c+1],f=e[-u];for(let g=Et;g<f.length;g++){let _=f[g];_[jr]===_[rt]&&Uh(_[oe],_,d,r)}if(f[Li]!==null){let g=f[Li];for(let _=0;_<g.length;_++){let I=g[_];Uh(I[oe],I,d,r)}}}}}return r}function DN(n,e){return n[bn].queries[e].queryList}function bN(n,e,t){let r=new Eh((t&4)===4);return pR(n,e,r,r.destroy),(e[bn]??=new kh).queries.push(new Oh(r))-1}function CN(n,e,t,r){let i=qt();if(i.firstCreatePass){let s=gt();AN(i,new Lh(e,t,r),s.index),RN(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return bN(i,Ce(),t)}function SN(n){return n.split(",").map(e=>e.trim())}function AN(n,e,t){n.queries===null&&(n.queries=new Fh),n.queries.track(new Vh(e,t))}function RN(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function kf(n,e){return n.queries.getByIndex(e)}function NN(n,e){let t=n[oe],r=kf(t,e);return r.crossesNgTemplate?Uh(t,n,e,[]):cE(t,n,r,e)}var W_=new Set;function du(n){W_.has(n)||(W_.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Lf(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var sr=class{},go=class{};var jh=class extends sr{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qc(this);let s=wI(e);this._bootstrapComponents=bw(s.bootstrap),this._r3Injector=lw(e,t,[{provide:sr,useValue:this},{provide:Ui,useValue:this.componentFactoryResolver},...r],ft(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Bh=class extends go{constructor(e){super(),this.moduleType=e}create(e){return new jh(this.moduleType,e,[])}};var Gc=class extends sr{constructor(e){super(),this.componentFactoryResolver=new qc(this),this.instance=null;let t=new lo([...e.providers,{provide:sr,useValue:this},{provide:Ui,useValue:this.componentFactoryResolver}],e.parent||rf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ff(n,e,t=null){return new Gc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function uE(n){return Vf(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function xN(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Vf(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function MN(n,e,t){return n[e]=t}function hu(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function PN(n){return(n.flags&32)===32}function ON(n,e,t,r,i,s,o,c,u){let d=e.consts,f=cu(e,n,4,o||null,c||null);Hw(e,t,f,Lc(d,u)),gf(e,f);let g=f.tView=Nf(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function kN(n,e,t,r,i,s,o,c,u,d){let f=t+Cn,g=e.firstCreatePass?ON(f,e,n,r,i,s,o,c,u):e.data[f];Io(g,!1);let _=LN(e,n,g,t);ff()&&Af(e,n,_,g),Hr(_,n);let I=Ww(_,n,_,g);return n[f]=I,uu(n,I),vN(I,g,n),sf(g)&&jw(e,n,g),u!=null&&Bw(n,g,d),g}function Gt(n,e,t,r,i,s,o,c){let u=Ce(),d=qt(),f=Lc(d.consts,s);return kN(u,d,n,e,t,r,i,f,o,c),Gt}var LN=FN;function FN(n,e,t,r){return pf(!0),e[Qe].createComment("")}var oo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(oo||{}),VN=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}}return n})(),K_=class n{constructor(){this.ngZone=O(Te),this.scheduler=O(Vi),this.errorHandler=O(Sn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[oo.EarlyRead,oo.Write,oo.MixedReadWrite,oo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}};function Uf(n,e,t,r){let i=Ce(),s=af();if(hu(i,s,e)){let o=qt(),c=hf();RR(c,i,n,e,t,r)}return Uf}function lE(n,e,t,r){return hu(n,af(),t)?e+Jc(t)+r:Hi}function Pe(n,e,t){let r=Ce(),i=af();if(hu(r,i,e)){let s=qt(),o=hf();zw(s,o,r,n,e,r[Qe],t,!1)}return Pe}function Q_(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";xf(n,t,s[o],o,r)}function UN(n,e,t,r,i,s){let o=e.consts,c=Lc(o,i),u=cu(e,n,2,r,c);return Hw(e,t,u,Lc(o,s)),u.attrs!==null&&Mh(u,u.attrs,!1),u.mergedAttrs!==null&&Mh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function M(n,e,t,r){let i=Ce(),s=qt(),o=Cn+n,c=i[Qe],u=s.firstCreatePass?UN(o,s,i,e,t,r):s.data[o],d=jN(s,i,u,c,e,n);i[o]=d;let f=sf(u);return Io(u,!0),Ow(c,d,u),!PN(u)&&ff()&&Af(s,i,d,u),FS()===0&&Hr(d,i),VS(),f&&(jw(s,i,u),Uw(s,u,i)),r!==null&&Bw(i,u),M}function L(){let n=gt();HI()?HS():(n=n.parent,Io(n,!1));let e=n;BS(e)&&$S(),US();let t=qt();return t.firstCreatePass&&(gf(t,n),RI(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&iA(e)&&Q_(t,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&sA(e)&&Q_(t,e,Ce(),e.stylesWithoutHost,!1),L}function ve(n,e,t,r){return M(n,e,t,r),L(),ve}var jN=(n,e,t,r,i,s)=>(pf(!0),Cw(r,i,eA()));function dE(){return Ce()}var Wc="en-US";var BN=Wc;function $N(n){typeof n=="string"&&(BN=n.toLowerCase().replace(/_/g,"-"))}var zN=(n,e,t)=>{};function wo(n,e,t,r){let i=Ce(),s=qt(),o=gt();return qN(s,i,i[Qe],o,n,e,r),wo}function HN(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let c=e[Pc],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function qN(n,e,t,r,i,s,o){let c=sf(r),d=n.firstCreatePass&&Yw(n),f=e[Bt],g=Qw(e),_=!0;if(r.type&3||o){let N=xt(r,e),R=o?o(N):N,F=g.length,H=o?X=>o(sn(X[r.index])):r.index,V=null;if(!o&&c&&(V=HN(n,e,i,r.index)),V!==null){let X=V.__ngLastListenerFn__||V;X.__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,_=!1}else{s=J_(r,e,f,s),zN(N,i,s);let X=t.listen(R,i,s);g.push(s,X),d&&d.push(i,H,F,F+1)}}else s=J_(r,e,f,s);let I=r.outputs,A;if(_&&I!==null&&(A=I[i])){let N=A.length;if(N)for(let R=0;R<N;R+=2){let F=A[R],H=A[R+1],we=e[F][H].subscribe(s),Q=g.length;g.push(s,we),d&&d.push(i,r.index,Q,-(Q+1))}}}function Y_(n,e,t,r){let i=ye(null);try{return Xt(6,e,t),t(r)!==!1}catch(s){return Jw(n,s),!1}finally{Xt(7,e,t),ye(i)}}function J_(n,e,t,r){return function i(s){if(s===Function)return r;let o=n.componentOffset>-1?cr(n.index,e):e;Pf(o,5);let c=Y_(e,t,r,s),u=i.__ngNextListenerFn__;for(;u;)c=Y_(e,t,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function Gi(n=1){return ZS(n)}function Tt(n,e,t,r,i){let s=Ce(),o=lE(s,e,t,r);if(o!==Hi){let c=qt(),u=hf();zw(c,u,s,n,o,s[Qe],i,!1)}return Tt}function hE(n,e,t,r){CN(n,e,t,r)}function fE(n){let e=Ce(),t=qt(),r=GI();cf(r+1);let i=kf(t,r);if(n.dirty&&PS(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=NN(e,r);n.reset(s,SA),n.notifyOnChanges()}return!0}return!1}function pE(){return DN(Ce(),GI())}function gE(n){let e=qS();return MS(e,Cn+n)}function W(n,e=""){let t=Ce(),r=qt(),i=n+Cn,s=r.firstCreatePass?cu(r,i,1,e,null):r.data[i],o=GN(r,t,s,e,n);t[i]=o,ff()&&Af(r,t,o,s),Io(s,!1)}var GN=(n,e,t,r,i)=>(pf(!0),HA(e[Qe],r));function Oe(n){return Eo("",n,""),Oe}function Eo(n,e,t){let r=Ce(),i=lE(r,n,e,t);return i!==Hi&&PR(r,df(),i),Eo}var WN=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=DI(!1,t.type),i=r.length>0?Ff([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(G(pt))})}}return n})();function st(n){du("NgStandalone"),n.getStandaloneInjector=e=>e.get(WN).getOrCreateStandaloneInjector(n)}function hr(n,e,t,r){return QN(Ce(),GS(),n,e,t,r)}function KN(n,e){let t=n[e];return t===Hi?void 0:t}function QN(n,e,t,r,i,s){let o=e+t;return hu(n,o,i)?MN(n,o+1,s?r.call(s,i):r(i)):KN(n,o+1)}var or=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},mE=new or("18.2.9");var fu=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var yE=new q("");function To(n){return!!n&&typeof n.then=="function"}function vE(n){return!!n&&typeof n.subscribe=="function"}var _E=new q(""),IE=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=O(_E,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(To(s))t.push(s);else if(vE(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pu=new q("");function YN(){Bv(()=>{throw new z(600,!1)})}function JN(n){return n.isBoundToModule}var ZN=10;function XN(n,e,t){try{let r=t();return To(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var fr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(bA),this.afterRenderManager=O(VN),this.zonelessEnabled=O(lu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new nt,this.afterTick=new nt,this.componentTypes=[],this.components=[],this.isStable=O(ur).hasPendingTasks.pipe(Z(t=>!t)),this._injector=O(pt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Hc;if(!this._injector.get(IE).done){let _=!i&&II(t),I=!1;throw new z(405,I)}let o;i?o=t:o=this._injector.get(Ui).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let c=JN(o)?void 0:this._injector.get(sr),u=r||o.selector,d=o.create($t.NULL,[],u,c),f=d.location.nativeElement,g=d.injector.get(yE,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Cc(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new z(101,!1);let t=ye(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ye(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ji,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<ZN;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)ex(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>nu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Cc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(pu,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Cc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Cc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ex(n,e,t,r){if(!t&&!nu(n))return;eE(n,e,t&&!r?0:1)}var $h=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},jf=(()=>{class n{compileModuleSync(t){return new Bh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=wI(t),s=bw(i.declarations).reduce((o,c)=>{let u=Ur(c);return u&&o.push(new po(u)),o},[]);return new $h(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var tx=(()=>{class n{constructor(){this.zone=O(Te),this.changeDetectionScheduler=O(Vi),this.applicationRef=O(fr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nx=new q("",{factory:()=>!1});function wE({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Te(Ae(U({},TE()),{scheduleInRootZone:t})),[{provide:Te,useFactory:n},{provide:Oi,multi:!0,useFactory:()=>{let r=O(tx,{optional:!0});return()=>r.initialize()}},{provide:Oi,multi:!0,useFactory:()=>{let r=O(rx);return()=>{r.initialize()}}},e===!0?{provide:iE,useValue:!0}:[],{provide:sE,useValue:t??dw}]}function EE(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=wE({ngZoneFactory:()=>{let i=TE(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&du("NgZone_CoalesceEvent"),new Te(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return on([{provide:nx,useValue:!0},{provide:lu,useValue:!1},r])}function TE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var rx=(()=>{class n{constructor(){this.subscription=new Me,this.initialized=!1,this.zone=O(Te),this.pendingTasks=O(ur)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ix=(()=>{class n{constructor(){this.appRef=O(fr),this.taskService=O(ur),this.ngZone=O(Te),this.zonelessEnabled=O(lu),this.disableScheduling=O(iE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Me,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(jc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(sE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof wh||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?O_:fw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(jc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,O_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function sx(){return typeof $localize<"u"&&$localize.locale||Wc}var Bf=new q("",{providedIn:"root",factory:()=>O(Bf,se.Optional|se.SkipSelf)||sx()});var zh=new q("");function wc(n){return!n.moduleRef}function ox(n){let e=wc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Te);return t.run(()=>{wc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Sn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),wc(n)){let s=()=>e.destroy(),o=n.platformInjector.get(zh);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(zh);o.add(s),n.moduleRef.onDestroy(()=>{Cc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return XN(r,t,()=>{let s=e.get(IE);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Bf,Wc);if($N(o||Wc),wc(n)){let c=e.get(fr);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return ax(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function ax(n,e){let t=n.injector.get(fr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new z(-403,!1);e.push(n)}var Sc=null;function cx(n=[],e){return $t.create({name:e,providers:[{provide:Xc,useValue:"platform"},{provide:zh,useValue:new Set([()=>Sc=null])},...n]})}function ux(n=[]){if(Sc)return Sc;let e=cx(n);return Sc=e,YN(),lx(e),e}function lx(n){n.get(Ef,null)?.forEach(t=>t())}var Wi=(()=>{class n{static{this.__NG_ELEMENT_ID__=dx}}return n})();function dx(n){return hx(gt(),Ce(),(n&16)===16)}function hx(n,e,t){if(tu(n)&&!t){let r=cr(n.index,e);return new qr(r,r)}else if(n.type&175){let r=e[rn];return new qr(r,e)}return null}var Hh=class{constructor(){}supports(e){return uE(e)}create(e){return new qh(e)}},fx=(n,e)=>e,qh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fx}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<Z_(r,i,s)?t:r,c=Z_(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let d=c-i,f=u-i;if(d!=f){for(let _=0;_<d;_++){let I=_<s.length?s[_]:s[_]=0,A=I+_;f<=A&&A<d&&(s[_]=I+1)}let g=o.previousIndex;s[g]=f-d}}c!==u&&e(o,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!uE(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,c),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,c)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,xN(e,c=>{o=this._trackByFn(i,c),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,c,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,o,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Gh(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Kc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Kc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Gh=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Wh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Kc=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Wh,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Z_(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var Kh=class{constructor(){}supports(e){return e instanceof Map||Vf(e)}create(){return new Qh}},Qh=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Vf(e)))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Yh(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},Yh=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function X_(){return new $f([new Hh])}var $f=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:X_})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||X_()),deps:[[n,new Zh,new Nt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new z(901,!1)}}return n})();function eI(){return new zf([new Kh])}var zf=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:eI})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||eI()),deps:[[n,new Zh,new Nt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new z(901,!1)}}return n})();function DE(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=ux(r),s=[wE({}),{provide:Vi,useExisting:ix},...t||[]],o=new Gc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return ox({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Do(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var RE=null;function Ki(){return RE}function NE(n){RE??=n}var gu=class{};var yt=new q(""),Gf=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>O(gx),providedIn:"platform"})}}return n})();var gx=(()=>{class n extends Gf{constructor(){super(),this._doc=O(yt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ki().getBaseHref(this._doc)}onPopState(t){let r=Ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Wf(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function bE(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function xn(n){return n&&n[0]!=="?"?"?"+n:n}var pr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>O(ME),providedIn:"root"})}}return n})(),xE=new q(""),ME=(()=>{class n extends pr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Wf(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+xn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+xn(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+xn(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(G(Gf),G(xE,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),PE=(()=>{class n extends pr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Wf(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+xn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+xn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(G(Gf),G(xE,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),bo=(()=>{class n{constructor(t){this._subject=new Ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=vx(bE(CE(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+xn(r))}normalize(t){return n.stripTrailingSlash(yx(this._basePath,CE(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=xn}static{this.joinWithSlash=Wf}static{this.stripTrailingSlash=bE}static{this.\u0275fac=function(r){return new(r||n)(G(pr))}}static{this.\u0275prov=B({token:n,factory:()=>mx(),providedIn:"root"})}}return n})();function mx(){return new bo(G(pr))}function yx(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function CE(n){return n.replace(/\/index.html$/,"")}function vx(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function mu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Hf=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Yi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Hf(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),SE(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);SE(s,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ce(dr),ce(Gr),ce($f))}}static{this.\u0275dir=ar({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function SE(n,e){n.context.$implicit=e.item}var Ji=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new qf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){AE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){AE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ce(dr),ce(Gr))}}static{this.\u0275dir=ar({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),qf=class{constructor(){this.$implicit=null,this.ngIf=null}};function AE(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${ft(e)}'.`)}var OE=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,s]=t.split("."),o=i.indexOf("-")===-1?void 0:lr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(ce(an),ce(zf),ce(qi))}}static{this.\u0275dir=ar({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})();var Mn=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=vo({type:n})}static{this.\u0275inj=yo({})}}return n})(),kE="browser",_x="server";function yu(n){return n===_x}var Qi=class{};var So=class{},_u=class{},Pn=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Qf=class{encodeKey(e){return LE(e)}encodeValue(e){return LE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Ix(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,c]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(c),t.set(o,u)}),t}var wx=/%(\d[a-f0-9])/gi,Ex={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function LE(n){return encodeURIComponent(n).replace(wx,(e,t)=>Ex[t]??e)}function vu(n){return`${n}`}var mr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Qf,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Ix(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(vu):[vu(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(vu(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(vu(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Yf=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Tx(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function FE(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function VE(n){return typeof Blob<"u"&&n instanceof Blob}function UE(n){return typeof FormData<"u"&&n instanceof FormData}function Dx(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Co=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(Tx(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Pn,this.context??=new Yf,!this.params)this.params=new mr,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),u=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||FE(this.body)||VE(this.body)||UE(this.body)||Dx(this.body)?this.body:this.body instanceof mr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||UE(this.body)?null:VE(this.body)?this.body.type||null:FE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof mr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,f=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((_,I)=>_.set(I,e.setHeaders[I]),d)),e.setParams&&(f=Object.keys(e.setParams).reduce((_,I)=>_.set(I,e.setParams[I]),f)),new n(t,r,o,{params:f,headers:d,context:g,reportProgress:u,responseType:i,withCredentials:c,transferCache:s})}},yr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(yr||{}),Ao=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Pn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Iu=class n extends Ao{constructor(e={}){super(e),this.type=yr.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ro=class n extends Ao{constructor(e={}){super(e),this.type=yr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gr=class extends Ao{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},zE=200,bx=204;function Kf(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Xf=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Co)s=t;else{let u;i.headers instanceof Pn?u=i.headers:u=new Pn(i.headers);let d;i.params&&(i.params instanceof mr?d=i.params:d=new mr({fromObject:i.params})),s=new Co(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=Y(s).pipe(Xn(u=>this.handler.handle(u)));if(t instanceof Co||i.observe==="events")return o;let c=o.pipe(ht(u=>u instanceof Ro));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Z(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(Z(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(Z(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(Z(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new mr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Kf(i,r))}post(t,r,i={}){return this.request("POST",t,Kf(i,r))}put(t,r,i={}){return this.request("PUT",t,Kf(i,r))}static{this.\u0275fac=function(r){return new(r||n)(G(So))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),Cx=/^\)\]\}',?\n/,Sx="X-Request-URL";function jE(n){if(n.url)return n.url;let e=Sx.toLocaleLowerCase();return n.headers.get(e)}var Ax=(()=>{class n{constructor(){this.fetchImpl=O(Jf,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=O(Te)}handle(t){return new ue(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Zf,s=>r.error(new gr({error:s}))),()=>i.abort()})}doRequest(t,r,i){return S(this,null,function*(){let s=this.createRequestInit(t),o;try{let I=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,U({signal:r},s)));Rx(I),i.next({type:yr.Sent}),o=yield I}catch(I){i.error(new gr({error:I,status:I.status??0,statusText:I.statusText,url:t.urlWithParams,headers:I.headers}));return}let c=new Pn(o.headers),u=o.statusText,d=jE(o)??t.urlWithParams,f=o.status,g=null;if(t.reportProgress&&i.next(new Iu({headers:c,status:f,statusText:u,url:d})),o.body){let I=o.headers.get("content-length"),A=[],N=o.body.getReader(),R=0,F,H,V=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>S(this,null,function*(){for(;;){let{done:we,value:Q}=yield N.read();if(we)break;if(A.push(Q),R+=Q.length,t.reportProgress){H=t.responseType==="text"?(H??"")+(F??=new TextDecoder).decode(Q,{stream:!0}):void 0;let w=()=>i.next({type:yr.DownloadProgress,total:I?+I:void 0,loaded:R,partialText:H});V?V.run(w):w()}}}));let X=this.concatChunks(A,R);try{let we=o.headers.get("Content-Type")??"";g=this.parseBody(t,X,we)}catch(we){i.error(new gr({error:we,headers:new Pn(o.headers),status:o.status,statusText:o.statusText,url:jE(o)??t.urlWithParams}));return}}f===0&&(f=g?zE:0),f>=200&&f<300?(i.next(new Ro({body:g,headers:c,status:f,statusText:u,url:d})),i.complete()):i.error(new gr({error:g,headers:c,status:f,statusText:u,url:d}))})}parseBody(t,r,i){switch(t.responseType){case"json":let s=new TextDecoder().decode(r).replace(Cx,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((s,o)=>r[s]=o.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),s=0;for(let o of t)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),Jf=class{};function Zf(){}function Rx(n){n.then(Zf,Zf)}function Nx(n,e){return e(n)}function xx(n,e,t){return(r,i)=>zt(t,()=>e(r,s=>n(s,i)))}var HE=new q(""),Mx=new q(""),Px=new q("",{providedIn:"root",factory:()=>!0});var BE=(()=>{class n extends So{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=O(ur),this.contributeToStability=O(Px)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(HE),...this.injector.get(Mx,[])]));this.chain=r.reduceRight((i,s)=>xx(i,s,this.injector),Nx)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Fr(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(G(_u),G(pt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();var Ox=/^\)\]\}',?\n/;function kx(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var $E=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new z(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ne(r.\u0275loadImpl()):Y(null)).pipe(wt(()=>new ue(s=>{let o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((N,R)=>o.setRequestHeader(N,R.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let N=t.detectContentTypeHeader();N!==null&&o.setRequestHeader("Content-Type",N)}if(t.responseType){let N=t.responseType.toLowerCase();o.responseType=N!=="json"?N:"text"}let c=t.serializeBody(),u=null,d=()=>{if(u!==null)return u;let N=o.statusText||"OK",R=new Pn(o.getAllResponseHeaders()),F=kx(o)||t.url;return u=new Iu({headers:R,status:o.status,statusText:N,url:F}),u},f=()=>{let{headers:N,status:R,statusText:F,url:H}=d(),V=null;R!==bx&&(V=typeof o.response>"u"?o.responseText:o.response),R===0&&(R=V?zE:0);let X=R>=200&&R<300;if(t.responseType==="json"&&typeof V=="string"){let we=V;V=V.replace(Ox,"");try{V=V!==""?JSON.parse(V):null}catch(Q){V=we,X&&(X=!1,V={error:Q,text:V})}}X?(s.next(new Ro({body:V,headers:N,status:R,statusText:F,url:H||void 0})),s.complete()):s.error(new gr({error:V,headers:N,status:R,statusText:F,url:H||void 0}))},g=N=>{let{url:R}=d(),F=new gr({error:N,status:o.status||0,statusText:o.statusText||"Unknown Error",url:R||void 0});s.error(F)},_=!1,I=N=>{_||(s.next(d()),_=!0);let R={type:yr.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),t.responseType==="text"&&o.responseText&&(R.partialText=o.responseText),s.next(R)},A=N=>{let R={type:yr.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),s.next(R)};return o.addEventListener("load",f),o.addEventListener("error",g),o.addEventListener("timeout",g),o.addEventListener("abort",g),t.reportProgress&&(o.addEventListener("progress",I),c!==null&&o.upload&&o.upload.addEventListener("progress",A)),o.send(c),s.next({type:yr.Sent}),()=>{o.removeEventListener("error",g),o.removeEventListener("abort",g),o.removeEventListener("load",f),o.removeEventListener("timeout",g),t.reportProgress&&(o.removeEventListener("progress",I),c!==null&&o.upload&&o.upload.removeEventListener("progress",A)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(G(Qi))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),qE=new q(""),Lx="XSRF-TOKEN",Fx=new q("",{providedIn:"root",factory:()=>Lx}),Vx="X-XSRF-TOKEN",Ux=new q("",{providedIn:"root",factory:()=>Vx}),wu=class{},jx=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=mu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(G(yt),G(cn),G(Fx))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();function Bx(n,e){let t=n.url.toLowerCase();if(!O(qE)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=O(wu).getToken(),i=O(Ux);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function GE(...n){let e=[Xf,$E,BE,{provide:So,useExisting:BE},{provide:_u,useFactory:()=>O(Ax,{optional:!0})??O($E)},{provide:HE,useValue:Bx,multi:!0},{provide:qE,useValue:!0},{provide:wu,useClass:jx}];for(let t of n)e.push(...t.\u0275providers);return on(e)}var np=class extends gu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},rp=class n extends np{static makeCurrent(){NE(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=zx();return t==null?null:Hx(t)}resetBaseElement(){No=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return mu(document.cookie,e)}},No=null;function zx(){return No=No||document.querySelector("base"),No?No.getAttribute("href"):null}function Hx(n){return new URL(n,document.baseURI).pathname}var qx=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),ip=new q(""),YE=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(G(ip),G(Te))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),Eu=class{constructor(e){this._doc=e}},ep="ng-app-id",JE=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yu(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${ep}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(ep),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(ep,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(G(yt),G(wf),G(Tf,8),G(cn))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),tp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},op=/%COMP%/g,ZE="%COMP%",Gx=`_nghost-${ZE}`,Wx=`_ngcontent-${ZE}`,Kx=!0,Qx=new q("",{providedIn:"root",factory:()=>Kx});function Yx(n){return Wx.replace(op,n)}function Jx(n){return Gx.replace(op,n)}function XE(n,e){return e.map(t=>t.replace(op,n))}var WE=(()=>{class n{constructor(t,r,i,s,o,c,u,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=yu(c),this.defaultRenderer=new xo(t,o,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===tn.ShadowDom&&(r=Ae(U({},r),{encapsulation:tn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Tu?i.applyToHost(t):i instanceof Mo&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case tn.Emulated:s=new Tu(u,d,r,this.appId,f,o,c,g);break;case tn.ShadowDom:return new sp(u,d,t,r,o,c,this.nonce,g);default:s=new Mo(u,d,r,f,o,c,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(G(YE),G(JE),G(wf),G(Qx),G(yt),G(cn),G(Te),G(Tf))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),xo=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(tp[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(KE(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(KE(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=tp[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=tp[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(lr.DashCase|lr.Important)?e.style.setProperty(t,r,i&lr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&lr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Ki().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function KE(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var sp=class extends xo{constructor(e,t,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=XE(i.id,i.styles);for(let f of d){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Mo=class extends xo{constructor(e,t,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?XE(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Tu=class extends Mo{constructor(e,t,r,i,s,o,c,u){let d=i+"-"+r.id;super(e,t,r,s,o,c,u,d),this.contentAttr=Yx(d),this.hostAttr=Jx(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},Zx=(()=>{class n extends Eu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(G(yt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),QE=["alt","control","meta","shift"],Xx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eM={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},tM=(()=>{class n extends Eu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ki().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),QE.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=Xx[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),QE.forEach(o=>{if(o!==i){let c=eM[o];c(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(G(yt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();function eT(n,e){return DE(U({rootComponent:n},nM(e)))}function nM(n){return{appProviders:[...aM,...n?.providers??[]],platformProviders:oM}}function rM(){rp.makeCurrent()}function iM(){return new Sn}function sM(){return Iw(document),document}var oM=[{provide:cn,useValue:kE},{provide:Ef,useValue:rM,multi:!0},{provide:yt,useFactory:sM,deps:[]}];var aM=[{provide:Xc,useValue:"root"},{provide:Sn,useFactory:iM,deps:[]},{provide:ip,useClass:Zx,multi:!0,deps:[yt,Te,cn]},{provide:ip,useClass:tM,multi:!0,deps:[yt]},WE,JE,YE,{provide:ji,useExisting:WE},{provide:Qi,useClass:qx,deps:[]},[]];var tT=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(G(yt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var re="primary",Ko=Symbol("RouteTitle"),dp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function is(n){return new dp(n)}function uM(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function lM(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!un(n[t],e[t]))return!1;return!0}function un(n,e){let t=n?hp(n):void 0,r=e?hp(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!uT(n[i],e[i]))return!1;return!0}function hp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function uT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function lT(n){return n.length>0?n[n.length-1]:null}function vr(n){return Hd(n)?n:To(n)?Ne(Promise.resolve(n)):Y(n)}var dM={exact:hT,subset:fT},dT={exact:hM,subset:fM,ignored:()=>!0};function nT(n,e,t){return dM[t.paths](n.root,e.root,t.matrixParams)&&dT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function hM(n,e){return un(n,e)}function hT(n,e,t){if(!Kr(n.segments,e.segments)||!Cu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!hT(n.children[r],e.children[r],t))return!1;return!0}function fM(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>uT(n[t],e[t]))}function fT(n,e,t){return pT(n,e,e.segments,t)}function pT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Kr(i,t)||e.hasChildren()||!Cu(i,t,r))}else if(n.segments.length===t.length){if(!Kr(n.segments,t)||!Cu(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!fT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Kr(n.segments,i)||!Cu(n.segments,i,r)||!n.children[re]?!1:pT(n.children[re],e,s,r)}}function Cu(n,e,t){return e.every((r,i)=>dT[t](n[i].parameters,r.parameters))}var kn=class{constructor(e=new Ee([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=is(this.queryParams),this._queryParamMap}toString(){return mM.serialize(this)}},Ee=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Su(this)}},Wr=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=is(this.parameters),this._parameterMap}toString(){return mT(this)}};function pM(n,e){return Kr(n,e)&&n.every((t,r)=>un(t.parameters,e[r].parameters))}function Kr(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function gM(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===re&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==re&&(t=t.concat(e(i,r)))}),t}var Vp=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>new Uo,providedIn:"root"})}}return n})(),Uo=class{parse(e){let t=new pp(e);return new kn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Po(e.root,!0)}`,r=_M(e.queryParams),i=typeof e.fragment=="string"?`#${yM(e.fragment)}`:"";return`${t}${r}${i}`}},mM=new Uo;function Su(n){return n.segments.map(e=>mT(e)).join("/")}function Po(n,e){if(!n.hasChildren())return Su(n);if(e){let t=n.children[re]?Po(n.children[re],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${Po(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=gM(n,(r,i)=>i===re?[Po(n.children[re],!1)]:[`${i}:${Po(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[re]!=null?`${Su(n)}/${t[0]}`:`${Su(n)}/(${t.join("//")})`}}function gT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Du(n){return gT(n).replace(/%3B/gi,";")}function yM(n){return encodeURI(n)}function fp(n){return gT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Au(n){return decodeURIComponent(n)}function rT(n){return Au(n.replace(/\+/g,"%20"))}function mT(n){return`${fp(n.path)}${vM(n.parameters)}`}function vM(n){return Object.entries(n).map(([e,t])=>`;${fp(e)}=${fp(t)}`).join("")}function _M(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Du(t)}=${Du(i)}`).join("&"):`${Du(t)}=${Du(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var IM=/^[^\/()?;#]+/;function ap(n){let e=n.match(IM);return e?e[0]:""}var wM=/^[^\/()?;=#]+/;function EM(n){let e=n.match(wM);return e?e[0]:""}var TM=/^[^=?&#]+/;function DM(n){let e=n.match(TM);return e?e[0]:""}var bM=/^[^&#]+/;function CM(n){let e=n.match(bM);return e?e[0]:""}var pp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[re]=new Ee(e,t)),r}parseSegment(){let e=ap(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new Wr(Au(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=EM(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=ap(this.remaining);i&&(r=i,this.capture(r))}e[Au(t)]=Au(r)}parseQueryParam(e){let t=DM(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=CM(this.remaining);o&&(r=o,this.capture(r))}let i=rT(t),s=rT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ap(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[re]:new Ee([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function yT(n){return n.segments.length>0?new Ee([],{[re]:n}):n}function vT(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=vT(i);if(r===re&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Ee(n.segments,e);return SM(t)}function SM(n){if(n.numberOfChildren===1&&n.children[re]){let e=n.children[re];return new Ee(n.segments.concat(e.segments),e.children)}return n}function Qr(n){return n instanceof kn}function AM(n,e,t=null,r=null){let i=_T(n);return IT(i,e,t,r)}function _T(n){let e;function t(s){let o={};for(let u of s.children){let d=t(u);o[u.outlet]=d}let c=new Ee(s.url,o);return s===n&&(e=c),c}let r=t(n.root),i=yT(r);return e??i}function IT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return cp(i,i,i,t,r);let s=RM(e);if(s.toRoot())return cp(i,i,new Ee([],{}),t,r);let o=NM(s,i,n),c=o.processChildren?Lo(o.segmentGroup,o.index,s.commands):ET(o.segmentGroup,o.index,s.commands);return cp(i,o.segmentGroup,c,t,r)}function Ru(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function jo(n){return typeof n=="object"&&n!=null&&n.outlets}function cp(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let o;n===e?o=t:o=wT(n,e,t);let c=yT(vT(o));return new kn(c,s,i)}function wT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=wT(s,e,t)}),new Ee(n.segments,r)}var Nu=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ru(r[0]))throw new z(4003,!1);let i=r.find(jo);if(i&&i!==lT(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function RM(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Nu(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Nu(t,e,r)}var ts=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function NM(n,e,t){if(n.isAbsolute)return new ts(e,!0,0);if(!t)return new ts(e,!1,NaN);if(t.parent===null)return new ts(t,!0,0);let r=Ru(n.commands[0])?0:1,i=t.segments.length-1+r;return xM(t,i,n.numberOfDoubleDots)}function xM(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new ts(r,!1,i-s)}function MM(n){return jo(n[0])?n[0].outlets:{[re]:n}}function ET(n,e,t){if(n??=new Ee([],{}),n.segments.length===0&&n.hasChildren())return Lo(n,e,t);let r=PM(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Ee(n.segments.slice(0,r.pathIndex),{});return s.children[re]=new Ee(n.segments.slice(r.pathIndex),n.children),Lo(s,0,i)}else return r.match&&i.length===0?new Ee(n.segments,{}):r.match&&!n.hasChildren()?gp(n,e,t):r.match?Lo(n,0,i):gp(n,e,t)}function Lo(n,e,t){if(t.length===0)return new Ee(n.segments,{});{let r=MM(t),i={};if(Object.keys(r).some(s=>s!==re)&&n.children[re]&&n.numberOfChildren===1&&n.children[re].segments.length===0){let s=Lo(n.children[re],e,t);return new Ee(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=ET(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ee(n.segments,i)}}function PM(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],c=t[r];if(jo(c))break;let u=`${c}`,d=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!sT(u,d,o))return s;r+=2}else{if(!sT(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function gp(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(jo(s)){let u=OM(s.outlets);return new Ee(r,u)}if(i===0&&Ru(t[0])){let u=n.segments[e];r.push(new Wr(u.path,iT(t[0]))),i++;continue}let o=jo(s)?s.outlets[re]:`${s}`,c=i<t.length-1?t[i+1]:null;o&&c&&Ru(c)?(r.push(new Wr(o,iT(c))),i+=2):(r.push(new Wr(o,{})),i++)}return new Ee(r,{})}function OM(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=gp(new Ee([],{}),0,r))}),e}function iT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function sT(n,e,t){return n==t.path&&un(e,t.parameters)}var Fo="imperative",Je=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Je||{}),Pt=class{constructor(e,t){this.id=e,this.url=t}},Bo=class extends Pt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Je.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ln=class extends Pt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Je.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},bt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(bt||{}),mp=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(mp||{}),On=class extends Pt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Je.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Yr=class extends Pt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Je.NavigationSkipped}},$o=class extends Pt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Je.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xu=class extends Pt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Je.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yp=class extends Pt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Je.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vp=class extends Pt{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Je.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_p=class extends Pt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Je.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ip=class extends Pt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Je.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wp=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ep=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tp=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dp=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bp=class{constructor(e){this.snapshot=e,this.type=Je.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cp=class{constructor(e){this.snapshot=e,this.type=Je.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var zo=class{},ss=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function kM(n,e){return n.providers&&!n._injector&&(n._injector=Ff(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Wt(n){return n.outlet||re}function LM(n,e){let t=n.filter(r=>Wt(r)===e);return t.push(...n.filter(r=>Wt(r)!==e)),t}function Qo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Sp=class{get injector(){return Qo(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Vu(this.rootInjector),this.attachRef=null}},Vu=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(G(pt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Mu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ap(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Ap(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Rp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Rp(e,this._root).map(t=>t.value)}};function Ap(n,e){if(n===e.value)return e;for(let t of e.children){let r=Ap(n,t);if(r)return r}return null}function Rp(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Rp(n,t);if(r.length)return r.unshift(e),r}return[]}var Dt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function es(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Pu=class extends Mu{constructor(e,t){super(e),this.snapshot=t,Up(this,e)}toString(){return this.snapshot.toString()}};function TT(n){let e=FM(n),t=new We([new Wr("",{})]),r=new We({}),i=new We({}),s=new We({}),o=new We(""),c=new Kt(t,r,s,o,i,re,n,e.root);return c.snapshot=e.root,new Pu(new Dt(c,[]),e)}function FM(n){let e={},t={},r={},i="",s=new ns([],e,r,i,t,re,n,null,{});return new ku("",new Dt(s,[]))}var Kt=class{constructor(e,t,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Z(d=>d[Ko]))??Y(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>is(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>is(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ou(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),i?.data),n._resolvedData)}:r={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},i&&bT(i)&&(r.resolve[Ko]=i.title),r}var ns=class{get title(){return this.data?.[Ko]}constructor(e,t,r,i,s,o,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=is(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=is(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ku=class extends Mu{constructor(e,t){super(t),this.url=e,Up(this,t)}toString(){return DT(this._root)}};function Up(n,e){e.value._routerState=n,e.children.forEach(t=>Up(n,t))}function DT(n){let e=n.children.length>0?` { ${n.children.map(DT).join(", ")} } `:"";return`${n.value}${e}`}function up(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,un(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),un(e.params,t.params)||n.paramsSubject.next(t.params),lM(e.url,t.url)||n.urlSubject.next(t.url),un(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Np(n,e){let t=un(n.params,e.params)&&pM(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Np(n.parent,e.parent))}function bT(n){return typeof n.title=="string"||n.title===null}var jp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.parentContexts=O(Vu),this.location=O(dr),this.changeDetector=O(Wi),this.inputBinder=O(Bp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new xp(t,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ar({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$i]})}}return n})(),xp=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Kt?this.route:e===Vu?this.childContexts:this.parent.get(e,t)}},Bp=new q("");function VM(n,e,t){let r=Ho(n,e._root,t?t._root:void 0);return new Pu(r,e)}function Ho(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=UM(n,e,t);return new Dt(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Ho(n,c)),o}}let r=jM(e.value),i=e.children.map(s=>Ho(n,s));return new Dt(r,i)}}function UM(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ho(n,r,i);return Ho(n,r)})}function jM(n){return new Kt(new We(n.url),new We(n.params),new We(n.queryParams),new We(n.fragment),new We(n.data),n.outlet,n.component,n)}var qo=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},CT="ngNavigationCancelingError";function Lu(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Qr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ST(!1,bt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function ST(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[CT]=!0,t.cancellationCode=e,t}function BM(n){return AT(n)&&Qr(n.url)}function AT(n){return!!n&&n[CT]}var $M=(n,e,t,r)=>Z(i=>(new Mp(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Mp=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),up(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=es(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=es(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=es(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=es(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Cp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Dp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(up(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),up(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Fu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},rs=class{constructor(e,t){this.component=e,this.route=t}};function zM(n,e,t){let r=n._root,i=e?e._root:null;return Oo(r,i,t,[r.value])}function HM(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function as(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!sI(n)?n:e.get(n):r}function Oo(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=es(e);return n.children.forEach(o=>{qM(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Vo(c,t.getContext(o),i)),i}function qM(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=GM(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Fu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Oo(n,e,c?c.children:null,r,i):Oo(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new rs(c.outlet.component,o))}else o&&Vo(e,c,i),i.canActivateChecks.push(new Fu(r)),s.component?Oo(n,null,c?c.children:null,r,i):Oo(n,null,t,r,i);return i}function GM(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Kr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Kr(n.url,e.url)||!un(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Np(n,e)||!un(n.queryParams,e.queryParams);case"paramsChange":default:return!Np(n,e)}}function Vo(n,e,t){let r=es(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Vo(o,e.children.getContext(s),t):Vo(o,null,t):Vo(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new rs(e.outlet.component,i)):t.canDeactivateChecks.push(new rs(null,i)):t.canDeactivateChecks.push(new rs(null,i))}function Yo(n){return typeof n=="function"}function WM(n){return typeof n=="boolean"}function KM(n){return n&&Yo(n.canLoad)}function QM(n){return n&&Yo(n.canActivate)}function YM(n){return n&&Yo(n.canActivateChild)}function JM(n){return n&&Yo(n.canDeactivate)}function ZM(n){return n&&Yo(n.canMatch)}function RT(n){return n instanceof Tn||n?.name==="EmptyError"}var bu=Symbol("INITIAL_VALUE");function os(){return wt(n=>pc(n.map(e=>e.pipe(Dn(1),vc(bu)))).pipe(Z(e=>{for(let t of e)if(t!==!0){if(t===bu)return bu;if(t===!1||XM(t))return t}return!0}),ht(e=>e!==bu),Dn(1)))}function XM(n){return Qr(n)||n instanceof qo}function eP(n,e){return Be(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?Y(Ae(U({},t),{guardsResult:!0})):tP(o,r,i,n).pipe(Be(c=>c&&WM(c)?nP(r,s,n,e):Y(c)),Z(c=>Ae(U({},t),{guardsResult:c})))})}function tP(n,e,t,r){return Ne(n).pipe(Be(i=>aP(i.component,i.route,t,e,r)),Jt(i=>i!==!0,!0))}function nP(n,e,t,r){return Ne(e).pipe(Xn(i=>Ci(iP(i.route.parent,r),rP(i.route,r),oP(n,i.path,t),sP(n,i.route,t))),Jt(i=>i!==!0,!0))}function rP(n,e){return n!==null&&e&&e(new bp(n)),Y(!0)}function iP(n,e){return n!==null&&e&&e(new Tp(n)),Y(!0)}function sP(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(s=>gc(()=>{let o=Qo(e)??t,c=as(s,o),u=QM(c)?c.canActivate(e,n):zt(o,()=>c(e,n));return vr(u).pipe(Jt())}));return Y(i).pipe(os())}function oP(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>HM(o)).filter(o=>o!==null).map(o=>gc(()=>{let c=o.guards.map(u=>{let d=Qo(o.node)??t,f=as(u,d),g=YM(f)?f.canActivateChild(r,n):zt(d,()=>f(r,n));return vr(g).pipe(Jt())});return Y(c).pipe(os())}));return Y(s).pipe(os())}function aP(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Y(!0);let o=s.map(c=>{let u=Qo(e)??i,d=as(c,u),f=JM(d)?d.canDeactivate(n,e,t,r):zt(u,()=>d(n,e,t,r));return vr(f).pipe(Jt())});return Y(o).pipe(os())}function cP(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let s=i.map(o=>{let c=as(o,n),u=KM(c)?c.canLoad(e,t):zt(n,()=>c(e,t));return vr(u)});return Y(s).pipe(os(),NT(r))}function NT(n){return Xa(Ve(e=>{if(typeof e!="boolean")throw Lu(n,e)}),Z(e=>e===!0))}function uP(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let s=i.map(o=>{let c=as(o,n),u=ZM(c)?c.canMatch(e,t):zt(n,()=>c(e,t));return vr(u)});return Y(s).pipe(os(),NT(r))}var Go=class{constructor(e){this.segmentGroup=e||null}},Wo=class extends Error{constructor(e){super(),this.urlTree=e}};function Xi(n){return Di(new Go(n))}function lP(n){return Di(new z(4e3,!1))}function dP(n){return Di(ST(!1,bt.GuardRejected))}var Pp=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[re])return lP(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let c=t,{queryParams:u,fragment:d,routeConfig:f,url:g,outlet:_,params:I,data:A,title:N}=i,R=zt(s,()=>c({params:I,data:A,queryParams:u,fragment:d,routeConfig:f,url:g,outlet:_,title:N}));if(R instanceof kn)throw new Wo(R);t=R}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Wo(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new kn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new Ee(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Op={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hP(n,e,t,r,i){let s=xT(n,e,t);return s.matched?(r=kM(e,r),uP(r,e,t,i).pipe(Z(o=>o===!0?s:U({},Op)))):Y(s)}function xT(n,e,t){if(e.path==="**")return fP(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},Op):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||uM)(t,n,e);if(!i)return U({},Op);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?U(U({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function fP(n){return{matched:!0,parameters:n.length>0?lT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function oT(n,e,t,r){return t.length>0&&mP(n,t,r)?{segmentGroup:new Ee(e,gP(r,new Ee(t,n.children))),slicedSegments:[]}:t.length===0&&yP(n,t,r)?{segmentGroup:new Ee(n.segments,pP(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ee(n.segments,n.children),slicedSegments:t}}function pP(n,e,t,r){let i={};for(let s of t)if(Uu(n,e,s)&&!r[Wt(s)]){let o=new Ee([],{});i[Wt(s)]=o}return U(U({},r),i)}function gP(n,e){let t={};t[re]=e;for(let r of n)if(r.path===""&&Wt(r)!==re){let i=new Ee([],{});t[Wt(r)]=i}return t}function mP(n,e,t){return t.some(r=>Uu(n,e,r)&&Wt(r)!==re)}function yP(n,e,t){return t.some(r=>Uu(n,e,r))}function Uu(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function vP(n,e,t){return e.length===0&&!n.children[t]}var kp=class{};function _P(n,e,t,r,i,s,o="emptyOnly"){return new Lp(n,e,t,r,i,o,s).recognize()}var IP=31,Lp=class{constructor(e,t,r,i,s,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Pp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=oT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(({children:t,rootSnapshot:r})=>{let i=new Dt(r,t),s=new ku("",i),o=AM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new ns([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,t).pipe(Z(r=>({children:r,rootSnapshot:t})),Zn(r=>{if(r instanceof Wo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Go?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(Z(o=>o instanceof Dt?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ne(s).pipe(Xn(o=>{let c=r.children[o],u=LM(t,o);return this.processSegmentGroup(e,u,c,o,i)}),yc((o,c)=>(o.push(...c),o)),er(null),Gd(),Be(o=>{if(o===null)return Xi(r);let c=MT(o);return wP(c),Y(c)}))}processSegment(e,t,r,i,s,o,c){return Ne(t).pipe(Xn(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,s,o,c).pipe(Zn(d=>{if(d instanceof Go)return Y(null);throw d}))),Jt(u=>!!u),Zn(u=>{if(RT(u))return vP(r,i,s)?Y(new kp):Xi(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,s,o,c,u){return Wt(r)!==o&&(o===re||!Uu(i,s,r))?Xi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,u):Xi(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,c){let{matched:u,parameters:d,consumedSegments:f,positionalParamSegments:g,remainingSegments:_}=xT(t,i,s);if(!u)return Xi(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>IP&&(this.allowRedirects=!1));let I=new ns(s,d,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,aT(i),Wt(i),i.component??i._loadedComponent??null,i,cT(i)),A=Ou(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(A.params),I.data=Object.freeze(A.data);let N=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,I,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Be(R=>this.processSegment(e,r,t,R.concat(_),o,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let c=hP(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(wt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(wt(({routes:d})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:I}=u,A=new ns(_,g,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,aT(r),Wt(r),r.component??r._loadedComponent??null,r,cT(r)),N=Ou(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(N.params),A.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:F}=oT(t,_,I,d);if(F.length===0&&R.hasChildren())return this.processChildren(f,d,R,A).pipe(Z(V=>new Dt(A,V)));if(d.length===0&&F.length===0)return Y(new Dt(A,[]));let H=Wt(r)===s;return this.processSegment(f,d,R,F,H?re:s,!0,A).pipe(Z(V=>new Dt(A,V instanceof Dt?[V]:[])))}))):Xi(t)))}getChildConfig(e,t,r){return t.children?Y({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Y({routes:t._loadedRoutes,injector:t._loadedInjector}):cP(e,t,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(e,t).pipe(Ve(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):dP(t))):Y({routes:[],injector:e})}};function wP(n){n.sort((e,t)=>e.value.outlet===re?-1:t.value.outlet===re?1:e.value.outlet.localeCompare(t.value.outlet))}function EP(n){let e=n.value.routeConfig;return e&&e.path===""}function MT(n){let e=[],t=new Set;for(let r of n){if(!EP(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=MT(r.children);e.push(new Dt(r.value,i))}return e.filter(r=>!t.has(r))}function aT(n){return n.data||{}}function cT(n){return n.resolve||{}}function TP(n,e,t,r,i,s){return Be(o=>_P(n,e,t,r,o.extractedUrl,i,s).pipe(Z(({state:c,tree:u})=>Ae(U({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function DP(n,e){return Be(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Y(t);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of PT(u))o.add(d);let c=0;return Ne(o).pipe(Xn(u=>s.has(u)?bP(u,r,n,e):(u.data=Ou(u,u.parent,n).resolve,Y(void 0))),Ve(()=>c++),Si(1),Be(u=>c===o.size?Y(t):It))})}function PT(n){let e=n.children.map(t=>PT(t)).flat();return[n,...e]}function bP(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!bT(i)&&(s[Ko]=i.title),CP(s,n,e,r).pipe(Z(o=>(n._resolvedData=o,n.data=Ou(n,n.parent,t).resolve,null)))}function CP(n,e,t,r){let i=hp(n);if(i.length===0)return Y({});let s={};return Ne(i).pipe(Be(o=>SP(n[o],e,t,r).pipe(Jt(),Ve(c=>{if(c instanceof qo)throw Lu(new Uo,c);s[o]=c}))),Si(1),qd(s),Zn(o=>RT(o)?It:Di(o)))}function SP(n,e,t,r){let i=Qo(e)??r,s=as(n,i),o=s.resolve?s.resolve(e,t):zt(i,()=>s(e,t));return vr(o)}function lp(n){return wt(e=>{let t=n(e);return t?Ne(t).pipe(Z(()=>e)):Y(e)})}var OT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===re);return r}getResolvedTitleForRoute(t){return t.data[Ko]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>O(AP),providedIn:"root"})}}return n})(),AP=(()=>{class n extends OT{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(G(tT))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$p=new q("",{providedIn:"root",factory:()=>({})}),RP=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=it({type:n,selectors:[["ng-component"]],standalone:!0,features:[st],decls:1,vars:0,template:function(r,i){r&1&&ve(0,"router-outlet")},dependencies:[jp],encapsulation:2})}}return n})();function zp(n){let e=n.children&&n.children.map(zp),t=e?Ae(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==re&&(t.component=RP),t}var Hp=new q(""),NP=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(jf)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Y(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=vr(t.loadComponent()).pipe(Z(kT),Ve(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Fr(()=>{this.componentLoaders.delete(t)})),i=new Ii(r,()=>new nt).pipe(_i());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=xP(r,this.compiler,t,this.onLoadEndListener).pipe(Fr(()=>{this.childrenLoaders.delete(r)})),o=new Ii(s,()=>new nt).pipe(_i());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function xP(n,e,t,r){return vr(n.loadChildren()).pipe(Z(kT),Be(i=>i instanceof go||Array.isArray(i)?Y(i):Ne(e.compileModuleAsync(i))),Z(i=>{r&&r(n);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(t).injector,o=s.get(Hp,[],{optional:!0,self:!0}).flat()),{routes:o.map(zp),injector:s}}))}function MP(n){return n&&typeof n=="object"&&"default"in n}function kT(n){return MP(n)?n.default:n}var qp=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>O(PP),providedIn:"root"})}}return n})(),PP=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),OP=new q("");var kP=new q(""),LP=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nt,this.transitionAbortSubject=new nt,this.configLoader=O(NP),this.environmentInjector=O(pt),this.urlSerializer=O(Vp),this.rootContexts=O(Vu),this.location=O(bo),this.inputBindingEnabled=O(Bp,{optional:!0})!==null,this.titleStrategy=O(OT),this.options=O($p,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(qp),this.createViewTransition=O(OP,{optional:!0}),this.navigationErrorHandler=O(kP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let t=i=>this.events.next(new wp(i)),r=i=>this.events.next(new Ep(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Ae(U(U({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new We({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Fo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ht(s=>s.id!==0),Z(s=>Ae(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),wt(s=>{let o=!1,c=!1;return Y(s).pipe(wt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",bt.SupersededByNewNavigation),It;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Ae(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new Yr(u.id,this.urlSerializer.serialize(u.rawUrl),g,mp.IgnoredSameUrlNavigation)),u.resolve(!1),It}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Y(u).pipe(wt(g=>{let _=this.transitions?.getValue();return this.events.next(new Bo(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?It:Promise.resolve(g)}),TP(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=Ae(U({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new xu(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:I,restoredState:A,extras:N}=u,R=new Bo(g,this.urlSerializer.serialize(_),I,A);this.events.next(R);let F=TT(this.rootComponentType).snapshot;return this.currentTransition=s=Ae(U({},u),{targetSnapshot:F,urlAfterRedirects:_,extras:Ae(U({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,Y(s)}else{let g="";return this.events.next(new Yr(u.id,this.urlSerializer.serialize(u.extractedUrl),g,mp.IgnoredByUrlHandlingStrategy)),u.resolve(!1),It}}),Ve(u=>{let d=new yp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Z(u=>(this.currentTransition=s=Ae(U({},u),{guards:zM(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),eP(this.environmentInjector,u=>this.events.next(u)),Ve(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Lu(this.urlSerializer,u.guardsResult);let d=new vp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),ht(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",bt.GuardRejected),!1)),lp(u=>{if(u.guards.canActivateChecks.length)return Y(u).pipe(Ve(d=>{let f=new _p(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),wt(d=>{let f=!1;return Y(d).pipe(DP(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",bt.NoDataFromResolver)}}))}),Ve(d=>{let f=new Ip(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),lp(u=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(Ve(_=>{f.component=_}),Z(()=>{})));for(let _ of f.children)g.push(...d(_));return g};return pc(d(u.targetSnapshot.root)).pipe(er(null),Dn(1))}),lp(()=>this.afterPreactivation()),wt(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?Ne(f).pipe(Z(()=>s)):Y(s)}),Z(u=>{let d=VM(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=Ae(U({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),Ve(()=>{this.events.next(new zo)}),$M(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Dn(1),Ve({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ln(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Wd(this.transitionAbortSubject.pipe(Ve(u=>{throw u}))),Fr(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",bt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zn(u=>{if(c=!0,AT(u))this.events.next(new On(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),BM(u)?this.events.next(new ss(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let d=new $o(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let f=zt(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof qo){let{message:g,cancellationCode:_}=Lu(this.urlSerializer,f);this.events.next(new On(s.id,this.urlSerializer.serialize(s.extractedUrl),g,_)),this.events.next(new ss(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let g=t.errorHandler(u);s.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return It}))}))}cancelNavigationTransition(t,r,i){let s=new On(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function FP(n){return n!==Fo}var VP=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>O(UP),providedIn:"root"})}}return n})(),Fp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},UP=(()=>{class n extends Fp{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yf(n)))(i||n)}})()}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),LT=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>O(jP),providedIn:"root"})}}return n})(),jP=(()=>{class n extends LT{constructor(){super(...arguments),this.location=O(bo),this.urlSerializer=O(Vp),this.options=O($p,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(qp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=TT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Bo)this.stateMemento=this.createStateMemento();else if(t instanceof Yr)this.rawUrlTree=r.initialUrl;else if(t instanceof xu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof zo?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof On&&(t.code===bt.GuardRejected||t.code===bt.NoDataFromResolver)?this.restoreHistory(r):t instanceof $o?this.restoreHistory(r,!0):t instanceof Ln&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof kn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=U(U({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yf(n)))(i||n)}})()}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ko=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ko||{});function BP(n,e){n.events.pipe(ht(t=>t instanceof Ln||t instanceof On||t instanceof $o||t instanceof Yr),Z(t=>t instanceof Ln||t instanceof Yr?ko.COMPLETE:(t instanceof On?t.code===bt.Redirect||t.code===bt.SupersededByNewNavigation:!1)?ko.REDIRECTING:ko.FAILED),ht(t=>t!==ko.REDIRECTING),Dn(1)).subscribe(()=>{e()})}function $P(n){throw n}var zP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},cs=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(fu),this.stateManager=O(LT),this.options=O($p,{optional:!0})||{},this.pendingTasks=O(ur),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(LP),this.urlSerializer=O(Vp),this.location=O(bo),this.urlHandlingStrategy=O(qp),this._events=new nt,this.errorHandler=this.options.errorHandler||$P,this.navigated=!1,this.routeReuseStrategy=O(VP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Hp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(Bp,{optional:!0}),this.eventsSubscription=new Me,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof On&&r.code!==bt.Redirect&&r.code!==bt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ln)this.navigated=!0;else if(r instanceof ss){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||FP(i.source)},o);this.scheduleNavigation(c,Fo,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}GP(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=U({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(zp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=_T(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return IT(g,t,f,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Qr(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Fo,null,r)}navigate(t,r={skipLocationChange:!1}){return qP(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=U({},zP):r===!1?i=U({},HP):i=r,Qr(t))return nT(this.currentUrlTree,t,i);let s=this.parseUrl(t);return nT(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,d;o?(c=o.resolve,u=o.reject,d=o.promise):d=new Promise((g,_)=>{c=g,u=_});let f=this.pendingTasks.add();return BP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function qP(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new z(4008,!1)}function GP(n){return!(n instanceof zo)&&!(n instanceof ss)}var ln=(()=>{class n{constructor(t,r,i,s,o,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.onChanges=new nt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof Ln&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Qr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Tw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Qr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(ce(cs),ce(Kt),vf("tabindex"),ce(qi),ce(an),ce(pr))}}static{this.\u0275dir=ar({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&wo("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Uf("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Do],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Do],replaceUrl:[2,"replaceUrl","replaceUrl",Do],routerLink:"routerLink"},standalone:!0,features:[Lf,$i]})}}return n})(),FT=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ke,this.routerEventsSubscription=t.events.subscribe(c=>{c instanceof Ln&&this.update()})}ngAfterContentInit(){Y(this.links.changes,Y(null)).pipe(bi()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ne(t).pipe(bi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=WP(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(ce(cs),ce(an),ce(qi),ce(Wi),ce(ln,8))}}static{this.\u0275dir=ar({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&hE(s,ln,5),r&2){let o;fE(o=pE())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[$i]})}}return n})();function WP(n){return!!n.paths}var KP=new q("");function VT(n,...e){return on([{provide:Hp,multi:!0,useValue:n},[],{provide:Kt,useFactory:QP,deps:[cs]},{provide:pu,multi:!0,useFactory:JP},e.map(t=>t.\u0275providers)])}function QP(n){return n.routerState.root}function YP(n,e){return{\u0275kind:n,\u0275providers:e}}function JP(){let n=O($t);return e=>{let t=n.get(fr);if(e!==t.components[0])return;let r=n.get(cs),i=n.get(ZP);n.get(XP)===1&&r.initialNavigation(),n.get(eO,null,se.Optional)?.setUpPreloading(),n.get(KP,null,se.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ZP=new q("",{factory:()=>new nt}),XP=new q("",{providedIn:"root",factory:()=>1});var eO=new q("");function UT(){return YP(6,[{provide:pr,useClass:PE}])}var BT=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},tO=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],c=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,_=(c&15)<<2|d>>6,I=d&63;u||(I=64,o||(_=64)),r.push(t[f],t[g],t[_],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(BT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||d==null||g==null)throw new Kp;let _=s<<2|c>>4;if(r.push(_),d!==64){let I=c<<4&240|d>>2;if(r.push(I),g!==64){let A=d<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Kp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},nO=function(n){let e=BT(n);return $T.encodeByteArray(e,!0)},Jo=function(n){return nO(n).replace(/\./g,"")},Yp=function(n){try{return $T.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var iO=()=>rO().__FIREBASE_DEFAULTS__,sO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},oO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Yp(n[1]);return e&&JSON.parse(e)},Bu=()=>{try{return iO()||sO()||oO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},zT=n=>{var e,t;return(t=(e=Bu())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},HT=n=>{let e=zT(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Jp=()=>{var n;return(n=Bu())===null||n===void 0?void 0:n.config},qT=n=>{var e;return(e=Bu())===null||e===void 0?void 0:e[`_${n}`]};var ju=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function GT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Jo(JSON.stringify(t)),Jo(JSON.stringify(o)),""].join(".")}function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function aO(){var n;let e=(n=Bu())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QT(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function YT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JT(){return!aO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zp(){try{return typeof indexedDB=="object"}catch{return!1}}function ZT(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var cO="FirebaseError",Ot=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=cO,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fn.prototype.create)}},Fn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?uO(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Ot(i,c,r)}};function uO(n,e){return n.replace(lO,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var lO=/\{\$([^}]+)}/g;function us(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(jT(s)&&jT(o)){if(!us(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function jT(n){return n!==null&&typeof n=="object"}function Xp(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function XT(n,e){let t=new Qp(n,e);return t.subscribe.bind(t)}var Qp=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");dO(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Wp),i.error===void 0&&(i.error=Wp),i.complete===void 0&&(i.complete=Wp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function dO(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wp(){}var Hz=4*60*60*1e3;function Vn(n){return n&&n._delegate?n._delegate:n}var kt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Jr="[DEFAULT]";var eg=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ju;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fO(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Jr){return this.instances.has(e)}getOptions(e=Jr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jr){return this.component?this.component.multipleInstances?e:Jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hO(n){return n===Jr?void 0:n}function fO(n){return n.instantiationMode==="EAGER"}var $u=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new eg(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var pO=[],le=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(le||{}),gO={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},mO=le.INFO,yO={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},vO=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=yO[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},_r=class{constructor(e){this.name=e,this._logLevel=mO,this._logHandler=vO,this._userLogHandler=null,pO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var _O=(n,e)=>e.some(t=>n instanceof t),eD,tD;function IO(){return eD||(eD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wO(){return tD||(tD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var nD=new WeakMap,ng=new WeakMap,rD=new WeakMap,tg=new WeakMap,ig=new WeakMap;function EO(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(dn(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&nD.set(t,n)}).catch(()=>{}),ig.set(e,n),e}function TO(n){if(ng.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});ng.set(n,e)}var rg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ng.get(n);if(e==="objectStoreNames")return n.objectStoreNames||rD.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return dn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function iD(n){rg=n(rg)}function DO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(zu(this),e,...t);return rD.set(r,e.sort?e.sort():[e]),dn(r)}:wO().includes(n)?function(...e){return n.apply(zu(this),e),dn(nD.get(this))}:function(...e){return dn(n.apply(zu(this),e))}}function bO(n){return typeof n=="function"?DO(n):(n instanceof IDBTransaction&&TO(n),_O(n,IO())?new Proxy(n,rg):n)}function dn(n){if(n instanceof IDBRequest)return EO(n);if(tg.has(n))return tg.get(n);let e=bO(n);return e!==n&&(tg.set(n,e),ig.set(e,n)),e}var zu=n=>ig.get(n);function oD(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),c=dn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(dn(o.result),u.oldVersion,u.newVersion,dn(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var CO=["get","getKey","getAll","getAllKeys","count"],SO=["put","add","delete","clear"],sg=new Map;function sD(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(sg.get(e))return sg.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=SO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CO.includes(t)))return;let s=function(o,...c){return S(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),i&&u.done]))[0]})};return sg.set(e,s),s}iD(n=>Ae(U({},n),{get:(e,t,r)=>sD(e,t)||n.get(e,t,r),has:(e,t)=>!!sD(e,t)||n.has(e,t)}));var ag=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AO(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function AO(n){let e=n.getComponent();return e?.type==="VERSION"}var cg="@firebase/app",aD="0.10.13";var Un=new _r("@firebase/app"),RO="@firebase/app-compat",NO="@firebase/analytics-compat",xO="@firebase/analytics",MO="@firebase/app-check-compat",PO="@firebase/app-check",OO="@firebase/auth",kO="@firebase/auth-compat",LO="@firebase/database",FO="@firebase/data-connect",VO="@firebase/database-compat",UO="@firebase/functions",jO="@firebase/functions-compat",BO="@firebase/installations",$O="@firebase/installations-compat",zO="@firebase/messaging",HO="@firebase/messaging-compat",qO="@firebase/performance",GO="@firebase/performance-compat",WO="@firebase/remote-config",KO="@firebase/remote-config-compat",QO="@firebase/storage",YO="@firebase/storage-compat",JO="@firebase/firestore",ZO="@firebase/vertexai-preview",XO="@firebase/firestore-compat",ek="firebase",tk="10.14.1";var ug="[DEFAULT]",nk={[cg]:"fire-core",[RO]:"fire-core-compat",[xO]:"fire-analytics",[NO]:"fire-analytics-compat",[PO]:"fire-app-check",[MO]:"fire-app-check-compat",[OO]:"fire-auth",[kO]:"fire-auth-compat",[LO]:"fire-rtdb",[FO]:"fire-data-connect",[VO]:"fire-rtdb-compat",[UO]:"fire-fn",[jO]:"fire-fn-compat",[BO]:"fire-iid",[$O]:"fire-iid-compat",[zO]:"fire-fcm",[HO]:"fire-fcm-compat",[qO]:"fire-perf",[GO]:"fire-perf-compat",[WO]:"fire-rc",[KO]:"fire-rc-compat",[QO]:"fire-gcs",[YO]:"fire-gcs-compat",[JO]:"fire-fst",[XO]:"fire-fst-compat",[ZO]:"fire-vertex","fire-js":"fire-js",[ek]:"fire-js-all"};var Zo=new Map,rk=new Map,lg=new Map;function cD(n,e){try{n.container.addComponent(e)}catch(t){Un.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wr(n){let e=n.name;if(lg.has(e))return Un.debug(`There were multiple attempts to register component ${e}.`),!1;lg.set(e,n);for(let t of Zo.values())cD(t,n);for(let t of rk.values())cD(t,n);return!0}function pg(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ls(n){return n.settings!==void 0}var ik={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new Fn("app","Firebase",ik);var dg=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}};var ds=tk;function gg(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ug,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ir.create("bad-app-name",{appName:String(i)});if(t||(t=Jp()),!t)throw Ir.create("no-options");let s=Zo.get(i);if(s){if(us(t,s.options)&&us(r,s.config))return s;throw Ir.create("duplicate-app",{appName:i})}let o=new $u(i);for(let u of lg.values())o.addComponent(u);let c=new dg(t,r,o);return Zo.set(i,c),c}function ea(n=ug){let e=Zo.get(n);if(!e&&n===ug&&Jp())return gg();if(!e)throw Ir.create("no-app",{appName:n});return e}function Hu(){return Array.from(Zo.values())}function He(n,e,t){var r;let i=(r=nk[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Un.warn(c.join(" "));return}wr(new kt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var sk="firebase-heartbeat-database",ok=1,Xo="firebase-heartbeat-store",og=null;function hD(){return og||(og=oD(sk,ok,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xo)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ir.create("idb-open",{originalErrorMessage:n.message})})),og}function ak(n){return S(this,null,function*(){try{let t=(yield hD()).transaction(Xo),r=yield t.objectStore(Xo).get(fD(n));return yield t.done,r}catch(e){if(e instanceof Ot)Un.warn(e.message);else{let t=Ir.create("idb-get",{originalErrorMessage:e?.message});Un.warn(t.message)}}})}function uD(n,e){return S(this,null,function*(){try{let r=(yield hD()).transaction(Xo,"readwrite");yield r.objectStore(Xo).put(e,fD(n)),yield r.done}catch(t){if(t instanceof Ot)Un.warn(t.message);else{let r=Ir.create("idb-set",{originalErrorMessage:t?.message});Un.warn(r.message)}}})}function fD(n){return`${n.name}!${n.options.appId}`}var ck=1024,uk=30*24*60*60*1e3,hg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new fg(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lD();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=uk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Un.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=lD(),{heartbeatsToSend:r,unsentEntries:i}=lk(this._heartbeatsCache.heartbeats),s=Jo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Un.warn(t),""}})}};function lD(){return new Date().toISOString().substring(0,10)}function lk(n,e=ck){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),dD(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),dD(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var fg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return Zp()?ZT().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield ak(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uD(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uD(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function dD(n){return Jo(JSON.stringify({version:2,heartbeats:n})).length}function dk(n){wr(new kt("platform-logger",e=>new ag(e),"PRIVATE")),wr(new kt("heartbeat",e=>new hg(e),"PRIVATE")),He(cg,aD,n),He(cg,aD,"esm2017"),He("fire-js","")}dk("");var hk="firebase",fk="10.14.1";He(hk,fk,"app");var fs=new or("ANGULARFIRE2_VERSION");function yg(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var na=(n,e)=>{let t=e?[e]:Hu(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ta=class{constructor(){return na(pk)}},pk="app-check";function hs(){}var qu=class{zone;delegate;constructor(e,t=$d){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},mg=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hs,{},hs,hs)),t.pipe(Ve({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ra=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new qu(Zone.current)),this.insideAngular=t.run(()=>new qu(Zone.current,Bd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(G(Te))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gu(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function gk(n){return Gu().ngZone.runOutsideAngular(()=>n())}function Zr(n){return Gu().ngZone.run(()=>n())}function mk(n){return yk(Gu())(n)}function yk(n){return function(t){return t=t.lift(new mg(n.ngZone)),t.pipe(Jn(n.outsideAngular),Yn(n.insideAngular))}}var vk=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Zr(()=>n.apply(void 0,r))},jn=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Zr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hs,{},hs,hs))),r[s]=vk(r[s],t));let i=gk(()=>n.apply(this,r));if(!e)if(i instanceof ue){let s=Gu();return i.pipe(Jn(s.outsideAngular),Yn(s.insideAngular))}else return Zr(()=>i);return i instanceof ue?i.pipe(mk):i instanceof Promise?Zr(()=>new Promise((s,o)=>i.then(c=>Zr(()=>s(c)),c=>Zr(()=>o(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Zr(()=>i)};var Xr=class{constructor(e){return e}},ia=class{constructor(){return Hu()}};function _k(n){return n&&n.length===1?n[0]:new Xr(ea())}var vg=new q("angularfire2._apps"),Ik={provide:Xr,useFactory:_k,deps:[[new Nt,vg]]},wk={provide:ia,deps:[[new Nt,vg]]};function Ek(n){return(e,t)=>{let r=t.get(cn);He("angularfire",fs.full,"core"),He("angularfire",fs.full,"app"),He("angular",mE.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Xr(i)}}function pD(n,...e){return on([Ik,wk,{provide:vg,useFactory:Ek(n),multi:!0,deps:[Te,$t,ra,...e]}])}var gD=jn(gg,!0);function TD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var DD=TD,bD=new Fn("auth","Firebase",TD());var Yu=new _r("@firebase/auth");function Dk(n,...e){Yu.logLevel<=le.WARN&&Yu.warn(`Auth (${ds}): ${n}`,...e)}function Ku(n,...e){Yu.logLevel<=le.ERROR&&Yu.error(`Auth (${ds}): ${n}`,...e)}function mD(n,...e){throw Ng(n,...e)}function Rg(n,...e){return Ng(n,...e)}function CD(n,e,t){let r=Object.assign(Object.assign({},DD()),{[e]:t});return new Fn("auth","Firebase",r).create(e,{appName:n.name})}function Qu(n){return CD(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ng(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return bD.create(n,...e)}function _e(n,e,...t){if(!n)throw Ng(e,...t)}function sa(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Ku(e),new Error(e)}function Ju(n,e){n||sa(e)}function bk(){return yD()==="http:"||yD()==="https:"}function yD(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Ck(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bk()||QT()||"connection"in navigator)?navigator.onLine:!0}function Sk(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ti=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ju(t>e,"Short delay should be less than long delay!"),this.isMobile=WT()||YT()}get(){return Ck()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ak(n,e){Ju(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Zu=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Rk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Nk=new ti(3e4,6e4);function SD(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function nl(s,o,c,u){return S(this,arguments,function*(n,e,t,r,i={}){return AD(n,i,()=>S(this,null,function*(){let d={},f={};r&&(e==="GET"?f=r:d={body:JSON.stringify(r)});let g=Xp(Object.assign({key:n.config.apiKey},f)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let I=Object.assign({method:e,headers:_},d);return KT()||(I.referrerPolicy="no-referrer"),Zu.fetch()(RD(n,n.config.apiHost,t,g),I)}))})}function AD(n,e,t){return S(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Rk),e);try{let i=new wg(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Wu(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Wu(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw Wu(n,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw CD(n,f,d);mD(n,f)}}catch(i){if(i instanceof Ot)throw i;mD(n,"network-request-failed",{message:String(i)})}})}function RD(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Ak(n.config,i):`${n.config.apiScheme}://${i}`}var wg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Rg(this.auth,"network-request-failed")),Nk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Wu(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Rg(n,e,r);return i.customData._tokenResponse=t,i}function xk(n,e){return S(this,null,function*(){return nl(n,"POST","/v1/accounts:delete",e)})}function ND(n,e){return S(this,null,function*(){return nl(n,"POST","/v1/accounts:lookup",e)})}function oa(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xg(n,e=!1){return S(this,null,function*(){let t=Vn(n),r=yield t.getIdToken(e),i=xD(r);_e(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:oa(_g(i.auth_time)),issuedAtTime:oa(_g(i.iat)),expirationTime:oa(_g(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function _g(n){return Number(n)*1e3}function xD(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ku("JWT malformed, contained fewer than 3 sections"),null;try{let i=Yp(t);return i?JSON.parse(i):(Ku("Failed to decode base64 JWT payload"),null)}catch(i){return Ku("Caught error parsing JWT payload as JSON",i?.toString()),null}}function vD(n){let e=xD(n);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Eg(n,e,t=!1){return S(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Ot&&Mk(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Mk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Tg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),t)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ca=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=oa(this.lastLoginAt),this.creationTime=oa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Xu(n){return S(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Eg(n,ND(t,{idToken:r}));_e(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?MD(s.providerUserInfo):[],c=Pk(n.providerData,o),u=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!c?.length,f=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new ca(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,g)})}function Mg(n){return S(this,null,function*(){let e=Vn(n);yield Xu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Pk(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MD(n){return n.map(e=>{var{providerId:t}=e,r=zd(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Ok(n,e){return S(this,null,function*(){let t=yield AD(n,{},()=>S(this,null,function*(){let r=Xp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=RD(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Zu.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function kk(n,e){return S(this,null,function*(){return nl(n,"POST","/v2/accounts:revokeToken",SD(n,e))})}var aa=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_e(e.length!==0,"internal-error");let t=vD(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return S(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Ok(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(_e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(_e(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return sa("not implemented")}};function Er(n,e){_e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ua=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=zd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ca(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let t=yield Eg(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return xg(this,e)}reload(){return Mg(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Xu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(ls(this.auth.app))return Promise.reject(Qu(this.auth));let e=yield this.getIdToken();return yield Eg(this,xk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,c,u,d,f;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,I=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=t.photoURL)!==null&&o!==void 0?o:void 0,N=(c=t.tenantId)!==null&&c!==void 0?c:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(d=t.createdAt)!==null&&d!==void 0?d:void 0,H=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:V,emailVerified:X,isAnonymous:we,providerData:Q,stsTokenManager:w}=t;_e(V&&w,e,"internal-error");let m=aa.fromJSON(this.name,w);_e(typeof V=="string",e,"internal-error"),Er(g,e.name),Er(_,e.name),_e(typeof X=="boolean",e,"internal-error"),_e(typeof we=="boolean",e,"internal-error"),Er(I,e.name),Er(A,e.name),Er(N,e.name),Er(R,e.name),Er(F,e.name),Er(H,e.name);let y=new n({uid:V,auth:e,email:_,emailVerified:X,displayName:g,isAnonymous:we,photoURL:A,phoneNumber:I,tenantId:N,stsTokenManager:m,createdAt:F,lastLoginAt:H});return Q&&Array.isArray(Q)&&(y.providerData=Q.map(E=>Object.assign({},E))),R&&(y._redirectEventId=R),y}static _fromIdTokenResponse(e,t,r=!1){return S(this,null,function*(){let i=new aa;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xu(s),s})}static _fromGetAccountInfoResponse(e,t,r){return S(this,null,function*(){let i=t.users[0];_e(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?MD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new aa;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ca(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var _D=new Map;function ei(n){Ju(n instanceof Function,"Expected a class definition");let e=_D.get(n);return e?(Ju(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_D.set(n,e),e)}var Lk=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(t,r){return S(this,null,function*(){this.storage[t]=r})}_get(t){return S(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return S(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Dg=Lk;function Ig(n,e,t){return`firebase:${n}:${e}:${t}`}var el=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Ig(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ig("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ua._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return S(this,null,function*(){if(!t.length)return new n(ei(Dg),e,r);let i=(yield Promise.all(t.map(d=>S(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||ei(Dg),o=Ig(r,e.config.apiKey,e.name),c=null;for(let d of t)try{let f=yield d._get(o);if(f){let g=ua._fromJSON(e,f);d!==s&&(c=g),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(d=>S(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new n(s,e,r))})}};function ID(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($k(e))return"Blackberry";if(zk(e))return"Webos";if(Vk(e))return"Safari";if((e.includes("chrome/")||Uk(e))&&!e.includes("edge/"))return"Chrome";if(Bk(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Fk(n=Ct()){return/firefox\//i.test(n)}function Vk(n=Ct()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uk(n=Ct()){return/crios\//i.test(n)}function jk(n=Ct()){return/iemobile/i.test(n)}function Bk(n=Ct()){return/android/i.test(n)}function $k(n=Ct()){return/blackberry/i.test(n)}function zk(n=Ct()){return/webos/i.test(n)}function PD(n,e=[]){let t;switch(n){case"Browser":t=ID(Ct());break;case"Worker":t=`${ID(Ct())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ds}/${r}`}var bg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Hk(t){return S(this,arguments,function*(n,e={}){return nl(n,"GET","/v2/passwordPolicy",SD(n,e))})}var qk=6,Cg=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:qk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Sg=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tl(this),this.idTokenSubscription=new tl(this),this.beforeStateQueue=new bg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ei(t)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield el.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let t=yield ND(this,{idToken:e}),r=yield ua._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var t;if(ls(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield Xu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Sk()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(ls(this.app))return Promise.reject(Qu(this));let t=e?Vn(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return S(this,null,function*(){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return ls(this.app)?Promise.reject(Qu(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ls(this.app)?Promise.reject(Qu(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(ei(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield Hk(this),t=new Cg(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield kk(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ei(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=yield el.create(this,[ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return S(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Dk(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Gk(n){return Vn(n)}var tl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=XT(t=>this.observer=t)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Wk={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kk(n){Wk=n}function Qk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Yk(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ei);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var BH=Qk("rcb"),$H=new ti(3e4,6e4);var zH=new ti(2e3,1e4);var HH=10*60*1e3;var qH=new ti(3e4,6e4);var GH=new ti(5e3,15e3);var WH=encodeURIComponent("fac");var wD="@firebase/auth",ED="1.7.9";var Ag=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Jk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zk(n){wr(new kt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PD(n)},d=new Sg(r,i,s,u);return Yk(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),wr(new kt("auth-internal",e=>{let t=Gk(e.getProvider("auth").getImmediate());return(r=>new Ag(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(wD,ED,Jk(n)),He(wD,ED,"esm2017")}var Xk=5*60,KH=qT("authIdTokenMaxAge")||Xk;function e1(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Kk({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Rg("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",e1().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zk("Browser");var X1="auth";var rl=class{constructor(){return na(X1)}};var OD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kD={};var Tr,Pg;(function(){var n;function e(w,m){function y(){}y.prototype=m.prototype,w.D=m.prototype,w.prototype=new y,w.prototype.constructor=w,w.C=function(E,T,b){for(var v=Array(arguments.length-2),In=2;In<arguments.length;In++)v[In-2]=arguments[In];return m.prototype[T].apply(E,v)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,m,y){y||(y=0);var E=Array(16);if(typeof m=="string")for(var T=0;16>T;++T)E[T]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(T=0;16>T;++T)E[T]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=w.g[0],y=w.g[1],T=w.g[2];var b=w.g[3],v=m+(b^y&(T^b))+E[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=b+(T^m&(y^T))+E[1]+3905402710&4294967295,b=m+(v<<12&4294967295|v>>>20),v=T+(y^b&(m^y))+E[2]+606105819&4294967295,T=b+(v<<17&4294967295|v>>>15),v=y+(m^T&(b^m))+E[3]+3250441966&4294967295,y=T+(v<<22&4294967295|v>>>10),v=m+(b^y&(T^b))+E[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=b+(T^m&(y^T))+E[5]+1200080426&4294967295,b=m+(v<<12&4294967295|v>>>20),v=T+(y^b&(m^y))+E[6]+2821735955&4294967295,T=b+(v<<17&4294967295|v>>>15),v=y+(m^T&(b^m))+E[7]+4249261313&4294967295,y=T+(v<<22&4294967295|v>>>10),v=m+(b^y&(T^b))+E[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=b+(T^m&(y^T))+E[9]+2336552879&4294967295,b=m+(v<<12&4294967295|v>>>20),v=T+(y^b&(m^y))+E[10]+4294925233&4294967295,T=b+(v<<17&4294967295|v>>>15),v=y+(m^T&(b^m))+E[11]+2304563134&4294967295,y=T+(v<<22&4294967295|v>>>10),v=m+(b^y&(T^b))+E[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=b+(T^m&(y^T))+E[13]+4254626195&4294967295,b=m+(v<<12&4294967295|v>>>20),v=T+(y^b&(m^y))+E[14]+2792965006&4294967295,T=b+(v<<17&4294967295|v>>>15),v=y+(m^T&(b^m))+E[15]+1236535329&4294967295,y=T+(v<<22&4294967295|v>>>10),v=m+(T^b&(y^T))+E[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=b+(y^T&(m^y))+E[6]+3225465664&4294967295,b=m+(v<<9&4294967295|v>>>23),v=T+(m^y&(b^m))+E[11]+643717713&4294967295,T=b+(v<<14&4294967295|v>>>18),v=y+(b^m&(T^b))+E[0]+3921069994&4294967295,y=T+(v<<20&4294967295|v>>>12),v=m+(T^b&(y^T))+E[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=b+(y^T&(m^y))+E[10]+38016083&4294967295,b=m+(v<<9&4294967295|v>>>23),v=T+(m^y&(b^m))+E[15]+3634488961&4294967295,T=b+(v<<14&4294967295|v>>>18),v=y+(b^m&(T^b))+E[4]+3889429448&4294967295,y=T+(v<<20&4294967295|v>>>12),v=m+(T^b&(y^T))+E[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=b+(y^T&(m^y))+E[14]+3275163606&4294967295,b=m+(v<<9&4294967295|v>>>23),v=T+(m^y&(b^m))+E[3]+4107603335&4294967295,T=b+(v<<14&4294967295|v>>>18),v=y+(b^m&(T^b))+E[8]+1163531501&4294967295,y=T+(v<<20&4294967295|v>>>12),v=m+(T^b&(y^T))+E[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=b+(y^T&(m^y))+E[2]+4243563512&4294967295,b=m+(v<<9&4294967295|v>>>23),v=T+(m^y&(b^m))+E[7]+1735328473&4294967295,T=b+(v<<14&4294967295|v>>>18),v=y+(b^m&(T^b))+E[12]+2368359562&4294967295,y=T+(v<<20&4294967295|v>>>12),v=m+(y^T^b)+E[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=b+(m^y^T)+E[8]+2272392833&4294967295,b=m+(v<<11&4294967295|v>>>21),v=T+(b^m^y)+E[11]+1839030562&4294967295,T=b+(v<<16&4294967295|v>>>16),v=y+(T^b^m)+E[14]+4259657740&4294967295,y=T+(v<<23&4294967295|v>>>9),v=m+(y^T^b)+E[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=b+(m^y^T)+E[4]+1272893353&4294967295,b=m+(v<<11&4294967295|v>>>21),v=T+(b^m^y)+E[7]+4139469664&4294967295,T=b+(v<<16&4294967295|v>>>16),v=y+(T^b^m)+E[10]+3200236656&4294967295,y=T+(v<<23&4294967295|v>>>9),v=m+(y^T^b)+E[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=b+(m^y^T)+E[0]+3936430074&4294967295,b=m+(v<<11&4294967295|v>>>21),v=T+(b^m^y)+E[3]+3572445317&4294967295,T=b+(v<<16&4294967295|v>>>16),v=y+(T^b^m)+E[6]+76029189&4294967295,y=T+(v<<23&4294967295|v>>>9),v=m+(y^T^b)+E[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=b+(m^y^T)+E[12]+3873151461&4294967295,b=m+(v<<11&4294967295|v>>>21),v=T+(b^m^y)+E[15]+530742520&4294967295,T=b+(v<<16&4294967295|v>>>16),v=y+(T^b^m)+E[2]+3299628645&4294967295,y=T+(v<<23&4294967295|v>>>9),v=m+(T^(y|~b))+E[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=b+(y^(m|~T))+E[7]+1126891415&4294967295,b=m+(v<<10&4294967295|v>>>22),v=T+(m^(b|~y))+E[14]+2878612391&4294967295,T=b+(v<<15&4294967295|v>>>17),v=y+(b^(T|~m))+E[5]+4237533241&4294967295,y=T+(v<<21&4294967295|v>>>11),v=m+(T^(y|~b))+E[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=b+(y^(m|~T))+E[3]+2399980690&4294967295,b=m+(v<<10&4294967295|v>>>22),v=T+(m^(b|~y))+E[10]+4293915773&4294967295,T=b+(v<<15&4294967295|v>>>17),v=y+(b^(T|~m))+E[1]+2240044497&4294967295,y=T+(v<<21&4294967295|v>>>11),v=m+(T^(y|~b))+E[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=b+(y^(m|~T))+E[15]+4264355552&4294967295,b=m+(v<<10&4294967295|v>>>22),v=T+(m^(b|~y))+E[6]+2734768916&4294967295,T=b+(v<<15&4294967295|v>>>17),v=y+(b^(T|~m))+E[13]+1309151649&4294967295,y=T+(v<<21&4294967295|v>>>11),v=m+(T^(y|~b))+E[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=b+(y^(m|~T))+E[11]+3174756917&4294967295,b=m+(v<<10&4294967295|v>>>22),v=T+(m^(b|~y))+E[2]+718787259&4294967295,T=b+(v<<15&4294967295|v>>>17),v=y+(b^(T|~m))+E[9]+3951481745&4294967295,w.g[0]=w.g[0]+m&4294967295,w.g[1]=w.g[1]+(T+(v<<21&4294967295|v>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+b&4294967295}r.prototype.u=function(w,m){m===void 0&&(m=w.length);for(var y=m-this.blockSize,E=this.B,T=this.h,b=0;b<m;){if(T==0)for(;b<=y;)i(this,w,b),b+=this.blockSize;if(typeof w=="string"){for(;b<m;)if(E[T++]=w.charCodeAt(b++),T==this.blockSize){i(this,E),T=0;break}}else for(;b<m;)if(E[T++]=w[b++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=m},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var m=1;m<w.length-8;++m)w[m]=0;var y=8*this.o;for(m=w.length-8;m<w.length;++m)w[m]=y&255,y/=256;for(this.u(w),w=Array(16),m=y=0;4>m;++m)for(var E=0;32>E;E+=8)w[y++]=this.g[m]>>>E&255;return w};function s(w,m){var y=c;return Object.prototype.hasOwnProperty.call(y,w)?y[w]:y[w]=m(w)}function o(w,m){this.h=m;for(var y=[],E=!0,T=w.length-1;0<=T;T--){var b=w[T]|0;E&&b==m||(y[T]=b,E=!1)}this.g=y}var c={};function u(w){return-128<=w&&128>w?s(w,function(m){return new o([m|0],0>m?-1:0)}):new o([w|0],0>w?-1:0)}function d(w){if(isNaN(w)||!isFinite(w))return g;if(0>w)return R(d(-w));for(var m=[],y=1,E=0;w>=y;E++)m[E]=w/y|0,y*=4294967296;return new o(m,0)}function f(w,m){if(w.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(w.charAt(0)=="-")return R(f(w.substring(1),m));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(m,8)),E=g,T=0;T<w.length;T+=8){var b=Math.min(8,w.length-T),v=parseInt(w.substring(T,T+b),m);8>b?(b=d(Math.pow(m,b)),E=E.j(b).add(d(v))):(E=E.j(y),E=E.add(d(v)))}return E}var g=u(0),_=u(1),I=u(16777216);n=o.prototype,n.m=function(){if(N(this))return-R(this).m();for(var w=0,m=1,y=0;y<this.g.length;y++){var E=this.i(y);w+=(0<=E?E:4294967296+E)*m,m*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(A(this))return"0";if(N(this))return"-"+R(this).toString(w);for(var m=d(Math.pow(w,6)),y=this,E="";;){var T=X(y,m).g;y=F(y,T.j(m));var b=((0<y.g.length?y.g[0]:y.h)>>>0).toString(w);if(y=T,A(y))return b+E;for(;6>b.length;)b="0"+b;E=b+E}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function A(w){if(w.h!=0)return!1;for(var m=0;m<w.g.length;m++)if(w.g[m]!=0)return!1;return!0}function N(w){return w.h==-1}n.l=function(w){return w=F(this,w),N(w)?-1:A(w)?0:1};function R(w){for(var m=w.g.length,y=[],E=0;E<m;E++)y[E]=~w.g[E];return new o(y,~w.h).add(_)}n.abs=function(){return N(this)?R(this):this},n.add=function(w){for(var m=Math.max(this.g.length,w.g.length),y=[],E=0,T=0;T<=m;T++){var b=E+(this.i(T)&65535)+(w.i(T)&65535),v=(b>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);E=v>>>16,b&=65535,v&=65535,y[T]=v<<16|b}return new o(y,y[y.length-1]&-2147483648?-1:0)};function F(w,m){return w.add(R(m))}n.j=function(w){if(A(this)||A(w))return g;if(N(this))return N(w)?R(this).j(R(w)):R(R(this).j(w));if(N(w))return R(this.j(R(w)));if(0>this.l(I)&&0>w.l(I))return d(this.m()*w.m());for(var m=this.g.length+w.g.length,y=[],E=0;E<2*m;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<w.g.length;T++){var b=this.i(E)>>>16,v=this.i(E)&65535,In=w.i(T)>>>16,Vs=w.i(T)&65535;y[2*E+2*T]+=v*Vs,H(y,2*E+2*T),y[2*E+2*T+1]+=b*Vs,H(y,2*E+2*T+1),y[2*E+2*T+1]+=v*In,H(y,2*E+2*T+1),y[2*E+2*T+2]+=b*In,H(y,2*E+2*T+2)}for(E=0;E<m;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=m;E<2*m;E++)y[E]=0;return new o(y,0)};function H(w,m){for(;(w[m]&65535)!=w[m];)w[m+1]+=w[m]>>>16,w[m]&=65535,m++}function V(w,m){this.g=w,this.h=m}function X(w,m){if(A(m))throw Error("division by zero");if(A(w))return new V(g,g);if(N(w))return m=X(R(w),m),new V(R(m.g),R(m.h));if(N(m))return m=X(w,R(m)),new V(R(m.g),m.h);if(30<w.g.length){if(N(w)||N(m))throw Error("slowDivide_ only works with positive integers.");for(var y=_,E=m;0>=E.l(w);)y=we(y),E=we(E);var T=Q(y,1),b=Q(E,1);for(E=Q(E,2),y=Q(y,2);!A(E);){var v=b.add(E);0>=v.l(w)&&(T=T.add(y),b=v),E=Q(E,1),y=Q(y,1)}return m=F(w,T.j(m)),new V(T,m)}for(T=g;0<=w.l(m);){for(y=Math.max(1,Math.floor(w.m()/m.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),b=d(y),v=b.j(m);N(v)||0<v.l(w);)y-=E,b=d(y),v=b.j(m);A(b)&&(b=_),T=T.add(b),w=F(w,v)}return new V(T,w)}n.A=function(w){return X(this,w).h},n.and=function(w){for(var m=Math.max(this.g.length,w.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)&w.i(E);return new o(y,this.h&w.h)},n.or=function(w){for(var m=Math.max(this.g.length,w.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)|w.i(E);return new o(y,this.h|w.h)},n.xor=function(w){for(var m=Math.max(this.g.length,w.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)^w.i(E);return new o(y,this.h^w.h)};function we(w){for(var m=w.g.length+1,y=[],E=0;E<m;E++)y[E]=w.i(E)<<1|w.i(E-1)>>>31;return new o(y,w.h)}function Q(w,m){var y=m>>5;m%=32;for(var E=w.g.length-y,T=[],b=0;b<E;b++)T[b]=0<m?w.i(b+y)>>>m|w.i(b+y+1)<<32-m:w.i(b+y);return new o(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Pg=kD.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Tr=kD.Integer=o}).apply(typeof OD<"u"?OD:typeof self<"u"?self:typeof window<"u"?window:{});var il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bn={};var Og,eL,ps,kg,la,sl,Lg,Fg,Vg;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof il=="object"&&il];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,l){if(l)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var D=a[p];if(!(D in h))break e;h=h[D]}a=a[a.length-1],p=h[a],l=l(p),l!=p&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function s(a,l){a instanceof String&&(a+="");var h=0,p=!1,D={next:function(){if(!p&&h<a.length){var C=h++;return{value:l(C,a[C]),done:!1}}return p=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return s(this,function(l,h){return h})}});var o=o||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function g(a,l,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,p),a.apply(l,D)}}return function(){return a.apply(l,arguments)}}function _(a,l,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,_.apply(null,arguments)}function I(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,D,C){for(var P=Array(arguments.length-2),De=2;De<arguments.length;De++)P[De-2]=arguments[De];return l.prototype[D].apply(p,P)}}function N(a){let l=a.length;if(0<l){let h=Array(l);for(let p=0;p<l;p++)h[p]=a[p];return h}return[]}function R(a,l){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let D=a.length||0,C=p.length||0;a.length=D+C;for(let P=0;P<C;P++)a[D+P]=p[P]}else a.push(p)}}class F{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function H(a){return/^[\s\xa0]*$/.test(a)}function V(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function X(a){return X[" "](a),a}X[" "]=function(){};var we=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function Q(a,l,h){for(let p in a)l.call(h,a[p],p,a)}function w(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function m(a){let l={};for(let h in a)l[h]=a[h];return l}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,l){let h,p;for(let D=1;D<arguments.length;D++){p=arguments[D];for(h in p)a[h]=p[h];for(let C=0;C<y.length;C++)h=y[C],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function T(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function b(a){c.setTimeout(()=>{throw a},0)}function v(){var a=Zl;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class In{constructor(){this.h=this.g=null}add(l,h){let p=Vs.get();p.set(l,h),this.h?this.h.next=p:this.g=p,this.h=p}}var Vs=new F(()=>new w0,a=>a.reset());class w0{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Us,js=!1,Zl=new In,ky=()=>{let a=c.Promise.resolve(void 0);Us=()=>{a.then(E0)}};var E0=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){b(h)}var l=Vs;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}js=!1};function qn(){this.s=this.s,this.C=this.C}qn.prototype.s=!1,qn.prototype.ma=function(){this.s||(this.s=!0,this.N())},qn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var T0=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return a}();function Bs(a,l){if(Ze.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(we){e:{try{X(l.nodeName);var D=!0;break e}catch{}D=!1}D||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:D0[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Bs.aa.h.call(this)}}A(Bs,Ze);var D0={2:"touch",3:"pen",4:"mouse"};Bs.prototype.h=function(){Bs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var $s="closure_listenable_"+(1e6*Math.random()|0),b0=0;function C0(a,l,h,p,D){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.ha=D,this.key=++b0,this.da=this.fa=!1}function Ma(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Pa(a){this.src=a,this.g={},this.h=0}Pa.prototype.add=function(a,l,h,p,D){var C=a.toString();a=this.g[C],a||(a=this.g[C]=[],this.h++);var P=ed(a,l,p,D);return-1<P?(l=a[P],h||(l.fa=!1)):(l=new C0(l,this.src,C,!!p,D),l.fa=h,a.push(l)),l};function Xl(a,l){var h=l.type;if(h in a.g){var p=a.g[h],D=Array.prototype.indexOf.call(p,l,void 0),C;(C=0<=D)&&Array.prototype.splice.call(p,D,1),C&&(Ma(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function ed(a,l,h,p){for(var D=0;D<a.length;++D){var C=a[D];if(!C.da&&C.listener==l&&C.capture==!!h&&C.ha==p)return D}return-1}var td="closure_lm_"+(1e6*Math.random()|0),nd={};function Ly(a,l,h,p,D){if(p&&p.once)return Vy(a,l,h,p,D);if(Array.isArray(l)){for(var C=0;C<l.length;C++)Ly(a,l[C],h,p,D);return null}return h=od(h),a&&a[$s]?a.K(l,h,d(p)?!!p.capture:!!p,D):Fy(a,l,h,!1,p,D)}function Fy(a,l,h,p,D,C){if(!l)throw Error("Invalid event type");var P=d(D)?!!D.capture:!!D,De=id(a);if(De||(a[td]=De=new Pa(a)),h=De.add(l,h,p,P,C),h.proxy)return h;if(p=S0(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)T0||(D=P),D===void 0&&(D=!1),a.addEventListener(l.toString(),p,D);else if(a.attachEvent)a.attachEvent(jy(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function S0(){function a(h){return l.call(a.src,a.listener,h)}let l=A0;return a}function Vy(a,l,h,p,D){if(Array.isArray(l)){for(var C=0;C<l.length;C++)Vy(a,l[C],h,p,D);return null}return h=od(h),a&&a[$s]?a.L(l,h,d(p)?!!p.capture:!!p,D):Fy(a,l,h,!0,p,D)}function Uy(a,l,h,p,D){if(Array.isArray(l))for(var C=0;C<l.length;C++)Uy(a,l[C],h,p,D);else p=d(p)?!!p.capture:!!p,h=od(h),a&&a[$s]?(a=a.i,l=String(l).toString(),l in a.g&&(C=a.g[l],h=ed(C,h,p,D),-1<h&&(Ma(C[h]),Array.prototype.splice.call(C,h,1),C.length==0&&(delete a.g[l],a.h--)))):a&&(a=id(a))&&(l=a.g[l.toString()],a=-1,l&&(a=ed(l,h,p,D)),(h=-1<a?l[a]:null)&&rd(h))}function rd(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[$s])Xl(l.i,a);else{var h=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(h,p,a.capture):l.detachEvent?l.detachEvent(jy(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=id(l))?(Xl(h,a),h.h==0&&(h.src=null,l[td]=null)):Ma(a)}}}function jy(a){return a in nd?nd[a]:nd[a]="on"+a}function A0(a,l){if(a.da)a=!0;else{l=new Bs(l,this);var h=a.listener,p=a.ha||a.src;a.fa&&rd(a),a=h.call(p,l)}return a}function id(a){return a=a[td],a instanceof Pa?a:null}var sd="__closure_events_fn_"+(1e9*Math.random()>>>0);function od(a){return typeof a=="function"?a:(a[sd]||(a[sd]=function(l){return a.handleEvent(l)}),a[sd])}function Xe(){qn.call(this),this.i=new Pa(this),this.M=this,this.F=null}A(Xe,qn),Xe.prototype[$s]=!0,Xe.prototype.removeEventListener=function(a,l,h,p){Uy(this,a,l,h,p)};function ut(a,l){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new Ze(l,a);else if(l instanceof Ze)l.target=l.target||a;else{var D=l;l=new Ze(p,a),E(l,D)}if(D=!0,h)for(var C=h.length-1;0<=C;C--){var P=l.g=h[C];D=Oa(P,p,!0,l)&&D}if(P=l.g=a,D=Oa(P,p,!0,l)&&D,D=Oa(P,p,!1,l)&&D,h)for(C=0;C<h.length;C++)P=l.g=h[C],D=Oa(P,p,!1,l)&&D}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],p=0;p<h.length;p++)Ma(h[p]);delete a.g[l],a.h--}}this.F=null},Xe.prototype.K=function(a,l,h,p){return this.i.add(String(a),l,!1,h,p)},Xe.prototype.L=function(a,l,h,p){return this.i.add(String(a),l,!0,h,p)};function Oa(a,l,h,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var D=!0,C=0;C<l.length;++C){var P=l[C];if(P&&!P.da&&P.capture==h){var De=P.listener,Ge=P.ha||P.src;P.fa&&Xl(a.i,P),D=De.call(Ge,p)!==!1&&D}}return D&&!p.defaultPrevented}function By(a,l,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function $y(a){a.g=By(()=>{a.g=null,a.i&&(a.i=!1,$y(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class R0 extends qn{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:$y(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(a){qn.call(this),this.h=a,this.g={}}A(zs,qn);var zy=[];function Hy(a){Q(a.g,function(l,h){this.g.hasOwnProperty(h)&&rd(l)},a),a.g={}}zs.prototype.N=function(){zs.aa.N.call(this),Hy(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ad=c.JSON.stringify,N0=c.JSON.parse,x0=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function cd(){}cd.prototype.h=null;function qy(a){return a.h||(a.h=a.i())}function Gy(){}var Hs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ud(){Ze.call(this,"d")}A(ud,Ze);function ld(){Ze.call(this,"c")}A(ld,Ze);var Rr={},Wy=null;function ka(){return Wy=Wy||new Xe}Rr.La="serverreachability";function Ky(a){Ze.call(this,Rr.La,a)}A(Ky,Ze);function qs(a){let l=ka();ut(l,new Ky(l))}Rr.STAT_EVENT="statevent";function Qy(a,l){Ze.call(this,Rr.STAT_EVENT,a),this.stat=l}A(Qy,Ze);function lt(a){let l=ka();ut(l,new Qy(l,a))}Rr.Ma="timingevent";function Yy(a,l){Ze.call(this,Rr.Ma,a),this.size=l}A(Yy,Ze);function Gs(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function Ws(){this.g=!0}Ws.prototype.xa=function(){this.g=!1};function M0(a,l,h,p,D,C){a.info(function(){if(a.g)if(C)for(var P="",De=C.split("&"),Ge=0;Ge<De.length;Ge++){var me=De[Ge].split("=");if(1<me.length){var et=me[0];me=me[1];var tt=et.split("_");P=2<=tt.length&&tt[1]=="type"?P+(et+"="+me+"&"):P+(et+"=redacted&")}}else P=null;else P=C;return"XMLHTTP REQ ("+p+") [attempt "+D+"]: "+l+`
`+h+`
`+P})}function P0(a,l,h,p,D,C,P){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+D+"]: "+l+`
`+h+`
`+C+" "+P})}function li(a,l,h,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+k0(a,h)+(p?" "+p:"")})}function O0(a,l){a.info(function(){return"TIMEOUT: "+l})}Ws.prototype.info=function(){};function k0(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var D=p[1];if(Array.isArray(D)&&!(1>D.length)){var C=D[0];if(C!="noop"&&C!="stop"&&C!="close")for(var P=1;P<D.length;P++)D[P]=""}}}}return ad(h)}catch{return l}}var La={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dd;function Fa(){}A(Fa,cd),Fa.prototype.g=function(){return new XMLHttpRequest},Fa.prototype.i=function(){return{}},dd=new Fa;function Gn(a,l,h,p){this.j=a,this.i=l,this.l=h,this.R=p||1,this.U=new zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zy}function Zy(){this.i=null,this.g="",this.h=!1}var Xy={},hd={};function fd(a,l,h){a.L=1,a.v=Ba(wn(l)),a.m=h,a.P=!0,ev(a,null)}function ev(a,l){a.F=Date.now(),Va(a),a.A=wn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),pv(h.i,"t",p),a.C=0,h=a.j.J,a.h=new Zy,a.g=Mv(a.j,h?l:null,!a.m),0<a.O&&(a.M=new R0(_(a.Y,a,a.g),a.O)),l=a.U,h=a.g,p=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(zy[0]=D.toString()),D=zy);for(var C=0;C<D.length;C++){var P=Ly(h,D[C],p||l.handleEvent,!1,l.h||l);if(!P)break;l.g[P.key]=P}l=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),qs(),M0(a.i,a.u,a.A,a.l,a.R,a.m)}Gn.prototype.ca=function(a){a=a.target;let l=this.M;l&&En(a)==3?l.j():this.Y(a)},Gn.prototype.Y=function(a){try{if(a==this.g)e:{let tt=En(this.g);var l=this.g.Ba();let fi=this.g.Z();if(!(3>tt)&&(tt!=3||this.g&&(this.h.h||this.g.oa()||wv(this.g)))){this.J||tt!=4||l==7||(l==8||0>=fi?qs(3):qs(2)),pd(this);var h=this.g.Z();this.X=h;t:if(tv(this)){var p=wv(this.g);a="";var D=p.length,C=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nr(this),Ks(this);var P="";break t}this.h.i=new c.TextDecoder}for(l=0;l<D;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(C&&l==D-1)});p.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,P0(this.i,this.u,this.A,this.l,this.R,tt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var De,Ge=this.g;if((De=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(De)){var me=De;break t}}me=null}if(h=me)li(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gd(this,h);else{this.o=!1,this.s=3,lt(12),Nr(this),Ks(this);break e}}if(this.P){h=!0;let Ft;for(;!this.J&&this.C<P.length;)if(Ft=L0(this,P),Ft==hd){tt==4&&(this.s=4,lt(14),h=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Xy){this.s=4,lt(15),li(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else li(this.i,this.l,Ft,null),gd(this,Ft);if(tv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||P.length!=0||this.h.h||(this.s=1,lt(16),h=!1),this.o=this.o&&h,!h)li(this.i,this.l,P,"[Invalid Chunked Response]"),Nr(this),Ks(this);else if(0<P.length&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.ba&&!et.M&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),wd(et),et.M=!0,lt(11))}}else li(this.i,this.l,P,null),gd(this,P);tt==4&&Nr(this),this.o&&!this.J&&(tt==4?Av(this.j,this):(this.o=!1,Va(this)))}else X0(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Nr(this),Ks(this)}}}catch{}finally{}};function tv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function L0(a,l){var h=a.C,p=l.indexOf(`
`,h);return p==-1?hd:(h=Number(l.substring(h,p)),isNaN(h)?Xy:(p+=1,p+h>l.length?hd:(l=l.slice(p,p+h),a.C=p+h,l)))}Gn.prototype.cancel=function(){this.J=!0,Nr(this)};function Va(a){a.S=Date.now()+a.I,nv(a,a.I)}function nv(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Gs(_(a.ba,a),l)}function pd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Gn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(O0(this.i,this.A),this.L!=2&&(qs(),lt(17)),Nr(this),this.s=2,Ks(this)):nv(this,this.S-a)};function Ks(a){a.j.G==0||a.J||Av(a.j,a)}function Nr(a){pd(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,Hy(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function gd(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||md(h.h,a))){if(!a.K&&md(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var D=p;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Ga(h),Ha(h);else break e;Id(h),lt(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=Gs(_(h.Za,h),6e3));if(1>=sv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Mr(h,11)}else if((a.K||h.g==a)&&Ga(h),!H(l))for(D=h.Da.g.parse(l),l=0;l<D.length;l++){let me=D[l];if(h.T=me[0],me=me[1],h.G==2)if(me[0]=="c"){h.K=me[1],h.ia=me[2];let et=me[3];et!=null&&(h.la=et,h.j.info("VER="+h.la));let tt=me[4];tt!=null&&(h.Aa=tt,h.j.info("SVER="+h.Aa));let fi=me[5];fi!=null&&typeof fi=="number"&&0<fi&&(p=1.5*fi,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let Ft=a.g;if(Ft){let Ka=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ka){var C=p.h;C.g||Ka.indexOf("spdy")==-1&&Ka.indexOf("quic")==-1&&Ka.indexOf("h2")==-1||(C.j=C.l,C.g=new Set,C.h&&(yd(C,C.h),C.h=null))}if(p.D){let Ed=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;Ed&&(p.ya=Ed,Se(p.I,p.D,Ed))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var P=a;if(p.qa=xv(p,p.J?p.ia:null,p.W),P.K){ov(p.h,P);var De=P,Ge=p.L;Ge&&(De.I=Ge),De.B&&(pd(De),Va(De)),p.g=P}else Cv(p);0<h.i.length&&qa(h)}else me[0]!="stop"&&me[0]!="close"||Mr(h,7);else h.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Mr(h,7):_d(h):me[0]!="noop"&&h.l&&h.l.ta(me),h.v=0)}}qs(4)}catch{}}var F0=class{constructor(a,l){this.g=a,this.map=l}};function rv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function iv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function sv(a){return a.h?1:a.g?a.g.size:0}function md(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function yd(a,l){a.g?a.g.add(l):a.h=l}function ov(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}rv.prototype.cancel=function(){if(this.i=av(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function av(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return N(a.i)}function V0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],h=a.length,p=0;p<h;p++)l.push(a[p]);return l}l=[],h=0;for(p in a)l[h++]=a[p];return l}function U0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let p in a)l[h++]=p;return l}}}function cv(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=U0(a),p=V0(a),D=p.length,C=0;C<D;C++)l.call(void 0,p[C],h&&h[C],a)}var uv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function j0(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),D=null;if(0<=p){var C=a[h].substring(0,p);D=a[h].substring(p+1)}else C=a[h];l(C,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function xr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof xr){this.h=a.h,Ua(this,a.j),this.o=a.o,this.g=a.g,ja(this,a.s),this.l=a.l;var l=a.i,h=new Js;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),lv(this,h),this.m=a.m}else a&&(l=String(a).match(uv))?(this.h=!1,Ua(this,l[1]||"",!0),this.o=Qs(l[2]||""),this.g=Qs(l[3]||"",!0),ja(this,l[4]),this.l=Qs(l[5]||"",!0),lv(this,l[6]||"",!0),this.m=Qs(l[7]||"")):(this.h=!1,this.i=new Js(null,this.h))}xr.prototype.toString=function(){var a=[],l=this.j;l&&a.push(Ys(l,dv,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(Ys(l,dv,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ys(h,h.charAt(0)=="/"?z0:$0,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ys(h,q0)),a.join("")};function wn(a){return new xr(a)}function Ua(a,l,h){a.j=h?Qs(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function ja(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function lv(a,l,h){l instanceof Js?(a.i=l,G0(a.i,a.h)):(h||(l=Ys(l,H0)),a.i=new Js(l,a.h))}function Se(a,l,h){a.i.set(l,h)}function Ba(a){return Se(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Qs(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ys(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,B0),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function B0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var dv=/[#\/\?@]/g,$0=/[#\?:]/g,z0=/[#\?]/g,H0=/[#\?@]/g,q0=/#/g;function Js(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function Wn(a){a.g||(a.g=new Map,a.h=0,a.i&&j0(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}n=Js.prototype,n.add=function(a,l){Wn(this),this.i=null,a=di(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function hv(a,l){Wn(a),l=di(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function fv(a,l){return Wn(a),l=di(a,l),a.g.has(l)}n.forEach=function(a,l){Wn(this),this.g.forEach(function(h,p){h.forEach(function(D){a.call(l,D,p,this)},this)},this)},n.na=function(){Wn(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let p=0;p<l.length;p++){let D=a[p];for(let C=0;C<D.length;C++)h.push(l[p])}return h},n.V=function(a){Wn(this);let l=[];if(typeof a=="string")fv(this,a)&&(l=l.concat(this.g.get(di(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},n.set=function(a,l){return Wn(this),this.i=null,a=di(this,a),fv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},n.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function pv(a,l,h){hv(a,l),0<h.length&&(a.i=null,a.g.set(di(a,l),N(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var p=l[h];let C=encodeURIComponent(String(p)),P=this.V(p);for(p=0;p<P.length;p++){var D=C;P[p]!==""&&(D+="="+encodeURIComponent(String(P[p]))),a.push(D)}}return this.i=a.join("&")};function di(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function G0(a,l){l&&!a.j&&(Wn(a),a.i=null,a.g.forEach(function(h,p){var D=p.toLowerCase();p!=D&&(hv(this,p),pv(this,D,h))},a)),a.j=l}function W0(a,l){let h=new Ws;if(c.Image){let p=new Image;p.onload=I(Kn,h,"TestLoadImage: loaded",!0,l,p),p.onerror=I(Kn,h,"TestLoadImage: error",!1,l,p),p.onabort=I(Kn,h,"TestLoadImage: abort",!1,l,p),p.ontimeout=I(Kn,h,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function K0(a,l){let h=new Ws,p=new AbortController,D=setTimeout(()=>{p.abort(),Kn(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(C=>{clearTimeout(D),C.ok?Kn(h,"TestPingServer: ok",!0,l):Kn(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(D),Kn(h,"TestPingServer: error",!1,l)})}function Kn(a,l,h,p,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),p(h)}catch{}}function Q0(){this.g=new x0}function Y0(a,l,h){let p=h||"";try{cv(a,function(D,C){let P=D;d(D)&&(P=ad(D)),l.push(p+C+"="+encodeURIComponent(P))})}catch(D){throw l.push(p+"type="+encodeURIComponent("_badmap")),D}}function Zs(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Zs,cd),Zs.prototype.g=function(){return new $a(this.l,this.j)},Zs.prototype.i=function(a){return function(){return a}}({});function $a(a,l){Xe.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A($a,Xe),n=$a.prototype,n.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,eo(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,eo(this)),this.g&&(this.readyState=3,eo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function gv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?Xs(this):eo(this),this.readyState==3&&gv(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,Xs(this))},n.Qa=function(a){this.g&&(this.response=a,Xs(this))},n.ga=function(){this.g&&Xs(this)};function Xs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,eo(a)}n.setRequestHeader=function(a,l){this.u.append(a,l)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function eo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty($a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function mv(a){let l="";return Q(a,function(h,p){l+=p,l+=":",l+=h,l+=`\r
`}),l}function vd(a,l,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=mv(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Se(a,l,h))}function xe(a){Xe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(xe,Xe);var J0=/^https?$/i,Z0=["POST","PUT"];n=xe.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,l,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dd.g(),this.v=this.o?qy(this.o):qy(dd),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(C){yv(this,C);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var D in p)h.set(D,p[D]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let C of p.keys())h.set(C,p.get(C));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(C=>C.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Z0,l,void 0))||p||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[C,P]of h)this.g.setRequestHeader(C,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Iv(this),this.u=!0,this.g.send(a),this.u=!1}catch(C){yv(this,C)}};function yv(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,vv(a),za(a)}function vv(a){a.A||(a.A=!0,ut(a,"complete"),ut(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ut(this,"complete"),ut(this,"abort"),za(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),za(this,!0)),xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?_v(this):this.bb())},n.bb=function(){_v(this)};function _v(a){if(a.h&&typeof o<"u"&&(!a.v[1]||En(a)!=4||a.Z()!=2)){if(a.u&&En(a)==4)By(a.Ea,0,a);else if(ut(a,"readystatechange"),En(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=P===0){var D=String(a.D).match(uv)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),p=!J0.test(D?D.toLowerCase():"")}h=p}if(h)ut(a,"complete"),ut(a,"success");else{a.m=6;try{var C=2<En(a)?a.g.statusText:""}catch{C=""}a.l=C+" ["+a.Z()+"]",vv(a)}}finally{za(a)}}}}function za(a,l){if(a.g){Iv(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||ut(a,"ready");try{h.onreadystatechange=p}catch{}}}function Iv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function En(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),N0(l)}};function wv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function X0(a){let l={};a=(a.g&&2<=En(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(H(a[p]))continue;var h=T(a[p]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let C=l[D]||[];l[D]=C,C.push(h)}w(l,function(p){return p.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function to(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function Ev(a){this.Aa=0,this.i=[],this.j=new Ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=to("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=to("baseRetryDelayMs",5e3,a),this.cb=to("retryDelaySeedMs",1e4,a),this.Wa=to("forwardChannelMaxRetries",2,a),this.wa=to("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new rv(a&&a.concurrentRequestLimit),this.Da=new Q0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ev.prototype,n.la=8,n.G=1,n.connect=function(a,l,h,p){lt(0),this.W=a,this.H=l||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=xv(this,null,this.W),qa(this)};function _d(a){if(Tv(a),a.G==3){var l=a.U++,h=wn(a.I);if(Se(h,"SID",a.K),Se(h,"RID",l),Se(h,"TYPE","terminate"),no(a,h),l=new Gn(a,a.j,l),l.L=2,l.v=Ba(wn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=Mv(l.j,null),l.g.ea(l.v)),l.F=Date.now(),Va(l)}Nv(a)}function Ha(a){a.g&&(wd(a),a.g.cancel(),a.g=null)}function Tv(a){Ha(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ga(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function qa(a){if(!iv(a.h)&&!a.s){a.s=!0;var l=a.Ga;Us||ky(),js||(Us(),js=!0),Zl.add(l,a),a.B=0}}function eC(a,l){return sv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Gs(_(a.Ga,a,l),Rv(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new Gn(this,this.j,a),C=this.o;if(this.S&&(C?(C=m(C),E(C,this.S)):C=this.S),this.m!==null||this.O||(D.H=C,C=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=bv(this,D,l),h=wn(this.I),Se(h,"RID",a),Se(h,"CVER",22),this.D&&Se(h,"X-HTTP-Session-Id",this.D),no(this,h),C&&(this.O?l="headers="+encodeURIComponent(String(mv(C)))+"&"+l:this.m&&vd(h,this.m,C)),yd(this.h,D),this.Ua&&Se(h,"TYPE","init"),this.P?(Se(h,"$req",l),Se(h,"SID","null"),D.T=!0,fd(D,h,null)):fd(D,h,l),this.G=2}}else this.G==3&&(a?Dv(this,a):this.i.length==0||iv(this.h)||Dv(this))};function Dv(a,l){var h;l?h=l.l:h=a.U++;let p=wn(a.I);Se(p,"SID",a.K),Se(p,"RID",h),Se(p,"AID",a.T),no(a,p),a.m&&a.o&&vd(p,a.m,a.o),h=new Gn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=bv(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),yd(a.h,h),fd(h,p,l)}function no(a,l){a.H&&Q(a.H,function(h,p){Se(l,p,h)}),a.l&&cv({},function(h,p){Se(l,p,h)})}function bv(a,l,h){h=Math.min(a.i.length,h);var p=a.l?_(a.l.Na,a.l,a):null;e:{var D=a.i;let C=-1;for(;;){let P=["count="+h];C==-1?0<h?(C=D[0].g,P.push("ofs="+C)):C=0:P.push("ofs="+C);let De=!0;for(let Ge=0;Ge<h;Ge++){let me=D[Ge].g,et=D[Ge].map;if(me-=C,0>me)C=Math.max(0,D[Ge].g-100),De=!1;else try{Y0(et,P,"req"+me+"_")}catch{p&&p(et)}}if(De){p=P.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,p}function Cv(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;Us||ky(),js||(Us(),js=!0),Zl.add(l,a),a.v=0}}function Id(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Gs(_(a.Fa,a),Rv(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,Sv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Gs(_(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Ha(this),Sv(this))};function wd(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Sv(a){a.g=new Gn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=wn(a.qa);Se(l,"RID","rpc"),Se(l,"SID",a.K),Se(l,"AID",a.T),Se(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&Se(l,"TO",a.ja),Se(l,"TYPE","xmlhttp"),no(a,l),a.m&&a.o&&vd(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Ba(wn(l)),h.m=null,h.P=!0,ev(h,a)}n.Za=function(){this.C!=null&&(this.C=null,Ha(this),Id(this),lt(19))};function Ga(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Av(a,l){var h=null;if(a.g==l){Ga(a),wd(a),a.g=null;var p=2}else if(md(a.h,l))h=l.D,ov(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var D=a.B;p=ka(),ut(p,new Yy(p,h)),qa(a)}else Cv(a);else if(D=l.s,D==3||D==0&&0<l.X||!(p==1&&eC(a,l)||p==2&&Id(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),D){case 1:Mr(a,5);break;case 4:Mr(a,10);break;case 3:Mr(a,6);break;default:Mr(a,2)}}}function Rv(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function Mr(a,l){if(a.j.info("Error code "+l),l==2){var h=_(a.fb,a),p=a.Xa;let D=!p;p=new xr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ua(p,"https"),Ba(p),D?W0(p.toString(),h):K0(p.toString(),h)}else lt(2);a.G=0,a.l&&a.l.sa(l),Nv(a),Tv(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Nv(a){if(a.G=0,a.ka=[],a.l){let l=av(a.h);(l.length!=0||a.i.length!=0)&&(R(a.ka,l),R(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function xv(a,l,h){var p=h instanceof xr?wn(h):new xr(h);if(p.g!="")l&&(p.g=l+"."+p.g),ja(p,p.s);else{var D=c.location;p=D.protocol,l=l?l+"."+D.hostname:D.hostname,D=+D.port;var C=new xr(null);p&&Ua(C,p),l&&(C.g=l),D&&ja(C,D),h&&(C.l=h),p=C}return h=a.D,l=a.ya,h&&l&&Se(p,h,l),Se(p,"VER",a.la),no(a,p),p}function Mv(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new xe(new Zs({eb:h})):new xe(a.pa),l.Ha(a.J),l}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pv(){}n=Pv.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wa(){}Wa.prototype.g=function(a,l){return new vt(a,l)};function vt(a,l){Xe.call(this),this.g=new Ev(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!H(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!H(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new hi(this)}A(vt,Xe),vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vt.prototype.close=function(){_d(this.g)},vt.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=ad(a),a=h);l.i.push(new F0(l.Ya++,a)),l.G==3&&qa(l)},vt.prototype.N=function(){this.g.l=null,delete this.j,_d(this.g),delete this.g,vt.aa.N.call(this)};function Ov(a){ud.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}A(Ov,ud);function kv(){ld.call(this),this.status=1}A(kv,ld);function hi(a){this.g=a}A(hi,Pv),hi.prototype.ua=function(){ut(this.g,"a")},hi.prototype.ta=function(a){ut(this.g,new Ov(a))},hi.prototype.sa=function(a){ut(this.g,new kv)},hi.prototype.ra=function(){ut(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,vt.prototype.send=vt.prototype.o,vt.prototype.open=vt.prototype.m,vt.prototype.close=vt.prototype.close,Vg=Bn.createWebChannelTransport=function(){return new Wa},Fg=Bn.getStatEventTarget=function(){return ka()},Lg=Bn.Event=Rr,sl=Bn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},La.NO_ERROR=0,La.TIMEOUT=8,La.HTTP_ERROR=6,la=Bn.ErrorCode=La,Jy.COMPLETE="complete",kg=Bn.EventType=Jy,Gy.EventType=Hs,Hs.OPEN="a",Hs.CLOSE="b",Hs.ERROR="c",Hs.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,ps=Bn.WebChannel=Gy,eL=Bn.FetchXmlHttpFactory=Zs,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,Og=Bn.XhrIo=xe}).apply(typeof il<"u"?il:typeof self<"u"?self:typeof window<"u"?window:{});var LD="@firebase/firestore";var qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");var ks="10.14.0";var oi=new _r("@firebase/firestore");function da(){return oi.logLevel}function j(n,...e){if(oi.logLevel<=le.DEBUG){let t=e.map(my);oi.debug(`Firestore (${ks}): ${n}`,...t)}}function zn(n,...e){if(oi.logLevel<=le.ERROR){let t=e.map(my);oi.error(`Firestore (${ks}): ${n}`,...t)}}function Es(n,...e){if(oi.logLevel<=le.WARN){let t=e.map(my);oi.warn(`Firestore (${ks}): ${n}`,...t)}}function my(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ne(n="Unexpected state"){let e=`FIRESTORE (${ks}) INTERNAL ASSERTION FAILED: `+n;throw zn(e),new Error(e)}function Le(n,e){n||ne()}function pe(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends Ot{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Dr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ll=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Hg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qe.UNAUTHENTICATED))}shutdown(){}},qg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Gg=class{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Le(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),s=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Dr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Dr)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new ll(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new qe(e)}},Wg=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Kg=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Wg(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Qg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Yg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Le(this.o===void 0);let r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Le(typeof t.token=="string"),this.R=t.token,new Qg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function tL(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var dl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=tL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function Ie(n,e){return n<e?-1:n>e?1:0}function Ts(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Lt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Lt(0,0))}static max(){return new n(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var hl=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ne(),r===void 0?r=e.length-t:r>e.length-t&&ne(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},ke=class n extends hl{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},nL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qt=class n extends hl{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return nL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new $(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new $(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(ke.fromString(e))}static fromName(e){return new n(ke.fromString(e).popFirst(5))}static empty(){return new n(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ke(e.slice()))}};var Jg=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Jg.UNKNOWN_ID=-1;function rL(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new Lt(t+1,0):new Lt(t,r));return new ai(i,K.empty(),e)}function iL(n){return new ai(n.readTime,n.key,-1)}var ai=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ie.min(),K.empty(),-1)}static max(){return new n(ie.max(),K.empty(),-1)}};function sL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:Ie(n.largestBatchId,e.largestBatchId))}var oL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function yy(n){return S(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==oL)throw n;j("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let d=u;t(e[d]).next(f=>{o[d]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function aL(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ra(n){return n.name==="IndexedDbTransactionError"}var yb=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Fl(n){return n==null}function fl(n){return n===0&&1/n==-1/0}var cL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Qq=[...cL,"documentOverlays"],uL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lL=uL,dL=[...lL,"indexConfiguration","indexState","indexEntries"];var Yq=[...dL,"globals"];function FD(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vl(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hL(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Fe=class n{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vs(this.root,e,this.comparator,!1)}getReverseIterator(){return new vs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vs(this.root,e,this.comparator,!0)}},vs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},fn=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,t,r,i,s){return this}insert(e,t,r){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var at=class n{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pl(this.data.getIterator())}getIteratorFrom(e){return new pl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},pl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ni=class n{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new n([])}unionWith(e){let t=new at(Qt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ts(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var gl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ct=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gl("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ct.EMPTY_BYTE_STRING=new ct("");var fL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hn(n){if(Le(!!n),typeof n=="string"){let e=0,t=fL.exec(n);if(Le(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(n.seconds),nanos:Re(n.nanos)}}function Re(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cr(n){return typeof n=="string"?ct.fromBase64String(n):ct.fromUint8Array(n)}function vy(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function _y(n){let e=n.mapValue.fields.__previous_value__;return vy(e)?_y(e):e}function va(n){let e=Hn(n.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}var Xg=class{constructor(e,t,r,i,s,o,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}},ml=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ol={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ci(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vy(n)?4:_b(n)?9007199254740991:vb(n)?10:11:ne()}function mn(n,e){if(n===e)return!0;let t=ci(n);if(t!==ci(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return va(n).isEqual(va(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Hn(i.timestampValue),c=Hn(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Cr(i.bytesValue).isEqual(Cr(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Re(i.geoPointValue.latitude)===Re(s.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Re(i.integerValue)===Re(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Re(i.doubleValue),c=Re(s.doubleValue);return o===c?fl(o)===fl(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return Ts(n.arrayValue.values||[],e.arrayValue.values||[],mn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(FD(o)!==FD(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!mn(o[u],c[u])))return!1;return!0}(n,e);default:return ne()}}function _a(n,e){return(n.values||[]).find(t=>mn(t,e))!==void 0}function Ds(n,e){if(n===e)return 0;let t=ci(n),r=ci(e);if(t!==r)return Ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ie(n.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Re(s.integerValue||s.doubleValue),u=Re(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return VD(n.timestampValue,e.timestampValue);case 4:return VD(va(n),va(e));case 5:return Ie(n.stringValue,e.stringValue);case 6:return function(s,o){let c=Cr(s),u=Cr(o);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){let f=Ie(c[d],u[d]);if(f!==0)return f}return Ie(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let c=Ie(Re(s.latitude),Re(o.latitude));return c!==0?c:Ie(Re(s.longitude),Re(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return UD(n.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,d,f;let g=s.fields||{},_=o.fields||{},I=(c=g.value)===null||c===void 0?void 0:c.arrayValue,A=(u=_.value)===null||u===void 0?void 0:u.arrayValue,N=Ie(((d=I?.values)===null||d===void 0?void 0:d.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:UD(I,A)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===ol.mapValue&&o===ol.mapValue)return 0;if(s===ol.mapValue)return 1;if(o===ol.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let _=Ie(u[g],f[g]);if(_!==0)return _;let I=Ds(c[u[g]],d[f[g]]);if(I!==0)return I}return Ie(u.length,f.length)}(n.mapValue,e.mapValue);default:throw ne()}}function VD(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ie(n,e);let t=Hn(n),r=Hn(e),i=Ie(t.seconds,r.seconds);return i!==0?i:Ie(t.nanos,r.nanos)}function UD(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Ds(t[i],r[i]);if(s)return s}return Ie(t.length,r.length)}function bs(n){return em(n)}function em(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Hn(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Cr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return K.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=em(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${em(t.fields[o])}`;return i+"}"}(n.mapValue):ne()}function tm(n){return!!n&&"integerValue"in n}function Iy(n){return!!n&&"arrayValue"in n}function jD(n){return!!n&&"nullValue"in n}function BD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ug(n){return!!n&&"mapValue"in n}function vb(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function fa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Vl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=fa(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fa(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _b(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var $n=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ug(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fa(t)}setAll(e){let t=Qt.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}o?r[c.lastSegment()]=fa(o):i.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Ug(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ug(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Vl(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(fa(this.value))}};var Yt=class n{constructor(e,t,r,i,s,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ie.min(),ie.min(),ie.min(),$n.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ie.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ie.min(),ie.min(),$n.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ie.min(),ie.min(),$n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Cs=class{constructor(e,t){this.position=e,this.inclusive=t}};function $D(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),t.key):r=Ds(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zD(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mn(n.position[t],e.position[t]))return!1;return!0}var Ss=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function pL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var yl=class{},$e=class n extends yl{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new rm(e,t,r):t==="array-contains"?new om(e,r):t==="in"?new am(e,r):t==="not-in"?new cm(e,r):t==="array-contains-any"?new um(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new im(e,r):new sm(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ds(t,this.value)):t!==null&&ci(this.value)===ci(t)&&this.matchesComparison(Ds(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},yn=class n extends yl{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Ib(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Ib(n){return n.op==="and"}function wb(n){return gL(n)&&Ib(n)}function gL(n){for(let e of n.filters)if(e instanceof yn)return!1;return!0}function nm(n){if(n instanceof $e)return n.field.canonicalString()+n.op.toString()+bs(n.value);if(wb(n))return n.filters.map(e=>nm(e)).join(",");{let e=n.filters.map(t=>nm(t)).join(",");return`${n.op}(${e})`}}function Eb(n,e){return n instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&mn(r.value,i.value)}(n,e):n instanceof yn?function(r,i){return i instanceof yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&Eb(o,i.filters[c]),!0):!1}(n,e):void ne()}function Tb(n){return n instanceof $e?function(t){return`${t.field.canonicalString()} ${t.op} ${bs(t.value)}`}(n):n instanceof yn?function(t){return t.op.toString()+" {"+t.getFilters().map(Tb).join(" ,")+"}"}(n):"Filter"}var rm=class extends $e{constructor(e,t,r){super(e,t,r),this.key=K.fromName(r.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},im=class extends $e{constructor(e,t){super(e,"in",t),this.keys=Db("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},sm=class extends $e{constructor(e,t){super(e,"not-in",t),this.keys=Db("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Db(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>K.fromName(r.referenceValue))}var om=class extends $e{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Iy(t)&&_a(t.arrayValue,this.value)}},am=class extends $e{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&_a(this.value.arrayValue,t)}},cm=class extends $e{constructor(e,t){super(e,"not-in",t)}matches(e){if(_a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!_a(this.value.arrayValue,t)}},um=class extends $e{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Iy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_a(this.value.arrayValue,r))}};var lm=class{constructor(e,t=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function HD(n,e=null,t=[],r=[],i=null,s=null,o=null){return new lm(n,e,t,r,i,s,o)}function wy(n){let e=pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>nm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Fl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bs(r)).join(",")),e.ue=t}return e.ue}function Ey(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!pL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Eb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zD(n.startAt,e.startAt)&&zD(n.endAt,e.endAt)}function dm(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var As=class{constructor(e,t=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function mL(n,e,t,r,i,s,o,c){return new As(n,e,t,r,i,s,o,c)}function Ty(n){return new As(n)}function qD(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yL(n){return n.collectionGroup!==null}function pa(n){let e=pe(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new at(Qt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ss(s,r))}),t.has(Qt.keyField().canonicalString())||e.ce.push(new Ss(Qt.keyField(),r))}return e.ce}function pn(n){let e=pe(n);return e.le||(e.le=vL(e,pa(n))),e.le}function vL(n,e){if(n.limitType==="F")return HD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ss(i.field,s)});let t=n.endAt?new Cs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Cs(n.startAt.position,n.startAt.inclusive):null;return HD(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function hm(n,e,t){return new As(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ul(n,e){return Ey(pn(n),pn(e))&&n.limitType===e.limitType}function bb(n){return`${wy(pn(n))}|lt:${n.limitType}`}function gs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Tb(i)).join(", ")}]`),Fl(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>bs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>bs(i)).join(",")),`Target(${r})`}(pn(n))}; limitType=${n.limitType})`}function jl(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of pa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let d=$D(o,c,u);return o.inclusive?d<=0:d<0}(r.startAt,pa(r),i)||r.endAt&&!function(o,c,u){let d=$D(o,c,u);return o.inclusive?d>=0:d>0}(r.endAt,pa(r),i))}(n,e)}function _L(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Cb(n){return(e,t)=>{let r=!1;for(let i of pa(n)){let s=IL(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function IL(n,e,t){let r=n.field.isKeyField()?K.comparator(e.key,t.key):function(s,o,c){let u=o.data.field(s),d=c.data.field(s);return u!==null&&d!==null?Ds(u,d):ne()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var Sr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vl(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return hL(this.inner)}size(){return this.innerSize}};var wL=new Fe(K.comparator);function Ar(){return wL}var Sb=new Fe(K.comparator);function ha(...n){let e=Sb;for(let t of n)e=e.insert(t.key,t);return e}function EL(n){let e=Sb;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ri(){return ga()}function Ab(){return ga()}function ga(){return new Sr(n=>n.toString(),(n,e)=>n.isEqual(e))}var Zq=new Fe(K.comparator),TL=new at(K.comparator);function ge(...n){let e=TL;for(let t of n)e=e.add(t);return e}var DL=new at(Ie);function bL(){return DL}function CL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fl(e)?"-0":e}}function SL(n){return{integerValue:""+n}}var Rs=class{constructor(){this._=void 0}};function AL(n,e,t){return n instanceof Ia?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&vy(s)&&(s=_y(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Ns?Rb(n,e):n instanceof xs?Nb(n,e):function(i,s){let o=NL(i,s),c=GD(o)+GD(i.Pe);return tm(o)&&tm(i.Pe)?SL(c):CL(i.serializer,c)}(n,e)}function RL(n,e,t){return n instanceof Ns?Rb(n,e):n instanceof xs?Nb(n,e):t}function NL(n,e){return n instanceof wa?function(r){return tm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ia=class extends Rs{},Ns=class extends Rs{constructor(e){super(),this.elements=e}};function Rb(n,e){let t=xb(e);for(let r of n.elements)t.some(i=>mn(i,r))||t.push(r);return{arrayValue:{values:t}}}var xs=class extends Rs{constructor(e){super(),this.elements=e}};function Nb(n,e){let t=xb(e);for(let r of n.elements)t=t.filter(i=>!mn(i,r));return{arrayValue:{values:t}}}var wa=class extends Rs{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function GD(n){return Re(n.integerValue||n.doubleValue)}function xb(n){return Iy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function xL(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ns&&i instanceof Ns||r instanceof xs&&i instanceof xs?Ts(r.elements,i.elements,mn):r instanceof wa&&i instanceof wa?mn(r.Pe,i.Pe):r instanceof Ia&&i instanceof Ia}(n.transform,e.transform)}var ma=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function cl(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ea=class{};function Mb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fm(n.key,ma.none()):new Ta(n.key,n.data,ma.none());{let t=n.data,r=$n.empty(),i=new at(Qt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ms(n.key,r,new ni(i.toArray()),ma.none())}}function ML(n,e,t){n instanceof Ta?function(i,s,o){let c=i.value.clone(),u=KD(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ms?function(i,s,o){if(!cl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=KD(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Pb(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function ya(n,e,t,r){return n instanceof Ta?function(s,o,c,u){if(!cl(s.precondition,o))return c;let d=s.value.clone(),f=QD(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ms?function(s,o,c,u){if(!cl(s.precondition,o))return c;let d=QD(s.fieldTransforms,u,o),f=o.data;return f.setAll(Pb(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(s,o,c){return cl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,e,t)}function WD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ts(r,i,(s,o)=>xL(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ta=class extends Ea{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ms=class extends Ea{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Pb(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function KD(n,e,t){let r=new Map;Le(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,RL(o,c,t[i]))}return r}function QD(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,AL(s,o,e))}return r}var fm=class extends Ea{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var pm=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&ML(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=ya(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=ya(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Ab();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=t.has(i.key)?null:c;let u=Mb(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ge())}isEqual(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,(t,r)=>WD(t,r))&&Ts(this.baseMutations,e.baseMutations,(t,r)=>WD(t,r))}};var gm=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var mm=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ue,fe;function Ob(n){if(n===void 0)return zn("GRPC error has no .code"),k.UNKNOWN;switch(n){case Ue.OK:return k.OK;case Ue.CANCELLED:return k.CANCELLED;case Ue.UNKNOWN:return k.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return k.INTERNAL;case Ue.UNAVAILABLE:return k.UNAVAILABLE;case Ue.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ue.NOT_FOUND:return k.NOT_FOUND;case Ue.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ue.ABORTED:return k.ABORTED;case Ue.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ue.DATA_LOSS:return k.DATA_LOSS;default:return ne()}}(fe=Ue||(Ue={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var YD=null;function PL(){return new TextEncoder}var OL=new Tr([4294967295,4294967295],0);function JD(n){let e=PL().encode(n),t=new Pg;return t.update(e),new Uint8Array(t.digest())}function ZD(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Tr([t,r],0),new Tr([i,s],0)]}var ym=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ii(`Invalid padding: ${t}`);if(r<0)throw new ii(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ii(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ii(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Tr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Tr.fromNumber(r)));return i.compare(OL)===1&&(i=new Tr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=JD(e),[r,i]=ZD(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let t=JD(e),[r,i]=ZD(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ii=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var vl=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Da.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ie.min(),i,new Fe(Ie),Ar(),ge())}},Da=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ge(),ge(),ge())}};var _s=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},_l=class{constructor(e,t){this.targetId=e,this.me=t}},Il=class{constructor(e,t,r=ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},wl=class{constructor(){this.fe=0,this.ge=eb(),this.pe=ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ge(),t=ge(),r=ge();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new Da(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=eb()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},vm=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ar(),this.qe=XD(),this.Qe=new Fe(Ie)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(dm(s))if(r===0){let o=new K(s.path);this.Ue(t,o,Yt.newNoDocument(o,ie.min()))}else Le(r===1);else{let o=this.Ye(t);if(o!==r){let c=this.Ze(e),u=c?this.Xe(c,e,o):1;if(u!==0){this.je(t);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}YD?.et(function(f,g,_,I,A){var N,R,F,H,V,X;let we={localCacheCount:f,existenceFilterCount:g.count,databaseId:_.database,projectId:_.projectId},Q=g.unchangedNames;return Q&&(we.bloomFilter={applied:A===0,hashCount:(N=Q?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(H=(F=(R=Q?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&H!==void 0?H:0,padding:(X=(V=Q?.bits)===null||V===void 0?void 0:V.padding)!==null&&X!==void 0?X:0,mightContain:w=>{var m;return(m=I?.mightContain(w))!==null&&m!==void 0&&m}}),we}(o,e.me,this.Le.tt(),c,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,c;try{o=Cr(r).toUint8Array()}catch(u){if(u instanceof gl)return Es("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new ym(o,i,s)}catch(u){return Es(u instanceof ii?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&dm(c.target)){let u=new K(c.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Yt.newNoDocument(u,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=ge();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new vl(e,t,this.Qe,this.ke,r);return this.ke=Ar(),this.qe=XD(),this.Qe=new Fe(Ie),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new wl,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new at(Ie),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||j("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new wl),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function XD(){return new Fe(K.comparator)}function eb(){return new Fe(K.comparator)}var kL={asc:"ASCENDING",desc:"DESCENDING"},LL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FL={and:"AND",or:"OR"},_m=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Im(n,e){return n.useProto3Json||Fl(e)?e:{value:e}}function VL(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Is(n){return Le(!!n),ie.fromTimestamp(function(t){let r=Hn(t);return new Lt(r.seconds,r.nanos)}(n))}function jL(n,e){return wm(n,e).canonicalString()}function wm(n,e){let t=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function kb(n){let e=ke.fromString(n);return Le(jb(e)),e}function jg(n,e){let t=kb(e);if(t.get(1)!==n.databaseId.projectId)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(Fb(t))}function Lb(n,e){return jL(n.databaseId,e)}function BL(n){let e=kb(n);return e.length===4?ke.emptyPath():Fb(e)}function tb(n){return new ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Fb(n){return Le(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function $L(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(Le(f===void 0||typeof f=="string"),ct.fromBase64String(f||"")):(Le(f===void 0||f instanceof Buffer||f instanceof Uint8Array),ct.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(d){let f=d.code===void 0?k.UNKNOWN:Ob(d.code);return new $(f,d.message||"")}(o);t=new Il(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=jg(n,r.document.name),s=Is(r.document.updateTime),o=r.document.createTime?Is(r.document.createTime):ie.min(),c=new $n({mapValue:{fields:r.document.fields}}),u=Yt.newFoundDocument(i,s,o,c),d=r.targetIds||[],f=r.removedTargetIds||[];t=new _s(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=jg(n,r.document),s=r.readTime?Is(r.readTime):ie.min(),o=Yt.newNoDocument(i,s),c=r.removedTargetIds||[];t=new _s([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=jg(n,r.document),s=r.removedTargetIds||[];t=new _s([],s,i,null)}else{if(!("filter"in e))return ne();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new mm(i,s),c=r.targetId;t=new _l(c,o)}}return t}function zL(n,e){return{documents:[Lb(n,e.path)]}}function HL(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Lb(n,i);let s=function(d){if(d.length!==0)return Ub(yn.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(d){if(d.length!==0)return d.map(f=>function(_){return{field:ms(_.field),direction:WL(_.dir)}}(f))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let c=Im(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:i}}function qL(n){let e=BL(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Le(r===1);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(g){let _=Vb(g);return _ instanceof yn&&wb(_)?_.getFilters():[_]}(t.where));let o=[];t.orderBy&&(o=function(g){return g.map(_=>function(A){return new Ss(ys(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(t.orderBy));let c=null;t.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,Fl(_)?null:_}(t.limit));let u=null;t.startAt&&(u=function(g){let _=!!g.before,I=g.values||[];return new Cs(I,_)}(t.startAt));let d=null;return t.endAt&&(d=function(g){let _=!g.before,I=g.values||[];return new Cs(I,_)}(t.endAt)),mL(e,i,o,s,c,"F",u,d)}function GL(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Vb(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ys(t.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ys(t.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ys(t.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ys(t.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(n):n.fieldFilter!==void 0?function(t){return $e.create(ys(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return yn.create(t.compositeFilter.filters.map(r=>Vb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(t.compositeFilter.op))}(n):ne()}function WL(n){return kL[n]}function KL(n){return LL[n]}function QL(n){return FL[n]}function ms(n){return{fieldPath:n.canonicalString()}}function ys(n){return Qt.fromServerFormat(n.fieldPath)}function Ub(n){return n instanceof $e?function(t){if(t.op==="=="){if(BD(t.value))return{unaryFilter:{field:ms(t.field),op:"IS_NAN"}};if(jD(t.value))return{unaryFilter:{field:ms(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(BD(t.value))return{unaryFilter:{field:ms(t.field),op:"IS_NOT_NAN"}};if(jD(t.value))return{unaryFilter:{field:ms(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(t.field),op:KL(t.op),value:t.value}}}(n):n instanceof yn?function(t){let r=t.getFilters().map(i=>Ub(i));return r.length===1?r[0]:{compositeFilter:{op:QL(t.op),filters:r}}}(n):ne()}function jb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var ba=class n{constructor(e,t,r,i,s=ie.min(),o=ie.min(),c=ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Em=class{constructor(e){this.ct=e}};function YL(n){let e=qL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hm(e,e.limit,"L"):e}var El=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),fl(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Hn(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Cr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?_b(e)?this.dt(t,Number.MAX_SAFE_INTEGER):vb(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ne()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Re(c)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),K.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};El.vt=new El;var Tm=class{constructor(){this.un=new Dm}addToCollectionParentIndex(e,t){return this.un.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(ai.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},Dm=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new at(ke.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(ke.comparator)).toArray()}};var Xq=new Uint8Array(0);var hn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);var Ca=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var bm=class{constructor(){this.changes=new Sr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Cm=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Sm=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ya(r.mutation,i,ni.empty(),Lt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ge()){let i=ri();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=ha();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=ri();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ge()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,r,i){let s=Ar(),o=ga(),c=function(){return ga()}();return t.forEach((u,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Ms)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),ya(f.mutation,d,f.mutation.getFieldMask(),Lt.now())):o.set(d.key,ni.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,f)=>o.set(d,f)),t.forEach((d,f)=>{var g;return c.set(d,new Cm(f,(g=o.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){let r=ga(),i=new Fe((o,c)=>o-c),s=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let c of o)c.keys().forEach(u=>{let d=t.get(u);if(d===null)return;let f=r.get(u)||ni.empty();f=c.applyToLocalView(d,f),r.set(u,f);let g=(i.get(c.batchId)||ge()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,f=u.value,g=Ab();f.forEach(_=>{if(!s.has(_)){let I=Mb(t.get(_),r.get(_));I!==null&&g.set(_,I),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):x.resolve(ri()),c=-1,u=s;return o.next(d=>x.forEach(d,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,ge())).next(f=>({batchId:c,changes:EL(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(r=>{let i=ha();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=ha();return this.indexManager.getCollectionParents(e,s).next(c=>x.forEach(c,u=>{let d=function(g,_){return new As(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,d)=>{let f=d.getKey();o.get(f)===null&&(o=o.insert(f,Yt.newInvalidDocument(f)))});let c=ha();return o.forEach((u,d)=>{let f=s.get(u);f!==void 0&&ya(f.mutation,d,ni.empty(),Lt.now()),jl(t,d)&&(c=c.insert(u,d))}),c})}};var Am=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return x.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Is(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:YL(i.bundledQuery),readTime:Is(i.readTime)}}(t)),x.resolve()}};var Rm=class{constructor(){this.overlays=new Fe(K.comparator),this.Ir=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ri();return x.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=ri(),s=t.length+1,o=new K(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Fe((d,f)=>d-f),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=ri(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=ri(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return x.resolve(c)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new gm(t,r));let s=this.Ir.get(t);s===void 0&&(s=ge(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var Nm=class{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var Sa=class{constructor(){this.Tr=new at(je.Er),this.dr=new at(je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new je(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new je(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new K(new ke([])),r=new je(t,e),i=new je(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new K(new ke([])),r=new je(t,e),i=new je(t,e+1),s=ge();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new je(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},je=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return K.comparator(e.key,t.key)||Ie(e.wr,t.wr)}static Ar(e,t){return Ie(e.wr,t.wr)||K.comparator(e.key,t.key)}};var xm=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new at(je.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new pm(s,t,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new je(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,t){return x.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new je(t,0),i=new je(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new at(Ie);return t.forEach(i=>{let s=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;K.isDocumentKey(s)||(s=s.child(""));let o=new je(new K(s),0),c=new at(Ie);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.wr)),!0)},o),x.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Le(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(t.mutations,i=>{let s=new je(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new je(t,0),i=this.br.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Mm=class{constructor(e){this.Mr=e,this.docs=function(){return new Fe(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(t))}getEntries(e,t){let r=Ar();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Yt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ar(),o=t.path,c=new K(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||sL(iL(f),r)<=0||(i.has(f.key)||jl(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ne()}Or(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Pm(this)}getSize(e){return x.resolve(this.size)}},Pm=class extends bm{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var Om=class{constructor(e){this.persistence=e,this.Nr=new Sr(t=>wy(t),Ey),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Sa,this.targetCount=0,this.kr=Ca.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),x.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Ca(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.Kn(t),x.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.Br.containsKey(t))}};var km=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new yb(0),this.Kr=!1,this.Kr=!0,this.$r=new Nm,this.referenceDelegate=e(this),this.Ur=new Om(this),this.indexManager=new Tm,this.remoteDocumentCache=function(i){return new Mm(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Em(t),this.Gr=new Am(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new xm(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){j("MemoryPersistence","Starting transaction:",e);let i=new Lm(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},Lm=class extends Zg{constructor(e){super(),this.currentSequenceNumber=e}},Fm=class n{constructor(e){this.persistence=e,this.Jr=new Sa,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),x.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=K.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,ie.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return x.or([()=>x.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var Vm=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ge(),i=ge();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var Um=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var jm=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return JT()?8:aL(Ct())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Um;return this.Xi(e,t,o).next(c=>{if(s.result=c,this.zi)return this.es(e,t,o,c.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(da()<=le.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",gs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(da()<=le.DEBUG&&j("QueryEngine","Query:",gs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(da()<=le.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",gs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pn(t))):x.resolve())}Yi(e,t){if(qD(t))return x.resolve(null);let r=pn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=hm(t,null,"F"),r=pn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ge(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(t,c);return this.ns(t,d,o,u.readTime)?this.Yi(e,hm(t,null,"F")):this.rs(e,d,t,u)}))})))}Zi(e,t,r,i){return qD(t)||i.isEqual(ie.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?x.resolve(null):(da()<=le.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gs(t)),this.rs(e,o,t,rL(i,-1)).next(c=>c))})}ts(e,t){let r=new at(Cb(e));return t.forEach((i,s)=>{jl(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return da()<=le.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",gs(t)),this.Ji.getDocumentsMatchingQuery(e,t,ai.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Bm=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Fe(Ie),this._s=new Sr(s=>wy(s),Ey),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sm(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function JL(n,e,t,r){return new Bm(n,e,t,r)}function Bb(n,e){return S(this,null,function*(){let t=pe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=ge();for(let d of i){o.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}for(let d of s){c.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:c}))})})})}function $b(n){let e=pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function ZL(n,e){let t=pe(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let c=[];e.targetChanges.forEach((f,g)=>{let _=i.get(g);if(!_)return;c.push(t.Ur.removeMatchingKeys(s,f.removedDocuments,g).next(()=>t.Ur.addMatchingKeys(s,f.addedDocuments,g)));let I=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?I=I.withResumeToken(ct.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):f.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(f.resumeToken,r)),i=i.insert(g,I),function(N,R,F){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(_,I,f)&&c.push(t.Ur.updateTargetData(s,I))});let u=Ar(),d=ge();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(XL(s,o,e.documentUpdates).next(f=>{u=f.Ps,d=f.Is})),!r.isEqual(ie.min())){let f=t.Ur.getLastRemoteSnapshotVersion(s).next(g=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(f)}return x.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(t.os=i,s))}function XL(n,e,t){let r=ge(),i=ge();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ar();return t.forEach((c,u)=>{let d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):j("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function eF(n,e){let t=pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new ba(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function $m(n,e,t){return S(this,null,function*(){let r=pe(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ra(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function nb(n,e,t){let r=pe(n),i=ie.min(),s=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,f){let g=pe(u),_=g._s.get(f);return _!==void 0?x.resolve(g.os.get(_)):g.Ur.getTargetData(d,f)}(r,o,pn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:ie.min(),t?s:ge())).next(c=>(tF(r,_L(e),c),{documents:c,Ts:s})))}function tF(n,e,t){let r=n.us.get(e)||ie.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var Tl=class{constructor(){this.activeTargetIds=bL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var zm=class{constructor(){this.so=new Tl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Tl,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Hm=class{_o(e){}shutdown(){}};var Dl=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var al=null;function Bg(){return al===null?al=function(){return 268435456+Math.round(2147483648*Math.random())}():al++,"0x"+al.toString(16)}var nF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var qm=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ot="WebChannelConnection",Gm=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let c=Bg(),u=this.xo(t,r.toUriEncodedString());j("RestConnection",`Sending RPC '${t}' ${c}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(t,u,d,i).then(f=>(j("RestConnection",`Received RPC '${t}' ${c}: `,f),f),f=>{throw Es("RestConnection",`RPC '${t}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(t,r,i,s,o,c){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ks}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=nF[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=Bg();return new Promise((o,c)=>{let u=new Og;u.setWithCredentials(!0),u.listenOnce(kg.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case la.NO_ERROR:let f=u.getResponseJson();j(ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case la.TIMEOUT:j(ot,`RPC '${e}' ${s} timed out`),c(new $(k.DEADLINE_EXCEEDED,"Request time out"));break;case la.HTTP_ERROR:let g=u.getStatus();if(j(ot,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let A=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(F)>=0?F:k.UNKNOWN}(I.status);c(new $(A,I.message))}else c(new $(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new $(k.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{j(ot,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);j(ot,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}Bo(e,t,r){let i=Bg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Vg(),c=Fg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=s.join("");j(ot,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),_=!1,I=!1,A=new qm({Io:R=>{I?j(ot,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(_||(j(ot,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),j(ot,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},To:()=>g.close()}),N=(R,F,H)=>{R.listen(F,V=>{try{H(V)}catch(X){setTimeout(()=>{throw X},0)}})};return N(g,ps.EventType.OPEN,()=>{I||(j(ot,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),N(g,ps.EventType.CLOSE,()=>{I||(I=!0,j(ot,`RPC '${e}' stream ${i} transport closed`),A.So())}),N(g,ps.EventType.ERROR,R=>{I||(I=!0,Es(ot,`RPC '${e}' stream ${i} transport errored:`,R),A.So(new $(k.UNAVAILABLE,"The operation could not be completed")))}),N(g,ps.EventType.MESSAGE,R=>{var F;if(!I){let H=R.data[0];Le(!!H);let V=H,X=V.error||((F=V[0])===null||F===void 0?void 0:F.error);if(X){j(ot,`RPC '${e}' stream ${i} received error:`,X);let we=X.status,Q=function(y){let E=Ue[y];if(E!==void 0)return Ob(E)}(we),w=X.message;Q===void 0&&(Q=k.INTERNAL,w="Unknown error status: "+we+" with message "+X.message),I=!0,A.So(new $(Q,w)),g.close()}else j(ot,`RPC '${e}' stream ${i} received:`,H),A.bo(H)}}),N(c,Lg.STAT_EVENT,R=>{R.stat===sl.PROXY?j(ot,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===sl.NOPROXY&&j(ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function $g(){return typeof document<"u"?document:null}function zb(n){return new _m(n,!0)}var bl=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Wm=class{constructor(e,t,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new bl(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(zn(t.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new $(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Km=class extends Wm{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=$L(this.serializer,e),r=function(s){if(!("targetChange"in s))return ie.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?Is(o.readTime):ie.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=tb(this.serializer),t.addTarget=function(s,o){let c,u=o.target;if(c=dm(u)?{documents:zL(s,u)}:{query:HL(s,u)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=UL(s,o.resumeToken);let d=Im(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(ie.min())>0){c.readTime=VL(s,o.snapshotVersion.toTimestamp());let d=Im(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);let r=GL(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=tb(this.serializer),t.removeTarget=e,this.a_(t)}};var Qm=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,wm(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(k.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,wm(t,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(k.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Ym=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zn(t),this.D_=!1):j("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Jm=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>S(this,null,function*(){xa(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let d=pe(u);d.L_.add(4),yield Na(d),d.q_.set("Unknown"),d.L_.delete(4),yield Bl(d)})}(this))}))}),this.q_=new Ym(r,i)}};function Bl(n){return S(this,null,function*(){if(xa(n))for(let e of n.B_)yield e(!0)})}function Na(n){return S(this,null,function*(){for(let e of n.B_)yield e(!1)})}function Hb(n,e){let t=pe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Sy(t)?Cy(t):Ls(t).r_()&&by(t,e))}function Dy(n,e){let t=pe(n),r=Ls(t);t.N_.delete(e),r.r_()&&qb(t,e),t.N_.size===0&&(r.r_()?r.o_():xa(t)&&t.q_.set("Unknown"))}function by(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ls(n).A_(e)}function qb(n,e){n.Q_.xe(e),Ls(n).R_(e)}function Cy(n){n.Q_=new vm({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ls(n).start(),n.q_.v_()}function Sy(n){return xa(n)&&!Ls(n).n_()&&n.N_.size>0}function xa(n){return pe(n).L_.size===0}function Gb(n){n.Q_=void 0}function rF(n){return S(this,null,function*(){n.q_.set("Online")})}function iF(n){return S(this,null,function*(){n.N_.forEach((e,t)=>{by(n,e)})})}function sF(n,e){return S(this,null,function*(){Gb(n),Sy(n)?(n.q_.M_(e),Cy(n)):n.q_.set("Unknown")})}function oF(n,e,t){return S(this,null,function*(){if(n.q_.set("Online"),e instanceof Il&&e.state===2&&e.cause)try{yield function(i,s){return S(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})}(n,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield rb(n,r)}else if(e instanceof _s?n.Q_.Ke(e):e instanceof _l?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ie.min()))try{let r=yield $b(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let f=s.N_.get(d);f&&s.N_.set(d,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,d)=>{let f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(ct.EMPTY_BYTE_STRING,f.snapshotVersion)),qb(s,u);let g=new ba(f.target,u,d,f.sequenceNumber);by(s,g)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield rb(n,r)}})}function rb(n,e,t){return S(this,null,function*(){if(!Ra(e))throw e;n.L_.add(1),yield Na(n),n.q_.set("Offline"),t||(t=()=>$b(n.localStore)),n.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Bl(n)}))})}function ib(n,e){return S(this,null,function*(){let t=pe(n);t.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=xa(t);t.L_.add(3),yield Na(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Bl(t)})}function aF(n,e){return S(this,null,function*(){let t=pe(n);e?(t.L_.delete(2),yield Bl(t)):e||(t.L_.add(2),yield Na(t),t.q_.set("Unknown"))})}function Ls(n){return n.K_||(n.K_=function(t,r,i){let s=pe(t);return s.w_(),new Km(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:rF.bind(null,n),Ro:iF.bind(null,n),mo:sF.bind(null,n),d_:oF.bind(null,n)}),n.B_.push(e=>S(this,null,function*(){e?(n.K_.s_(),Sy(n)?Cy(n):n.q_.set("Unknown")):(yield n.K_.stop(),Gb(n))}))),n.K_}var Zm=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,c=new n(e,t,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Wb(n,e){if(zn("AsyncQueue",`${e}: ${n}`),Ra(n))return new $(k.UNAVAILABLE,`${e}: ${n}`);throw n}var Cl=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||K.comparator(t.key,r.key):(t,r)=>K.comparator(t.key,r.key),this.keyedMap=ha(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Sl=class{constructor(){this.W_=new Fe(K.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Ps=class n{constructor(e,t,r,i,s,o,c,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new n(e,t,Cl.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ul(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Xm=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},ey=class{constructor(){this.queries=sb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=pe(t),s=i.queries;i.queries=sb(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new $(k.ABORTED,"Firestore shutting down"))}};function sb(){return new Sr(n=>bb(n),Ul)}function cF(n,e){return S(this,null,function*(){let t=pe(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Xm,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let c=Wb(o,`Initialization of query '${gs(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&Ay(t)})}function uF(n,e){return S(this,null,function*(){let t=pe(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function lF(n,e){let t=pe(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&Ay(t)}function dF(n,e,t){let r=pe(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function Ay(n){n.Y_.forEach(e=>{e.next()})}var ty,ob;(ob=ty||(ty={})).ea="default",ob.Cache="cache";var ny=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ps(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ty.Cache}};var Al=class{constructor(e){this.key=e}},Rl=class{constructor(e){this.key=e}},ry=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ge(),this.mutatedKeys=ge(),this.Aa=Cb(e),this.Ra=new Cl(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Sl,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{let _=i.get(f),I=jl(this.query,g)?g:null,A=!!_&&this.mutatedKeys.has(_.key),N=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),R=!1;_&&I?_.data.isEqual(I.data)?A!==N&&(r.track({type:3,doc:I}),R=!0):this.ga(_,I)||(r.track({type:2,doc:I}),R=!0,(u&&this.Aa(I,u)>0||d&&this.Aa(I,d)<0)&&(c=!0)):!_&&I?(r.track({type:0,doc:I}),R=!0):_&&!I&&(r.track({type:1,doc:_}),R=!0,(u||d)&&(c=!0)),R&&(I?(o=o.add(I),s=N?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((f,g)=>function(I,A){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return N(I)-N(A)}(f.type,g.type)||this.Aa(f.doc,g.doc)),this.pa(r),i=i!=null&&i;let c=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new Ps(this.query,e.Ra,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Sl,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ge(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Rl(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Al(r))}),t}ba(e){this.Ta=e.Ts,this.da=ge();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ps.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},iy=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},sy=class{constructor(e){this.key=e,this.va=!1}},oy=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Sr(c=>bb(c),Ul),this.Ma=new Map,this.xa=new Set,this.Oa=new Fe(K.comparator),this.Na=new Map,this.La=new Sa,this.Ba={},this.ka=new Map,this.qa=Ca.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function hF(n,e,t=!0){return S(this,null,function*(){let r=Zb(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield Kb(r,e,t,!0),i})}function fF(n,e){return S(this,null,function*(){let t=Zb(n);yield Kb(t,e,!0,!1)})}function Kb(n,e,t,r){return S(this,null,function*(){let i=yield eF(n.localStore,pn(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),c;return r&&(c=yield pF(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&Hb(n.remoteStore,i),c})}function pF(n,e,t,r,i){return S(this,null,function*(){n.Ka=(g,_,I)=>function(N,R,F,H){return S(this,null,function*(){let V=R.view.ma(F);V.ns&&(V=yield nb(N.localStore,R.query,!1).then(({documents:w})=>R.view.ma(w,V)));let X=H&&H.targetChanges.get(R.targetId),we=H&&H.targetMismatches.get(R.targetId)!=null,Q=R.view.applyChanges(V,N.isPrimaryClient,X,we);return cb(N,R.targetId,Q.wa),Q.snapshot})}(n,g,_,I);let s=yield nb(n.localStore,e,!0),o=new ry(e,s.Ts),c=o.ma(s.documents),u=Da.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=o.applyChanges(c,n.isPrimaryClient,u);cb(n,t,d.wa);let f=new iy(e,t,o);return n.Fa.set(e,f),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot})}function gF(n,e,t){return S(this,null,function*(){let r=pe(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Ul(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield $m(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Dy(r.remoteStore,i.targetId),ay(r,i.targetId)}).catch(yy))):(ay(r,i.targetId),yield $m(r.localStore,i.targetId,!0))})}function mF(n,e){return S(this,null,function*(){let t=pe(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Dy(t.remoteStore,r.targetId))})}function Qb(n,e){return S(this,null,function*(){let t=pe(n);try{let r=yield ZL(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Le(o.va):i.removedDocuments.size>0&&(Le(o.va),o.va=!1))}),yield Jb(t,r,e)}catch(r){yield yy(r)}})}function ab(n,e,t){let r=pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=pe(o);u.onlineState=c;let d=!1;u.queries.forEach((f,g)=>{for(let _ of g.j_)_.Z_(c)&&(d=!0)}),d&&Ay(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yF(n,e,t){return S(this,null,function*(){let r=pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Fe(K.comparator);o=o.insert(s,Yt.newNoDocument(s,ie.min()));let c=ge().add(s),u=new vl(ie.min(),new Map,new Fe(Ie),o,c);yield Qb(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Ry(r)}else yield $m(r.localStore,e,!1).then(()=>ay(r,e,t)).catch(yy)})}function ay(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||Yb(n,r)})}function Yb(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Dy(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Ry(n))}function cb(n,e,t){for(let r of t)r instanceof Al?(n.La.addReference(r.key,e),vF(n,r)):r instanceof Rl?(j("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||Yb(n,r.key)):ne()}function vF(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(j("SyncEngine","New document in limbo: "+t),n.xa.add(r),Ry(n))}function Ry(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new K(ke.fromString(e)),r=n.qa.next();n.Na.set(r,new sy(t)),n.Oa=n.Oa.insert(t,r),Hb(n.remoteStore,new ba(pn(Ty(t.path)),r,"TargetPurposeLimboResolution",yb.oe))}}function Jb(n,e,t){return S(this,null,function*(){let r=pe(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,t).then(d=>{var f;if((d||t)&&r.isPrimaryClient){let g=d?!d.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=Vm.Wi(u.targetId,d);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,d){return S(this,null,function*(){let f=pe(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>x.forEach(d,_=>x.forEach(_.$i,I=>f.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>x.forEach(_.Ui,I=>f.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!Ra(g))throw g;j("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let I=f.os.get(_),A=I.snapshotVersion,N=I.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(_,N)}}})}(r.localStore,s))})}function _F(n,e){return S(this,null,function*(){let t=pe(n);if(!t.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield Bb(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new $(k.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Jb(t,r.hs)}})}function IF(n,e){let t=pe(n),r=t.Na.get(e);if(r&&r.va)return ge().add(r.key);{let i=ge(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let c=t.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function Zb(n){let e=pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yF.bind(null,e),e.Ca.d_=lF.bind(null,e.eventManager),e.Ca.$a=dF.bind(null,e.eventManager),e}var ub=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return S(this,null,function*(){this.serializer=zb(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return JL(this.persistence,new jm,t.initialUser,this.serializer)}Ga(t){return new km(Fm.Zr,this.serializer)}Wa(t){return new zm}terminate(){return S(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var wF=(()=>{class n{initialize(t,r){return S(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ab(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_F.bind(null,this.syncEngine),yield aF(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new ey}()}createDatastore(t){let r=zb(t.databaseInfo.databaseId),i=function(o){return new Gm(o)}(t.databaseInfo);return function(o,c,u,d){return new Qm(o,c,u,d)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,c,u){return new Jm(i,s,o,c,u)}(this.localStore,this.datastore,t.asyncQueue,r=>ab(this.syncEngine,r,0),function(){return Dl.D()?new Dl:new Hm}())}createSyncEngine(t,r){return function(s,o,c,u,d,f,g){let _=new oy(s,o,c,u,d,f);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var t,r;yield function(s){return S(this,null,function*(){let o=pe(s);j("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Na(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var cy=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):zn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var uy=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qe.UNAUTHENTICATED,this.clientId=dl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>S(this,null,function*(){j("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(j("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Wb(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function zg(n,e){return S(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield Bb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function lb(n,e){return S(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield EF(n);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>ib(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>ib(e.remoteStore,i)),n._onlineComponents=e})}function EF(n){return S(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zg(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Es("Error using user provided cache. Falling back to memory cache: "+t),yield zg(n,new ub)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield zg(n,new ub);return n._offlineComponents})}function TF(n){return S(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield lb(n,n._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield lb(n,new wF))),n._onlineComponents})}function db(n){return S(this,null,function*(){let e=yield TF(n),t=e.eventManager;return t.onListen=hF.bind(null,e.syncEngine),t.onUnlisten=gF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=fF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mF.bind(null,e.syncEngine),t})}function Xb(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var hb=new Map;function e0(n,e,t){if(!t)throw new $(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DF(n,e,t,r){if(e===!0&&r===!0)throw new $(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fb(n){if(!K.isDocumentKey(n))throw new $(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pb(n){if(K.isDocumentKey(n))throw new $(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bF(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ne()}function ul(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=bF(n);throw new $(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Nl=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Os=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Hg;switch(r.type){case"firstParty":return new Kg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=hb.get(t);r&&(j("ComponentProvider","Removing Datastore"),hb.delete(t),r.terminate())}(this),Promise.resolve()}};function t0(n,e,t,r={}){var i;let s=(n=ul(n,Os))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=qe.MOCK_USER;else{c=GT(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new $(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new qe(d)}n._authCredentials=new qg(new ll(c,u))}}var xl=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},gn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},br=class n extends xl{constructor(e,t,r){super(e,t,Ty(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function n0(n,e,...t){if(n=Vn(n),e0("collection","path",e),n instanceof Os){let r=ke.fromString(e,...t);return pb(r),new br(n,null,r)}{if(!(n instanceof gn||n instanceof br))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return pb(r),new br(n.firestore,null,r)}}function r0(n,e,...t){if(n=Vn(n),arguments.length===1&&(e=dl.newId()),e0("doc","path",e),n instanceof Os){let r=ke.fromString(e,...t);return fb(r),new gn(n,null,new K(r))}{if(!(n instanceof gn||n instanceof br))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return fb(r),new gn(n.firestore,n instanceof br?n.converter:null,new K(r))}}var Ml=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new bl(this,"async_queue_retry"),this.Vu=()=>{let r=$g();r&&j("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=$g();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=$g();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Dr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return S(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ra(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw zn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=Zm.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ne()}verifyOperationInProgress(){}wu(){return S(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function gb(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var Aa=class extends Os{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ml,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ml(e),this._firestoreClient=void 0,yield e}})}};function i0(n,e){let t=typeof n=="object"?n:ea(),r=typeof n=="string"?n:e||"(default)",i=pg(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=HT("firestore");s&&t0(i,...s)}return i}function CF(n){if(n._terminated)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||SF(n),n._firestoreClient}function SF(n){var e,t,r;let i=n._freezeSettings(),s=function(c,u,d,f){return new Xg(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Xb(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new uy(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(n._componentsProvider))}var ly=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ct.fromBase64String(e))}catch(t){throw new $(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Pl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var dy=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}};var hy=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var AF=new RegExp("[~\\*/\\[\\]]");function RF(n,e,t){if(e.search(AF)>=0)throw mb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pl(...e.split("."))._internalPath}catch{throw mb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mb(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new $(k.INVALID_ARGUMENT,c+n+u)}var Ol=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new fy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(s0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},fy=class extends Ol{data(){return super.data()}};function s0(n,e){return typeof e=="string"?RF(n,e):e instanceof Pl?e._internalPath:e._delegate._internalPath}function NF(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var py=class{convertValue(e,t="none"){switch(ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Vl(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Re(o.doubleValue));return new hy(s)}convertGeoPoint(e){return new dy(Re(e.latitude),Re(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=_y(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(va(e));default:return null}}convertTimestamp(e){let t=Hn(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ke.fromString(e);Le(jb(r));let i=new ml(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(t)||zn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};var si=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},kl=class extends Ol{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ws(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(s0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ws=class extends kl{data(e={}){return super.data(e)}},gy=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new si(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ws(this._firestore,this._userDataWriter,r.key,r,new si(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new ws(i._firestore,i._userDataWriter,c.doc.key,c.doc,new si(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new ws(i._firestore,i._userDataWriter,c.doc.key,c.doc,new si(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,f=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:xF(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function xF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}var Ll=class extends py{constructor(e){super(),this.firestore=e}convertBytes(e){return new ly(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,t)}};function Ny(n,...e){var t,r,i;n=Vn(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||gb(e[o])||(s=e[o],o++);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(gb(e[o])){let g=e[o];e[o]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[o+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[o+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,d,f;if(n instanceof gn)d=ul(n.firestore,Aa),f=Ty(n._key.path),u={next:g=>{e[o]&&e[o](MF(d,n,g))},error:e[o+1],complete:e[o+2]};else{let g=ul(n,xl);d=ul(g.firestore,Aa),f=g._query;let _=new Ll(d);u={next:I=>{e[o]&&e[o](new gy(d,_,g,I))},error:e[o+1],complete:e[o+2]},NF(n._query)}return function(_,I,A,N){let R=new cy(N),F=new ny(I,R,A);return _.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return cF(yield db(_),F)})),()=>{R.Za(),_.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return uF(yield db(_),F)}))}}(CF(d),f,c,u)}function MF(n,e,t){let r=t.docs.get(e._key),i=new Ll(n);return new kl(n,i,e._key,r,new si(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ks=i})(ds),wr(new kt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new Aa(new Gg(r.getProvider("auth-internal")),new Yg(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new $(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ml(d.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),He(LD,"4.7.3",e),He(LD,"4.7.3","esm2017")})();var $l=function(){return $l=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},$l.apply(this,arguments)};var kF={includeMetadataChanges:!1};function xy(n,e){return e===void 0&&(e=kF),new ue(function(t){var r=Ny(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function o0(n){return xy(n,{includeMetadataChanges:!0})}function a0(n,e){return e===void 0&&(e={}),o0(n).pipe(Z(function(t){return My(t,e)}))}function My(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:$l($l({},r),(t={},t[e.idField]=n.id,t))}function c0(n){return xy(n,{includeMetadataChanges:!0}).pipe(Z(function(e){return e.docs}))}function u0(n,e){return e===void 0&&(e={}),c0(n).pipe(Z(function(t){return t.map(function(r){return My(r,e)})}))}var ui=class{constructor(e){return e}},l0="firestore",Py=class{constructor(){return na(l0)}};var Oy=new q("angularfire2.firestore-instances");function LF(n,e){let t=yg(l0,n,e);return t&&new ui(t)}function FF(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ui(r)}}var VF={provide:Py,deps:[[new Nt,Oy]]},UF={provide:ui,useFactory:LF,deps:[[new Nt,Oy],Xr]};function d0(n,...e){return He("angularfire",fs.full,"fst"),on([UF,VF,{provide:Oy,useFactory:FF(n),multi:!0,deps:[Te,$t,ra,ia,[new Nt,rl],[new Nt,ta],...e]}])}var h0=jn(u0,!0);var f0=jn(a0,!0);var p0=jn(n0,!0);var g0=jn(r0,!0);var m0=jn(i0,!0);var vn=class n{constructor(e){this.fs=e;this.cargarProductos().subscribe(t=>{this.productos=t,this.cargando=!1})}cargando=!0;productos=[];productosFiltrado=[];cargarProductos(){let e=p0(this.fs,"productos_idx");return h0(e)}getProducto(e){return f0(g0(this.fs,`productos/${e}`),{idField:"id"})}buscarProductos(e){console.log("Buscando producto"),this.productos.length===0?this.cargarProductos().subscribe(()=>{this.filtrarProductos(e)}):this.filtrarProductos(e)}filtrarProductos(e){this.productosFiltrado=[],this.productos.forEach(t=>{(t.categoria.indexOf(e)>=0||t.titulo.toLowerCase().indexOf(e.toLowerCase())>=0)&&this.productosFiltrado.push(t)})}static \u0275fac=function(t){return new(t||n)(G(ui))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var y0=n=>["/item",n];function BF(n,e){n&1&&(M(0,"div",4)(1,"h2"),W(2,"Cargando"),L(),M(3,"div",5),Mt(),M(4,"svg",6),ve(5,"path",7),M(6,"path",8),ve(7,"animateTransform",9),L()()(),Nn(),M(8,"p"),W(9,"Espere, por favor."),L()())}function $F(n,e){if(n&1&&(M(0,"a",12),ve(1,"img",13),M(2,"div",14)(3,"h2"),W(4),L(),M(5,"p"),W(6),L()()()),n&2){let t=e.$implicit;Pe("routerLink",hr(6,y0,t.cod)),te(),Tt("src","assets/productos/",t.url,".jpg",Ye),te(),Pe("routerLink",hr(8,y0,t.cod)),te(2),Oe(t.titulo),te(2),Oe(t.categoria)}}function zF(n,e){if(n&1&&(M(0,"div",10),Gt(1,$F,7,10,"a",11),L()),n&2){let t=Gi();te(),Pe("ngForOf",t.productosService.productos)}}var Hl=class n{constructor(e){this.productosService=e}static \u0275fac=function(t){return new(t||n)(ce(vn))};static \u0275cmp=it({type:n,selectors:[["app-portafolio"]],standalone:!0,features:[st],decls:4,vars:2,consts:[[1,"ae-container-fluid","rk-main"],[1,"ae-container-fluid","ae-container-fluid--inner","rk-portfolio"],["align","center",4,"ngIf"],["class","ae-masonry ae-masonry-md-2 ae-masonry-xl-4",4,"ngIf"],["align","center"],["title","0",1,"loader","loader--style1"],["version","1.1","id","loader-1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","40px","height","40px","viewBox","0 0 40 40","enable-background","new 0 0 40 40",0,"xml","space","preserve"],["opacity","0.2","fill","#000","d",`M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946
            s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634
            c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z`],["fill","#000","d",`M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0
            C22.32,8.481,24.301,9.057,26.013,10.047z`],["attributeType","xml","attributeName","transform","type","rotate","from","0 20 20","to","360 20 20","dur","0.5s","repeatCount","indefinite"],[1,"ae-masonry","ae-masonry-md-2","ae-masonry-xl-4"],["class","animated fadeIn rk-item ae-masonry__item",3,"routerLink",4,"ngFor","ngForOf"],[1,"animated","fadeIn","rk-item","ae-masonry__item",3,"routerLink"],["alt","",3,"src"],[1,"item-meta",3,"routerLink"]],template:function(t,r){t&1&&(M(0,"section",0)(1,"section",1),Gt(2,BF,10,0,"div",2)(3,zF,2,1,"div",3),L()()),t&2&&(te(2),Pe("ngIf",r.productosService.cargando),te(),Pe("ngIf",!r.productosService.cargando))},dependencies:[ln,Mn,Yi,Ji]})};var _n=class n{constructor(e){this.http=e;this.cargarInfo(),this.cargarEquipo()}info={};cargada=!1;equipo=[];cargarInfo(){this.http.get("assets/data/data-pagina.json").subscribe(e=>{this.cargada=!0,this.info=e})}cargarEquipo(){this.http.get("assets/data/equipo.json").subscribe(e=>{this.equipo=e})}static \u0275fac=function(t){return new(t||n)(G(Xf))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function HF(n,e){if(n&1&&(M(0,"div",13),ve(1,"img",14),M(2,"h5",15),W(3),L(),M(4,"p",16),W(5),L(),M(6,"p",17),W(7),L(),M(8,"a",18),W(9),L()()),n&2){let t=e.$implicit;te(),Tt("src","assets/img/",t.foto,"",Ye),te(2),Oe(t.nombre),te(2),Oe(t.subtitulo),te(2),Oe(t.frase),te(),Tt("href","https://twitter.com/",t.twitter,"",Ye),te(),Oe(t.twitter)}}var Gl=class n{constructor(e){this.infoService=e}static \u0275fac=function(t){return new(t||n)(ce(_n))};static \u0275cmp=it({type:n,selectors:[["app-about"]],standalone:!0,features:[st],decls:34,vars:1,consts:[[1,"ae-grid","au-xs-ta-center","au-mb-4"],["class","animated fadeIn ae-grid__item item-lg-4 ae-kappa au-mb-3",4,"ngFor","ngForOf"],[1,"ae-grid","au-pt-2"],[1,"ae-grid__item","item-lg-8","item-lg--offset-2"],[1,"ae-u-bolder"],[1,"ae-grid","ae-grid--alt","au-xs-ptp-1"],[1,"ae-grid__item--alt","item-lg-4"],[1,"ae-u-boldest"],[1,"au-lh-3"],[1,"au-flex","au-pt-4","group-buttons"],["href","portfolio.html",1,"au-mt-4","arrow-button","arrow-button--right","arrow-button--out"],[1,"arrow-cont"],[0,"xlink","href","assets/img/symbols.svg#arrow"],[1,"animated","fadeIn","ae-grid__item","item-lg-4","ae-kappa","au-mb-3"],["alt","",1,"au-mb-3",3,"src"],[1,"ae-u-bolder","au-mt-2"],[1,"ae-u-bolder","au-mb-3"],[1,"au-lg-ta-left","au-mb-3","au-pl-4","au-pr-4"],[1,"ae-u-bolder","au-underline",3,"href"]],template:function(t,r){t&1&&(M(0,"div",0),Gt(1,HF,10,8,"div",1),L(),M(2,"div",2)(3,"div",3)(4,"h4",4),W(5,"Title example"),L(),M(6,"p"),W(7,"Totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur."),L()()(),M(8,"div",5)(9,"div",6)(10,"h6",7),W(11,"About Us"),L(),M(12,"p",8),W(13,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),L()(),M(14,"div",6)(15,"h6",7),W(16,"Our Mission"),L(),M(17,"p",8),W(18,"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. "),ve(19,"br"),W(20,"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),L()(),M(21,"div",6)(22,"h6",7),W(23,"Our Clients"),L(),M(24,"p",8),W(25,"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. "),L(),M(26,"p",8),W(27,"Nemo enim ipsam voluptatem quia voluptas"),L()()(),M(28,"p",9)(29,"a",10),W(30,"View Our Portfolio"),M(31,"span",11),Mt(),M(32,"svg"),ve(33,"use",12),L()()()()),t&2&&(te(),Pe("ngForOf",r.infoService.equipo))},dependencies:[Mn,Yi]})};var qF=n=>({"background-image":n});function GF(n,e){if(n&1&&(M(0,"section")(1,"header",1)(2,"div",2)(3,"h1",3),W(4),L(),M(5,"p",4),W(6),L()()(),M(7,"div",5)(8,"div",6)(9,"div",7)(10,"h2",8),W(11),L()(),M(12,"div",9)(13,"p",10)(14,"span",11),W(15,"Client: "),L(),M(16,"span",12),W(17,"Agency Design Studio"),L()(),M(18,"p",13)(19,"a",14),W(20,"www.agencydesign.com"),L()(),M(21,"p",15),W(22,"12 August, 2015"),L()()()(),M(23,"div",16)(24,"div",17)(25,"div",18)(26,"h4",12),W(27),L(),M(28,"p",19),W(29),L()(),M(30,"div",20),ve(31,"img",21),L()(),M(32,"div",22)(33,"div",23),ve(34,"img",21),L(),M(35,"div",24)(36,"p"),W(37),L(),M(38,"p",12),W(39),L()()()()()),n&2){let t=Gi();te(),Pe("ngStyle",hr(12,qF,"url(assets/productos/"+t.id+"/main.jpg)")),te(3),Oe(t.producto.producto),te(2),Oe(t.producto.categoria),te(5),Oe(t.producto.subtitulo1),te(16),Oe(t.producto.subtitulo1),te(2),Oe(t.producto.desc1),te(2),Tt("src","assets/productos/",t.id,"/pic-1.jpg",Ye),te(3),Tt("src","assets/productos/",t.id,"/pic-2.jpg",Ye),te(3),Oe(t.producto.desc2),te(2),Oe(t.producto.subtitulo2)}}var Wl=class n{constructor(e,t){this.route=e;this.productosService=t;e.params.subscribe(r=>{console.log("-----------------"),console.log(r.id),this.productosService.getProducto(r.id).subscribe(i=>{console.log(i),this.id=r.id,this.producto=i})})}producto;id;static \u0275fac=function(t){return new(t||n)(ce(Kt),ce(vn))};static \u0275cmp=it({type:n,selectors:[["app-item"]],standalone:!0,features:[st],decls:1,vars:1,consts:[[4,"ngIf"],[1,"rk-portfolio-cover","item-inside-1",3,"ngStyle"],[1,"item-inside__meta"],[1,"ae-u-bolder","rk-portfolio-title"],[1,"ae-theta","rk-portfolio-category"],[1,"ae-container-fluid"],[1,"ae-grid","ae-grid--collapse","rk-portfolio-info"],[1,"ae-grid__item","item-lg-8","item-sm--center","au-xs-ta-center","au-lg-ta-left"],[1,"rk-portfolio-inner-title"],[1,"ae-grid__item","item-lg-4","au-xs-ta-center","au-lg-ta-right","rk-portfolio-details"],[1,"rk-portfolio-inner-client"],[1,"ae-lambda"],[1,"ae-u-bolder"],[1,"au-underline","rk-portfolio-inner-website"],["href","#0",1,"ae-kappa"],[1,"ae-kappa","ae-u-bold","rk-portfolio-inner-date"],[1,"ae-container-fluid","ae-container-fluid--inner","rk-portfolio--inner"],[1,"ae-grid","ae-grid--collapse","au-xs-ptp-1"],[1,"ae-grid__item","item-lg-5","au-lg-ptp-1"],[1,"ae-eta"],[1,"ae-grid__item","item-lg-6","item-lg--offset-1"],["alt","Urku Portfolio",3,"src"],[1,"ae-grid","ae-grid--collapse"],[1,"ae-grid__item","item-lg-8"],[1,"ae-grid__item","item-lg-3","item-lg--offset-1","au-lg-ptp-1"]],template:function(t,r){t&1&&Gt(0,GF,40,14,"section",0),t&2&&Pe("ngIf",r.producto)},dependencies:[Mn,Ji,OE]})};var v0=n=>["/item",n];function WF(n,e){if(n&1&&(M(0,"a",3),ve(1,"img",4),M(2,"div",5)(3,"h2"),W(4),L(),M(5,"p"),W(6),L()()()),n&2){let t=e.$implicit;Pe("routerLink",hr(6,v0,t.cod)),te(),Tt("src","assets/productos/",t.url,".jpg",Ye),te(),Pe("routerLink",hr(8,v0,t.cod)),te(2),Oe(t.titulo),te(2),Oe(t.categoria)}}function KF(n,e){if(n&1&&(M(0,"div",1),Gt(1,WF,7,10,"a",2),L()),n&2){let t=Gi();te(),Pe("ngForOf",t.productosService.productosFiltrado)}}var Kl=class n{constructor(e,t){this.route=e;this.productosService=t;this.route.params.subscribe(r=>{console.log(r.termino),this.productosService.buscarProductos(r.termino)})}static \u0275fac=function(t){return new(t||n)(ce(Kt),ce(vn))};static \u0275cmp=it({type:n,selectors:[["app-search"]],standalone:!0,features:[st],decls:1,vars:1,consts:[["class","ae-masonry ae-masonry-md-2 ae-masonry-xl-4",4,"ngIf"],[1,"ae-masonry","ae-masonry-md-2","ae-masonry-xl-4"],["class","animated fadeIn rk-item ae-masonry__item",3,"routerLink",4,"ngFor","ngForOf"],[1,"animated","fadeIn","rk-item","ae-masonry__item",3,"routerLink"],["alt","",3,"src"],[1,"item-meta",3,"routerLink"]],template:function(t,r){t&1&&Gt(0,KF,2,1,"div",0),t&2&&Pe("ngIf",!r.productosService.cargando)},dependencies:[ln,Mn,Yi,Ji]})};var _0=[{path:"home",component:Hl},{path:"about",component:Gl},{path:"item/:id",component:Wl},{path:"search/:termino",component:Kl},{path:"**",pathMatch:"full",redirectTo:"home"}];var QF={apiKey:"AIzaSyDlAOtTs8hvtcdKNvNpnBlUpG5I1SdNSwI",authDomain:"angular-html-91210.firebaseapp.com",projectId:"angular-html-91210",storageBucket:"angular-html-91210.firebasestorage.app",messagingSenderId:"781420200803",appId:"1:781420200803:web:31bcb8a451a69b3fcf4956"},I0={providers:[EE({eventCoalescing:!0}),VT(_0,UT()),GE(),pD(()=>gD(QF)),d0(()=>m0())]};var Ql=class n{constructor(e,t){this._servicio=e;this.router=t}buscarProducto(e){e.length<1||this.router.navigate(["/search",e])}static \u0275fac=function(t){return new(t||n)(ce(_n),ce(cs))};static \u0275cmp=it({type:n,selectors:[["app-header"]],standalone:!0,features:[st],decls:27,vars:1,consts:[["txtBuscar",""],[1,"ae-container-fluid","ae-container-fluid--full","rk-header"],["type","checkbox","id","mobile-menu",1,"rk-mobile-menu"],["for","mobile-menu"],[0,"xlink","href","assets/img/symbols.svg#bar"],[1,"ae-container-fluid","rk-topbar"],[1,"rk-logo"],["routerLink","home"],[1,"rk-navigation"],[1,"rk-menu"],["routerLinkActive","active",1,"rk-menu__item"],["routerLink","home",1,"rk-menu__link"],["routerLink","about",1,"rk-menu__link"],[1,"rk-search"],["type","text","placeholder","Buscar...","id","urku-search",1,"rk-search-field",3,"keyup.enter"],["for","urku-search"],[0,"xlink","href","assets/img/symbols.svg#icon-search"]],template:function(t,r){if(t&1){let i=dE();M(0,"header",1),ve(1,"input",2),M(2,"label",3),Mt(),M(3,"svg"),ve(4,"use",4),L(),M(5,"svg"),ve(6,"use",4),L(),M(7,"svg"),ve(8,"use",4),L()(),Nn(),M(9,"div",5)(10,"h1",6)(11,"a",7),W(12),L()(),M(13,"nav",8)(14,"ul",9)(15,"li",10)(16,"a",11),W(17,"Home"),L()(),M(18,"li",10)(19,"a",12),W(20,"About"),L()()(),M(21,"div",13)(22,"input",14,0),wo("keyup.enter",function(){BI(i);let o=gE(23);return $I(r.buscarProducto(o.value))}),L(),M(24,"label",15),Mt(),M(25,"svg"),ve(26,"use",16),L()()()()()()}t&2&&(te(12),Oe(r._servicio.info.titulo))},dependencies:[ln,FT]})};var Yl=class n{constructor(e){this._servicio=e}anio=new Date().getFullYear();static \u0275fac=function(t){return new(t||n)(ce(_n))};static \u0275cmp=it({type:n,selectors:[["app-footer"]],standalone:!0,features:[st],decls:43,vars:8,consts:[[1,"ae-container-fluid","rk-footer"],[1,"ae-grid","ae-grid--collapse"],[1,"ae-grid__item","item-lg-4","au-xs-ta-center","au-lg-ta-left"],[1,"rk-menu","rk-footer-menu"],[1,"rk-menu__item"],["routerLink","about",1,"rk-menu__link"],["href","documentation.html",1,"rk-menu__link"],["href","contact.html",1,"rk-menu__link"],[1,"rk-footer__text","rk-footer__copy"],[1,"ae-u-bold"],[1,"ae-u-bolder"],[1,"ae-grid__item","item-lg-4","au-xs-ta-center"],["target","_blank",1,"rk-social-btn",3,"href"],[0,"xlink","href","assets/img/symbols.svg#icon-facebook"],[0,"xlink","href","assets/img/symbols.svg#icon-twitter"],[0,"xlink","href","assets/img/symbols.svg#icon-pinterest"],[0,"xlink","href","assets/img/symbols.svg#icon-tumblr"],[1,"ae-grid__item","item-lg-4","au-xs-ta-center","au-lg-ta-right"],[1,"rk-footer__text","rk-footer__contact"],[1,"rk-dark-color",3,"href"],[1,"rk-footer__text","rk-footer__by"],["href","http://pixeden.com",1,"ae-u-bolder"]],template:function(t,r){t&1&&(M(0,"footer",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),W(6,"About"),L()(),M(7,"li",4)(8,"a",6),W(9,"Docs"),L()(),M(10,"li",4)(11,"a",7),W(12,"Contact"),L()()(),M(13,"p",8)(14,"span",9),W(15,"\xA9 "),L(),M(16,"span",10),W(17),L(),W(18,"All Right Reserved. "),L()(),M(19,"div",11)(20,"a",12),Mt(),M(21,"svg"),ve(22,"use",13),L()(),Nn(),M(23,"a",12),Mt(),M(24,"svg"),ve(25,"use",14),L()(),Nn(),M(26,"a",12),Mt(),M(27,"svg"),ve(28,"use",15),L()(),Nn(),M(29,"a",12),Mt(),M(30,"svg"),ve(31,"use",16),L()()(),Nn(),M(32,"div",17)(33,"p",18)(34,"span",9),W(35,"Email: "),L(),M(36,"span",10)(37,"a",19),W(38),L()()(),M(39,"p",20),W(40," Theme by "),M(41,"a",21),W(42,"Pixeden."),L()()()()()),t&2&&(te(17),Eo("",r.anio," AITOR PORTAFOLIO "),te(3),Pe("href",r._servicio.info.facebook,Ye),te(3),Pe("href",r._servicio.info.twitter,Ye),te(3),Pe("href",r._servicio.info.instagram,Ye),te(3),Pe("href",r._servicio.info.tumblr,Ye),te(8),Tt("href","mailTo:",r._servicio.info.email,"",Ye),te(),Eo(" ",r._servicio.info.email," "))},dependencies:[ln]})};var Jl=class n{constructor(e,t){this.infoPaginaService=e;this.productosService=t}title="portafolio";static \u0275fac=function(t){return new(t||n)(ce(_n),ce(vn))};static \u0275cmp=it({type:n,selectors:[["app-root"]],standalone:!0,features:[st],decls:4,vars:0,consts:[[1,"ae-container-fluid","rk-main"]],template:function(t,r){t&1&&(ve(0,"app-header"),M(1,"section",0),ve(2,"router-outlet"),L(),ve(3,"app-footer"))},dependencies:[jp,Ql,Yl]})};eT(Jl,I0).catch(n=>console.error(n));
